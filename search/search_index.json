{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Introdu\u00e7\u00e3o","text":""},{"location":"#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>Essa \u00e9 a documenta\u00e7\u00e3o para ajudar voc\u00ea integrar a sua aplica\u00e7\u00e3o, Windows ou Linux com o Pay Kit da Linx.</p> <p>Para que isso seja poss\u00edvel, n\u00f3s disponibilizamos um SDK (Software Development Kit), multiplataforma, que possibilita pagamentos convencionais de cr\u00e9dito, d\u00e9bito, voucher, frota, PBM'S atrav\u00e9s da sua aplica\u00e7\u00e3o, e ainda realizar pagamentos com PIX, QR e Split de Pagamentos.</p> <p>O desenvolvimento da solu\u00e7\u00e3o constitui um conjunto de servi\u00e7os e componentes para uma solu\u00e7\u00e3o completa de pagamento.</p> <p>O Pay Kit \u00e9 constru\u00eddo em C++ \u00e9 nativo Windows, mas para atender parceiros que utilizam Linux, temos uma solu\u00e7\u00e3o multiplataforma.</p> <p>Para entender a nossa documenta\u00e7\u00e3o, aqui est\u00e3o a defini\u00e7\u00e3o dos par\u00e2metros de fun\u00e7\u00f5es e campos de registros</p>"},{"location":"#convencoes-utilizadas-neste-manual","title":"Conven\u00e7\u00f5es utilizadas neste Manual","text":"<p>A descri\u00e7\u00e3o dos par\u00e2metros de fun\u00e7\u00f5es e campos de registros apresentados neste manual segue a conven\u00e7\u00e3o da tabela a seguir.</p> # Descri\u00e7\u00e3o Observa\u00e7\u00e3o <code>A</code> campo alfanum\u00e9rico completado com espa\u00e7os \u00e0 direita e preenchidocom espa\u00e7os, quando n\u00e3o informado <code>H</code> campo hexadecimal campo bin\u00e1rio <code>N</code> campo num\u00e9rico completado com zeros \u00e0 esquerda e preenchidocom zeros, quando n\u00e3o informado <code>I</code> valor inteiro retorno ou par\u00e2metro de fun\u00e7\u00e3o de valor inteiro (integer ) <code>P</code> ponteiro para caracter ponteiro para um array de caracteres (PChar) como par\u00e2metro de fun\u00e7\u00e3o"},{"location":"pages/FAQ/","title":"FAQ","text":""},{"location":"pages/FAQ/#perguntas-frequentes-e-respostas","title":"Perguntas Frequentes e Respostas","text":"<p>Abaixo voc\u00ea pode encontrar uma lista das perguntas mais comuns realizadas ao nosso time de homologa\u00e7\u00e3o.</p>"},{"location":"pages/FAQ/#1-esta-apresentando-erro-ao-baixar-certificado","title":"1. Est\u00e1 apresentando erro ao baixar certificado.","text":"<p>Executar a aplica\u00e7\u00e3o ClientCertificado.exe como administrador e verificar se o endere\u00e7o est\u00e1 correto.</p> <p>https://tef.linxsaas.com.br/certificados/Gerenciador_Certificado.cgi</p>"},{"location":"pages/FAQ/#2-ao-tentar-efetuar-a-transacao-esta-retornando-a-mensagem-t19-loja-nao-cadastrada","title":"2. Ao tentar efetuar a transa\u00e7\u00e3o est\u00e1 retornando a mensagem T19-Loja n\u00e3o cadastrada.","text":"<p>Verificar configura\u00e7\u00e3o dos dados da Loja, Empresa, CNPJ e endere\u00e7o de comunica\u00e7\u00e3o com o Linx TEF que devem estar de acordo com os dados passados informados na libera\u00e7\u00e3o do ambiente.</p>"},{"location":"pages/FAQ/#3-quais-transacoes-devo-desenvolver","title":"3. Quais transa\u00e7\u00f5es devo desenvolver?","text":"<p>As transa\u00e7\u00f5es b\u00e1sicas s\u00e3o Cr\u00e9dito, D\u00e9bito, Cancelamento e Reimpress\u00e3o. As demais devem ser avaliadas de acordo com os estabelecimentos que atendem,</p>"},{"location":"pages/FAQ/#4-podemos-efetuar-transacoes-digitadas","title":"4. Podemos efetuar transa\u00e7\u00f5es digitadas?","text":"<p>Somente as transa\u00e7\u00f5es de Cr\u00e9dito podem ser digitadas para as transa\u00e7\u00f5es de D\u00e9bito, Voucher ou Frota h\u00e1 necessidade de pin pad.</p>"},{"location":"pages/FAQ/#5-a-aplicacao-esta-apresentando-erro-ao-chamar-as-funcoes-tef","title":"5. A aplica\u00e7\u00e3o est\u00e1 apresentando erro ao chamar as fun\u00e7\u00f5es TEF","text":"<p>Verificar se existe o arquivo DPOSDRV.dll em outro local na m\u00e1quina que n\u00e3o seja no diret\u00f3rio BIN do client Paykit. Se houver ela deve ser deletada.</p>"},{"location":"pages/FAQ/#6-o-cartao-que-possuo-nao-esta-passando","title":"6. O cart\u00e3o que possuo n\u00e3o est\u00e1 passando","text":"<p>Tentar com outro cart\u00e3o e se ainda houver problemas entrar em contato para alteramos a inicializa\u00e7\u00e3o do simulador.</p>"},{"location":"pages/FAQ/#7-o-cupom-tef-nao-esta-sendo-gravado","title":"7. O cupom TEF n\u00e3o est\u00e1 sendo gravado.","text":"<p>Verificar se est\u00e1 efetuando a confirma\u00e7\u00e3o e finaliza\u00e7\u00e3o da transa\u00e7\u00e3o antes de capturar o cupom para impress\u00e3o.</p>"},{"location":"pages/FAQ/#8-as-funcoes-inicalizapos-e-finalizapos-devem-ser-executadas","title":"8. As fun\u00e7\u00f5es InicalizaPOS e FinalizaPOS devem ser executadas?","text":"<p>Sim, elas devem ser executadas sempre ao abrir e fechar a aplica\u00e7\u00e3o do PDV. Essas fun\u00e7\u00f5es n\u00e3o tem rela\u00e7\u00e3o com abertura ou fechamento de caixa, seria uma abertura de terminal.</p>"},{"location":"pages/FAQ/#9-como-sabemos-que-a-transacao-foi-aprovada-ou-negada","title":"9. Como sabemos que a transa\u00e7\u00e3o foi aprovada ou negada?","text":"<p>A fun\u00e7\u00e3o ir\u00e1 retornar 11 para as transa\u00e7\u00f5es negadas e 00 para as transa\u00e7\u00f5es aprovadas retornando o cupom TEF para impress\u00e3o.</p>"},{"location":"pages/FAQ/#10-quando-a-confirmacao-da-transacao-tef-deve-ser-efetuada","title":"10. Quando a confirma\u00e7\u00e3o da transa\u00e7\u00e3o TEF deve ser efetuada?","text":"<p>A confirma\u00e7\u00e3o pode ser realizada assim que a mesma for aprovada, pode ser antes ou depois da emiss\u00e3o do documento fiscal, dependendo de como cada automa\u00e7\u00e3o trabalha. Se houver algum problema na impress\u00e3o a reimpress\u00e3o do cupom TEF pode ser efetuada.</p>"},{"location":"pages/FAQ/#11-a-transacao-de-cancelamento-esta-ficando-pendente","title":"11. A transa\u00e7\u00e3o de cancelamento est\u00e1 ficando pendente.","text":"<p>Verificar se a confirma\u00e7\u00e3o e finaliza\u00e7\u00e3o est\u00e3o sendo enviadas. Para essa transa\u00e7\u00e3o poder\u00e1 utilizar a ConfirmaCartaoCredito e FinalizaTransacao.</p>"},{"location":"pages/FAQ/#12-como-e-realizada-a-confirmacao-das-transacoes-de-multiplos-cartoes","title":"12. Como \u00e9 realizada a confirma\u00e7\u00e3o das transa\u00e7\u00f5es de m\u00faltiplos cart\u00f5es?","text":"<p>A automa\u00e7\u00e3o deve efetuar as transa\u00e7\u00f5es e somente ao final do pagamento deve enviar as confirma\u00e7\u00f5es e a finaliza\u00e7\u00e3o das mesmas. Exemplo:</p> <p>TransacaoCredito</p> <p>TransacaoCredito</p> <p>ConfirmaCartaoCredito</p> <p>ConfirmaCartaoCredito</p> <p>FinalizaTransacao</p>"},{"location":"pages/FAQ/#13-como-e-realizada-a-confirmacao-das-transacoes-com-multiplos-cartoes-na-troca-de-arquivos","title":"13. Como \u00e9 realizada a confirma\u00e7\u00e3o das transa\u00e7\u00f5es com m\u00faltiplos cart\u00f5es na troca de arquivos?","text":"<p>A confirma\u00e7\u00e3o pode ser realizada a cada transa\u00e7\u00e3o efetuada ou confirmar ao final dos pagamentos. Para a segunda op\u00e7\u00e3o na solicita\u00e7\u00e3o da transa\u00e7\u00e3o deve-se enviar no campo 001-000 o n\u00famero 999 antes do c\u00f3digo da transa\u00e7\u00e3o. Na \u00faltima transa\u00e7\u00e3o n\u00e3o deve conter esse 999, O mesmo deve ser feito nas confirma\u00e7\u00f5es.</p> <p>Se a transa\u00e7\u00e3o for confirmada uma a uma quando houver a necessidade de desist\u00eancia da venda por exemplo a transa\u00e7\u00e3o de cancelamento deve ser chamada para cancelar a transa\u00e7\u00e3o.</p>"},{"location":"pages/FAQ/#14-como-identificar-a-via-do-cliente-e-estabelecimento-para-efetuar-o-corte-do-cupom-na-impressora","title":"14. Como identificar a via do cliente e estabelecimento para efetuar o corte do cupom na impressora?","text":"<p>A \u00faltima linha do cupom TEF sempre vai ser a NSU Linx TEF ent\u00e3o quando a aplica\u00e7\u00e3o efetuar a leitura dessa linha saber\u00e1 que \u00e9 o final do comprovante e assim poder\u00e1 efetuar o corte.</p>"},{"location":"pages/IntegracaoAPIDesktop/","title":"Integra\u00e7\u00e3o via API Desktop","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/IntegracaoAPIDesktop/#introducao","title":"Introdu\u00e7\u00e3o","text":""},{"location":"pages/IntegracaoAPIDesktop/#fluxo-exemplo-para-integracao-por-funcoes","title":"Fluxo exemplo para Integra\u00e7\u00e3o por Fun\u00e7\u00f5es","text":""},{"location":"pages/IntegracaoAPIDesktop/#comunicacao-client-tef-com-o-sistema-de-automacao","title":"Comunica\u00e7\u00e3o Client TEF com o Sistema de Automa\u00e7\u00e3o","text":""},{"location":"pages/IntegracaoAPIDesktop/#fluxo-de-confirmacao-e-desfazimento","title":"Fluxo de confirma\u00e7\u00e3o e desfazimento","text":""},{"location":"pages/SPLITPagamento/","title":"SPLIT Pagamento","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/VersoesCertificadas/","title":"Downloads Instaladores","text":""},{"location":"pages/VersoesCertificadas/#download-instalador-e-release-notes","title":"Download Instalador e Release Notes","text":"<p>Para verificar o release notes das vers\u00f5es do paykit e realizar o download dos instaladores clique aqui!</p>"},{"location":"pages/Apendice/","title":"Apendice","text":""},{"location":"pages/Apendice/#apendice","title":"Apendice","text":"<p>Essa se\u00e7\u00e3o descreve itens complementares \u00e0 documenta\u00e7\u00e3o, bem como fornece informa\u00e7\u00f5es uteis para  utiliza\u00e7\u00e3o da automa\u00e7\u00e3o com nosso paykit. Aqui voc\u00ea encontrar\u00e1 o mapa de terminais homologados,  contatos, informa\u00e7\u00f5es sobre c\u00f3digos de operadoras, bandeiras e redes retornadas pelo nosso TEF bem  como a documenta\u00e7\u00e3o antiga para consulta.</p>"},{"location":"pages/Apendice/Bandeiras/","title":"Bandeiras","text":""},{"location":"pages/Apendice/Bandeiras/#codigo-das-bandeiras-do-tef-linx","title":"C\u00f3digo das bandeiras do TEF Linx","text":"<p>Nesta p\u00e1gina est\u00e1 descrito os c\u00f3digos das bandeiras utilizadas no TEF Linx.</p> C\u00f3digo Nome 0001 Visa 0002 Mastercard 0003 American Express 0004 Visa Vale 0005 Hipercard 0006 Diners 0007 Fininvest 0008 JCB 0009 Aura 0010 Sodexho 0011 Goodcard 0012 Sorocred 0013 Cardban 0014 Policard 0015 Cabal 0016 Ticket 0017 Dacasa 0018 TIPCard 0019 Banescard 0020 OndeCard 0021 Banrisul 0022 Banese 0023 Elo 0024 Refeisul 0025 Sicredi 0026 CooperCard 0027 Brasil Conv\u00eanios 0028 Fan Card 0029 Senff 0030 Graalcard 0031 PortalCard 0032 ValeCard 0033 SMC 0034 Cred-System Mais 0035 Verocheque 0036 Bonus CBA 0037 Sapore 0038 Bancred Card 0039 Elo Voucher 0040 Planvale 0041 Banquet 0042 Planinvesti 0043 Praticard 0044 Unik 0045 Verde Card 0046 BRCard 0047 PLENOCard 0048 Redeclass 0049 Basecard 0050 Calcard 0051 Minascred 0052 FlashCard 0053 Simcred 0054 Credipar 0055 Agiplan 0056 Auto Expresso 0057 Zaffari 0058 Gax 0059 Avenida 0060 Qualidade 0061 PersonalCard 0062 CentralCard 0063 GreenCard 0064 Nutricash 0065 GlobalCard 0066 Simers 0067 DMCard 0068 UseCred 0069 Borba Card 0070 NelyCard 0071 CrediShop 0072 Comprocard 0073 Cobal 0074 Esplanada 0075 Credz 0076 AzulCard 0077 Globocard 0078 Banpara 0079 ForthBrasil 0080 Softway 0081 Tricard 0082 ECX Card 0083 BrasilCard 0084 Credialimenta\u00e7\u00e3o 0085 Redemed 0086 Nutricard 0087 Discover 0088 Nalin 0089 MoveisCard 0090 Gyn Card 0091 Giracard 0092 Aceito 0093 Avista 0094 Ciclum 0095 Libercard 0096 Aesp 0097 Super Beal 0098 BNB Club 0099 Rodobens 0100 Mettacard 0101 Condor Card 0102 Vale Mais 0103 VR 0104 Queiroz Premium 0105 CPF 0106 Novo Card 0107 SinTram 0108 BigCard 0109 Ascard 0110 Kalicard 0111 Hiper 0112 Private 0113 Sysdata 0114 GoiasCard 0115 Sollus 0116 Grand Card 0117 Control Life 0118 Gold X 0119 Sued Card 0120 Sj Card 0121 ABC Cart\u00f5es 0122 Biq 0123 Obo\u00e9 Card 0124 Redecompras 0125 Sodexo HP 0126 Regicred 0127 Credshirmer 0128 GFCard 0129 PagCard 0130 RedeUze 0131 StepCard 0132 KalicardConvenios 0133 Ecopag 0134 Accredito 0135 Biz 0136 Lagoa Cred 0137 Expansiva 0138 Abrapetite 0139 Credpar 0140 CTF-BR 0141 Redecon 0142 FitCard 0143 WIZEO 0144 Ticket Log 0145 Credinova 0146 MaxisCard 0147 VegasCard 0148 Util Card 0149 PGCard 0150 MGCard 0151 Bracov 0152 LE CARD 0153 Paracatu Card 0154 FOX 0155 Vecell 0156 Alelo Flex Card 0157 Neus 0158 Starkcard 0159 FacilCard 0160 SafeCard 0161 South America 0162 RotaCard 0163 PagSimples 0164 FlexFrota 0165 FleetCard 0166 Epay Gift 0167 TecBiz 0168 Cooperativa Global 0169 Iti 0170 AddmealConvenio 0171 AudaxConvenio 0172 AutemcardConvenio 0173 CredtodosPrivate 0174 CroscardConvenio 0175 Drogabella 0176 Flexocard 0177 Kredilig 0178 LivreConvenio 0179 LivrePrivate 0180 ProcardConvenio 0181 ProcardPrivate 0182 RomCard 0183 Simec 0184 Eucard 0185 NGV 0186 Maxxvan 0187 BEN 0188 CabalVoucher 0189 TruckPag 0190 Mercado Pago 0191 GoldiCard 0192 CTF 0193 RealCard 0194 BraxCard 0195 Servir Card 0196 Ame Digital 0197 Samsung 0198 Valeshop 0199 SQCF 0200 Amplacard 0201 PicPay 0202 Conta Linx 0203 Convenios Card 0204 Symac Card 0205 Multimais 0206 Rede Farmes 0207 BANQI 0208 Ifood 0209 Ipiranga 0210 Magalu 0211 Merci 0212 Pagbank 0213 Rappi 0214 SafraPay 0215 System Farma 0216 Elo Beneficio 0217 Plus Frota 0218 Trio Card 0219 EuroKartensysteme 0220 Supcard 0221 Pix 0222 Festcard 0223 Pitcard 0224 Sigacred 0226 Omni 0227 Asmube Cash 0228 FlexiCard 0229 FlamCard 0230 008Cards 0231 Emanuelle PE 0232 Taco 0233 Cartao Bem Barato 0234 Algorix 0235 SiapCard 0236 Coopelife 0237 MGCard 0238 Boa Convenios 0239 Ascipam 0240 CredFacil 0241 QCard 0242 UpCard 0243 Multvale 0244 Trustcard 0245 Obencard"},{"location":"pages/Apendice/Contatos/","title":"Contatos","text":""},{"location":"pages/Apendice/Contatos/#contatos","title":"Contatos","text":"<p>Se estiver em processo de desenvolvimento, j\u00e1 tiver o ambiente de testes liberado e suas d\u00favidas forem relacionadas \u00e0 integra\u00e7\u00e3o, pode consultar nossa FAQ clicando aqui ou entrar em contato com o e-mail  homologacao_payhub@linx.com.br, informando o CNPJ de cadastro liberado.</p>"},{"location":"pages/Apendice/ExemplosDeCodigo/","title":"Exemplos de c\u00f3digo","text":""},{"location":"pages/Apendice/ExemplosDeCodigo/#exemplos-de-codigo","title":"Exemplos de c\u00f3digo","text":"<p>Para acessar os exemplos de integra\u00e7\u00e3o disponiveis acesse nosso Github aqui!</p>"},{"location":"pages/Apendice/HistoricoDeRevisao/","title":"Historico de revis\u00e3o","text":""},{"location":"pages/Apendice/HistoricoDeRevisao/#historico-de-revisao","title":"Historico de revis\u00e3o","text":"<p>Historico de revis\u00e3o das informa\u00e7\u00f5es do DevCenter</p>"},{"location":"pages/Apendice/HistoricoDeRevisao/#21022024","title":"21/02/2024","text":"<p>Autores: Gabriel Lima da Silva e Juan Cardoso</p> <p>Detalhes:</p> <ol> <li>Revis\u00e3o da sess\u00e3o gerenciador Padr\u00e3o (Troca de Arquivos)</li> <li>Revis\u00e3o textual</li> </ol>"},{"location":"pages/Apendice/HistoricoDeRevisao/#12022024","title":"12/02/2024","text":"<p>Autores: Juan Cardoso</p> <p>Detalhes:</p> <ol> <li>Adicionando documenta\u00e7\u00e3o de cart\u00e3o pr\u00e9-pago no layout de Cr\u00e9dito e D\u00e9bito</li> <li>Adicionando transa\u00e7\u00e3o ObtemPathCupons</li> <li>Adicionando transa\u00e7\u00e3o ObtemDadosConfigurados</li> <li>Adicionando transa\u00e7\u00e3o ObtemDadosEmpresaLojaTEF</li> </ol>"},{"location":"pages/Apendice/HistoricoDeRevisao/#05022024","title":"05/02/2024","text":"<p>Autores: Jos\u00e9 Roberto Penna de Moraes</p> <p>Detalhes:</p> <ol> <li>Documenta\u00e7\u00e3o do Paykit Webcheckout</li> </ol>"},{"location":"pages/Apendice/HistoricoDeRevisao/#01122023","title":"01/12/2023","text":"<p>Autores: Gabriel Lima da Silva</p> <p>Detalhes:</p> <ol> <li>Documenta\u00e7\u00e3o Mapa de terminais homologados</li> <li>Documenta\u00e7\u00e3o Contatos</li> <li>Documenta\u00e7\u00e3o das Transa\u00e7\u00f5es restantes em branco</li> <li>Documenta\u00e7\u00e3o Transa\u00e7\u00f5es Especiais</li> <li>Altera\u00e7\u00e3o das refer\u00eancias do DTEF para \"Linx TEF\" e DPOS para \"Paykit\"</li> <li>Revis\u00e3o dos menus de \"Apendice\" e \"Troca de Arquivos\"</li> <li>Documenta\u00e7\u00e3o do m\u00e9todo SolicitaConfirma\u00e7\u00e3o em \"Callbacks\"</li> </ol>"},{"location":"pages/Apendice/HistoricoDeRevisao/#17112023","title":"17/11/2023","text":"<p>Autores: Jos\u00e9 Roberto e Juan Cardoso</p> <p>Detalhes:</p> <ol> <li>Documenta\u00e7\u00e3o Layout Log de Transa\u00e7\u00f5es</li> <li>Documenta\u00e7\u00e3o Integra\u00e7\u00e3o sem telas</li> </ol>"},{"location":"pages/Apendice/HistoricoDeRevisao/#03102023","title":"03/10/2023","text":"<p>Autores: Gabriel Lima e Juan Cardoso</p> <p>Detalhes:</p> <ol> <li>Documentando o modo de integra\u00e7\u00e3o via Troca de Arquivos.</li> <li>Reorganiza\u00e7\u00e3o de alguns itens e ajustes na formata\u00e7\u00e3o do documento</li> </ol>"},{"location":"pages/Apendice/HistoricoDeRevisao/#12092023","title":"12/09/2023","text":"<p>Autores: Juan Cardoso</p> <p>Detalhes:</p> <ol> <li>Adicionando informa\u00e7\u00f5es na p\u00e1gina <code>Configura\u00e7\u00e3o Paykit</code> para documentar o Paykit Embarcado, e adi\u00e7\u00e3o das tabelas de Operadoras, Bandeiras e Redes TEF</li> </ol>"},{"location":"pages/Apendice/HistoricoDeRevisao/#16082023","title":"16/08/2023","text":"<p>Autores: Juan Cardoso</p> <p>Detalhes:</p> <ol> <li>Primeira vers\u00e3o de produ\u00e7\u00e3o do documento, documenta\u00e7\u00e3o do FAQ e criando links para o Github do Paykit em Vers\u00f5es Certificadas, Manual de Integra\u00e7\u00e3o PDF e Exemplos de c\u00f3digo.</li> </ol>"},{"location":"pages/Apendice/HistoricoDeRevisao/#15082023","title":"15/08/2023","text":"<p>Autores: Gabriel Lima</p> <p>Detalhes: </p> <ol> <li>Montando a p\u00e1gina\u00e7\u00e3o inicial do DevCenter e reorganizando partes j\u00e1 documentadas previamente com base no PDF de integra\u00e7\u00e3o.</li> </ol>"},{"location":"pages/Apendice/ManualIntegracaoPDF/","title":"Manual Integra\u00e7\u00e3o PDF","text":""},{"location":"pages/Apendice/ManualIntegracaoPDF/#manual-integracao-pdf","title":"Manual Integra\u00e7\u00e3o PDF","text":"<p>Manual PDF DPOS8</p> <p>Manual PDF Paykit</p>"},{"location":"pages/Apendice/MapaDeTerminais/","title":"Mapa de terminais homologados","text":""},{"location":"pages/Apendice/MapaDeTerminais/#mapa-de-terminais-homologados","title":"Mapa de terminais homologados","text":"Terminal Fabricante QR Imagem PPC930 GERTEC PPC920 GERTEC LANE-3000 INGENICO IPP320 INGENICO"},{"location":"pages/Apendice/Operadoras/","title":"Operadoras","text":""},{"location":"pages/Apendice/Operadoras/#codigo-das-operadoras-do-tef-linx","title":"C\u00f3digo das operadoras do TEF Linx","text":"<p>Nesta p\u00e1gina est\u00e1 descrito os c\u00f3digos das operadoras utilizadas no TEF Linx.</p> C\u00f3digo Nome 0001 ABCCartoes 0002 ABNAmroBank 0003 Abrapetite 0004 Alianca 0005 AmazonCard 0006 AmericaDoSul 0007 Ascard 0008 Aura 0009 AuraCetelem 0010 AuraRedecard 0011 AutDirCracha 0012 AutorizadorChequeDirecao 0013 BancoCacique 0014 BancoDoBrasil 0015 BancodoNordeste 0016 BancoGE 0017 BancoIBI 0018 BancoMercantilDoBrasil 0019 BancoOB 0020 BancoPortugues 0021 BancoProsper 0022 BancoRural 0023 Bandeirantes 0024 Baneb 0025 Banerj_Itau 0026 Banese 0027 Banespa 0028 Banestado 0029 Banestado_ou_Diners 0030 Banestes 0031 Banestik 0032 Banorte 0033 Banquet 0034 Banricompras 0035 BASA 0036 BaseCard 0037 Bea 0038 Bec 0039 Beg 0040 Bem 0041 Bemge 0042 Besc 0043 BFB_Itau 0044 Bonus 0045 Boston 0046 BPNCrediStar 0047 Bradesco 0048 BrasilConv 0049 BRB 0050 BRCard 0051 Cabal 0052 CaixaEcEstRioGrandeSul 0053 CaixaEconomicaFederal 0054 CarrefourAura 0055 CartaoBozano 0056 CartaoEsplanada 0057 CartaoLosango 0058 CartaoOtoch 0059 CartFrota 0060 CDC_Citibank 0061 CDC_Fenicia 0062 CDC_Itau 0063 Citibank 0064 Credialimentacao 0065 Credireal 0066 Credix 0067 CredMais 0068 CredSystem 0069 CredSystemTalisma 0070 Crefisul 0071 Diners 0072 Evangelico 0073 Expansiva 0074 ExpansivaAvista 0075 FAI_Itau 0076 FederalInvest 0077 FIC_Itau 0078 Fininvest 0079 FininvestAndreazza 0080 FininvestBigBom 0081 FininvestCasaAvenida 0082 FininvestSonda 0083 FininvestVisionPlus 0084 FortBrasil 0085 Aura 0086 Banquet 0087 Cabal 0088 Drogabel 0089 Goodcard 0090 Planinvesti 0091 Praticard 0092 RedeClass 0093 Sonae 0094 Sorocred 0095 SupCaju 0096 Unik 0097 VerdeCard 0098 GlobalCard 0099 Goodcard 0100 GreenCard 0101 Hipercard 0102 HipercardAssociados 0103 HSBC 0104 IncentiveHouse 0105 Intellisys 0106 Itau 0107 ItauPrivateLabel 0108 LemonBank 0109 Losango 0110 LosangoOutrasEmpresas 0111 Maestro 0112 MaestroC 0113 Mastercard 0114 Mercantil_do_Brasil 0115 Meridional 0116 Multicompra 0117 NossaCaixa 0118 NossaCaixaGold 0119 NossaCaixaInternacional 0120 NossaCaixaNacional 0121 NossaCaixaNossoBanco 0122 NossaCaixaPlatinum 0123 NossaCaixaUniversitario 0124 NutriCash 0125 Panamericano 0126 Personal 0127 Planinvesti 0128 Planvale 0129 Policard 0130 PortalCard 0131 PortalCardFrota 0132 PortalCardIdeal 0133 PortalCardRanchoAlim 0134 PortalCardRanchoConv 0135 Praticard 0136 PrivateAle 0137 PrivateDirecaoCondor 0138 PrivateIpiranga 0139 RanchoAlim 0140 RanchoConv 0141 RedeShop 0142 BanriCardAlimentacao 0143 Resomaq 0144 ResomaqBiq 0145 Safra 0146 Santander 0147 Sapore 0148 SenffNet 0149 Simers 0150 SmartShop 0151 Sodexo 0152 SodexoPremium 0153 SodexoVR 0154 SodexoSaude 0155 Softway 0156 SoftwayAdmiral 0157 SoftwayBrombatti 0158 SoftwayCaseli 0159 SoftwayContinental 0160 SoftwayDalila 0161 SoftwayDavi 0162 SoftwayFachini 0163 SoftwayFarmaciaEsperanca 0164 SoftwayFlach 0165 SoftwayForthBrasil 0166 SoftwayGabriela 0167 SoftwayGaedicke 0168 SoftwayKarla 0169 SoftwayKastelao 0170 SoftwayKellermann 0171 SoftwayLiderItaim 0172 SoftwayLopesValim 0173 SoftwayLunardi 0174 SoftwayManaira 0175 SoftwayMontico 0176 SoftwayNovaPatricia 0177 SoftwayPagPoko 0178 SoftwayPatricia 0179 SoftwayPedralli 0180 SoftwayPortaPrata 0181 SoftwayPromocional 0182 SoftwaySaoMateus 0183 SoftwaySchiochet 0184 SoftwaySchoka 0185 SoftwaySchwalm 0186 SoftwaySupCarajas 0187 SoftwaySuperBras 0188 SoftwaySuperIko 0189 SoftwaySupFernandes 0190 SoftwaySupMaia 0191 SoftwaySupSerido 0192 SoftwaySupSJ 0193 SoftwayValeGrande 0194 SoftwayVigano 0195 Sorocred 0196 SpecialCard 0197 Sudameris 0198 SuperCard 0199 Sysdata 0200 TelecomNet 0201 TelenetAscard 0202 TelenetBancred 0203 TelenetBrasilConvenios 0204 TelenetCartFrota 0205 TelenetCooperCard 0206 TelenetCredito 0207 TelenetMundialCard 0208 TelenetNutricash 0209 TelenetPersonalCard 0210 TelenetValecash 0211 TelenetVicard 0212 TelenetVoucher 0213 Ticket 0214 TicketAlimentacao 0215 TicketAlimentacaoPlus 0216 TicketCar 0217 TicketCar 0218 TicketConvenio 0219 TicketParc 0220 TicketPlus 0221 TicketRestaurante 0222 TivitBancoGE 0223 TivitBradesco 0224 TivitPanamericano 0225 TopPremium 0226 Unibanco 0227 UpSight 0228 ValeCard 0229 ValeCred 0230 Valetik 0231 VeroCheque 0232 VicsAvant 0233 VisaCredito 0234 VisaElectron 0235 Alelo 0236 WorkerCard 0237 Zogbi 0238 Amex 0239 PLENOCard 0240 Cresol 0241 Centralcard 0242 Onecard 0243 OnecardAlimentacao 0244 Guanabara 0245 Maxicartao 0246 Sesimax 0247 Sicredi 0248 BanriCardCombustivel 0249 BanriCardCartaoPresente 0250 Dacasa 0251 TIPCard 0252 Banescard 0253 EloIbi 0254 EloBB 0255 EloBradesco 0256 EloCaixa 0257 HSBCMastercard 0258 CooperCard 0259 EssoSantanderVisa 0260 EssoSantanderMastercard 0261 FanCard 0262 Graalcard 0263 SMC 0264 UnibancoVisa 0265 BancredCard 0266 AuraCondor 0267 EloAlimentacao 0268 EloRefeicao 0269 MarabrazPrivate 0270 Calcard 0271 Minascred 0272 Simcred 0273 Credipar 0274 Agiplan 0275 AutoExpresso 0276 Zaffari 0277 Gax 0278 Avenida 0279 FininvestMastercard 0280 Qualidade 0281 AleloAlimentacao 0282 AleloRefeicao 0283 TicketCultura 0284 DMCard 0285 Usecred 0286 BorbaCard 0287 NelyCard 0288 CrediShop 0289 Comprocard 0290 Cobal 0291 AzulCard 0292 Globocard 0293 Banpara 0294 EloCredito 0295 SoftwaySilvestre 0296 SoftwaySupercop 0297 SoftwayBomVizinho 0298 SoftwayFelipeCamarao 0299 SoftwaySupPaulista 0300 SoftwaySupSantos 0301 SoftwaySupEldorado 0302 SoftwaySupGringo 0303 SoftwaySupSaoFrancisco 0304 SoftwaySupNovaVida 0305 SoftwayMaxAuvergne 0306 SoftwayMercantilPopular 0307 Tricard 0308 ECXCard 0309 ECXCardFrota 0310 ECXCardPBM 0311 BrasilCardConvenio 0312 BrasilCardAlimentacao 0313 BrasilCardRefeicao 0314 BrasiCardFrota 0315 Redemed 0316 SafraVisa 0317 Nutricard 0318 Discover 0319 Nalin 0320 CaixaMoveisCard 0321 GynCard 0322 Giracard 0323 FlexCarAlelo 0324 Aceito 0325 EloDebito 0326 Credz 0327 Ciclum 0328 Libercard 0329 AespConvenio 0330 SuperBeal 0331 BNBClub 0332 JCB 0333 Rodobens 0334 MettaCard 0335 ValeMais 0336 VRRefeicao 0337 VRAlimentacao 0338 VRCultura 0339 VRAuto 0340 QueirozPremium 0341 CPF 0342 BrasilCard 0343 NovoCard 0344 SinTram 0345 BigCard 0346 Kalicard 0347 Hiper 0348 GoiasCard 0349 Sollus 0350 Gift Pass 0351 TelenetGrandCard 0352 TelenetControlLife 0353 TelenetGoldX 0354 TelenetSuedCard 0355 TelenetBnbClube 0356 TelenetSjCard 0357 KalicardAlimentacao 0358 KalicardConvenio 0359 ComunixRegicred 0360 Credshirmer 0361 GFCard 0362 PagCard 0363 RedeUze 0364 StepCard 0365 AleloCultura 0366 MasterMinhaCasaMelhor 0367 AleloAuto 0368 Ecopag 0369 Accredito 0370 BIZ 0371 ACG 0372 LagoaCredCard 0373 AVista 0374 Private 0375 CabalVoucher 0376 SodexoAlimentacao 0377 SodexoRefeicao 0378 SodexoCombustivel 0379 Redecon 0380 BaneseCard 0381 GreenCardAlimentacao 0382 GreenCardRefeicao 0383 GreenCardFrota 0384 WIZEO 0385 FitCard 0386 Ticket Log 0387 Credinova 0388 MaxisCard 0389 VegasCard 0390 Util Card 0391 PGCard 0392 MGCard 0393 Bracov 0394 LE CARD 0395 Paracatu 0396 FOX 0397 Vecell 0398 Neus 0399 StarkCard 0400 FacilCard 0401 SafeCard 0402 South America 0403 RotaCard 0404 PagSimples 0405 FlexFrota 0406 FleetCard 0407 Epay Gift 0408 TecBiz 0409 CooperativaGlobal 0410 RedeCompras 0411 AddmealConvenio 0412 AudaxConvenio 0413 AutemcardConvenio 0414 CredtodosPrivate 0415 CroscardConvenio 0416 Drogabella 0417 Flexocard 0418 Kredilig 0419 LivreConvenio 0420 LivrePrivate 0421 ProcardConvenio 0422 ProcardPrivate 0423 RomCard 0424 Simec 0425 Eucard 0426 NGV 0427 MaxxcardBeneficios 0428 BENRefeicao 0429 TruckPag 0430 GoldiCard 0431 CTF 0432 BENAlimentacao 0433 RealCard 0434 BraxCard 0435 ServirCard 0436 Samsung 0437 Valeshop 0438 SQCF 0439 Amplacard 0440 NutricashFrota 0441 MastercardAlimentacao 0442 MastercardRefeicao 0443 Convenios Card 0444 SymacCard 0445 Multimais 0446 Rede Farmes 0447 ComunixSystemFarma 0448 EloBeneficio 0449 Sodexo Cultura Pass 0450 Plus Frota 0451 Trio Card 0452 EuroKartensysteme 0453 Supcard 0454 Festcard 0455 AleloMobile 0456 Pitcard 0457 SigaCred 0459 Omni 0460 Asmube Cash 0461 FlexiCard 0462 FlamCard 0463 008Cards 0464 Emanuelle PE 0465 Cartao Taco 0466 Cartao Bem Barato 0467 Algorix 0468 Alelo Flexcard 0469 SiapCard 0470 Coopelife 0471 MGCard 0472 Boa Convenios 0473 Ascipam 0474 CredFacil 0475 QCard 0476 UpCard 0477 Multvale 0478 Trustcard 0479 Obencard 0480 ComunixConfarma 0481 MoreiraCard 0482 Accords Cards 0483 Bn Card 0484 B4 Card 0485 BoldCard 0486 Ser Card 0487 Farma Brito 0488 Go Card 0489 Kbank 0490 Kinfuku 0491 Le Card S.A. 0492 Martins Card 0493 Mercantil Card 0495 Mury Cart\u00c3\u00b5es 0496 RV Cards 0497 Sert\u00c3\u00a3o Card 0499 Usacard 0500 WebCard 0501 4S Sistemas 0502 FacilPraPagar 0503 Esposende 0504 Solucard 0505 SysproCard 0506 Soma 0507 Frigelar 0508 RegiCred 0509 IziCartoes 0510 BanriCardDebito"},{"location":"pages/Apendice/RedesAutorizadasDTEF8/","title":"Redes Autorizadoras D-TEF 8","text":""},{"location":"pages/Apendice/RedesAutorizadasDTEF8/#codigo-das-redes-do-tef-linx","title":"C\u00f3digo das redes do TEF Linx","text":"<p>Nesta p\u00e1gina est\u00e1 descrito os c\u00f3digos das redes utilizadas no TEF Linx.</p> C\u00f3digo Nome 01 Cielo 02 D-TEF 5 03 Nexxera 04 CooperCard 05 Vida Link 06 Obo\u00e9 07 Redecard 08 PrevSa\u00fade 09 Dacasa 10 Comunix 11 EDM 12 Paggo 13 IBI Gen 14 Credi-Shop 15 Sicredi 16 Credmais 17 Amex 18 Tecban 19 Validata 20 Ultragaz 21 Fan Card 22 GetNet 23 Banrisul 24 One Card 25 IBI 26 GetNet LAC 27 Banescard 28 Neus 29 Central Card 30 Orbitall 31 Aura 32 Hipercard 33 UseCred 34 ComproCard 35 Ita\u00fa 36 Bradesco 37 Serasa 38 Special Card 39 ACSP 40 Teledata 41 Tivit 42 CDL Rio 43 Bozano 44 Fininvest 45 Qualycard 46 Dire\u00e7\u00e3o 47 Multicheque 48 Poupcard 49 Sorocred 50 Chq Card\u00e1pio 51 Vale Refei\u00e7\u00e3o 52 SPC Brasil 53 SPC Poa 54 Losango 55 Zogbi 56 SPC Londrina 57 ACC Card 58 PortalCard 59 Corres Banc\u00e1rio 60 Resomaq 61 Softway 62 Intellisys 63 Banpar\u00e1 64 Evang\u00e9lico 65 Vale Card 66 Worker Card 67 Banese 68 PamCard 69 Telenet 70 Private Dire\u00e7\u00e3o 71 Senffnet 72 ChequePre 73 PBM ePharma 74 PBM GetNet 75 PBM SevenPDV 76 PBM Funcional 77 Sysdata 78 ACPR 79 Policard 80 Expansiva 81 Credsystem 82 SmartShop 83 TelecomNet 84 CrediAliment 85 CheckExpress 86 WAPPA 87 Simers 88 Aut Dir Crach\u00e1 89 UpSight 90 Tend\u00eancia 91 Autorizador POS 92 Accor 93 Cartesys 94 RV 95 Comunix Visa 96 DMCard 97 3ia 98 FirstData 99 SMC 100 Febraban 101 Siga Cred 102 Guedes Card 103 BR Premmia 104 Trel 105 epay 106 ICI 107 Netpoints 108 Algorix 109 Borba Card 110 Givex 111 Elavon 112 OrgCard 113 CSU 114 ECX Card 115 Brasil Card 116 Nalin 117 Libercard 118 Smart.Net 119 Mettacard 120 Rodobens 121 Global Payments 122 Sollus 123 Now Prepay 126 Nutricash 127 Stone 128 Ecopag 129 Cabal 130 Tribanco 131 Biz 136 Sipag"},{"location":"pages/Apendice/TiposDeRegistrosECodigosDeTransacoes/","title":"Tipos de Registros e C\u00f3digos de Transa\u00e7\u00f5es","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/InformacoesGerais/ConfiguracaoPaykit/","title":"Configura\u00e7\u00e3o Paykit","text":""},{"location":"pages/InformacoesGerais/ConfiguracaoPaykit/#configuracoes-paykit","title":"Configura\u00e7\u00f5es Paykit","text":"<p>Nesta p\u00e1gina estar\u00e1 disposto os m\u00e9todos os quais s\u00e3o possiveis utilizar para que a automa\u00e7\u00e3o fa\u00e7a a configura\u00e7\u00e3o do Paykit de forma program\u00e1tica. A obrigatoriedade de implementa\u00e7\u00e3o desses m\u00e9todos ir\u00e1 variar de acordo com o modelo de integra\u00e7\u00e3o escolhido pela sua automa\u00e7\u00e3o. Consulte a se\u00e7\u00e3o: Modelos de Integra\u00e7\u00e3o</p>"},{"location":"pages/InformacoesGerais/ConfiguracaoPaykit/#configura-cnpj-do-estabelecimento","title":"Configura CNPJ do Estabelecimento","text":"<p>Para configurar o CNPJ da empresa de forma program\u00e1tica execute a funcionalidade abaixo:</p> <pre><code> int ConfiguraCNPJEstabelecimento(char *pCNPJEstabelecimento);\n</code></pre> Campo Tamanho Descri\u00e7\u00e3o pCNPJEstabelecimento 14 N Ponteiro que cont\u00e9m o n\u00famero do CNPJ para ser utilizado na configura\u00e7\u00e3o."},{"location":"pages/InformacoesGerais/ConfiguracaoPaykit/#configura-empresa-loja-e-pdv","title":"Configura Empresa, Loja e PDV","text":"<p>Para configurar de forma program\u00e1tica o PDV, com n\u00famero da empresa, loja e n\u00famero de PDV integrar com o m\u00e9todo abaixo:</p> <pre><code> int ConfiguraEmpresaLojaPDV(char *pNumeroEmpresa, char *pNumeroLoja, char *pNumeroPDV);\n</code></pre> Campo Tamanho Descri\u00e7\u00e3o pNumeroEmpresa 4 N Ponteiro que cont\u00e9m o n\u00famero da Empresa para ser utilizado na configura\u00e7\u00e3o. pNumeroLoja 4 N Ponteiro que cont\u00e9m o n\u00famero da Loja para ser utilizado na configura\u00e7\u00e3o. pNumeroPDV 4 N Ponteiro que cont\u00e9m o n\u00famero do PDV para ser utilizado na configura\u00e7\u00e3o."},{"location":"pages/InformacoesGerais/ConfiguracaoPaykit/#configura-comunicacao-tef","title":"Configura Comunica\u00e7\u00e3o TEF","text":"<p>Para realizar a configura\u00e7\u00e3o de comunica\u00e7\u00e3o com Linx TEF de forma program\u00e1tica integrar com a aseguinte funcionalidade:</p> <p><pre><code> int ConfiguraComunicacaoDTEF(char *pConfiguracaoIpPortaSsl);\n</code></pre> o par\u00e2metro pConfiguracaoIpPortaSsl recebe as informa\u00e7\u00f5es no formato: </p> <pre><code>IP1:Porta1:SSL1;IP2:Porta2:SSL2;...;IPn:Portan:SSLn`\n</code></pre> <p>Sendo <code>;</code> o separador para caso seja passado mais de um servidor, <code>SSL</code> indica se \u00e9 utilizada uma comunica\u00e7\u00e3o via TLS, op\u00e7\u00f5es possiveis: 1 para habilitar a comunica\u00e7\u00e3o via TLS e 0 para desabilitar.</p> <p>Exemplo da formata\u00e7\u00e3o dos dados informando mais de um servidor TEF: </p> <pre><code>linxTEF.com.br:9999:1;linxTEF.com.br:9998:1;linxTEF.com.br:9997:0;linxTEF.com.br:9996:0\n</code></pre>"},{"location":"pages/InformacoesGerais/ConfiguracaoPaykit/#busca-certificado","title":"Busca Certificado","text":"<p>Esta transa\u00e7\u00e3o permite realizar o download do certificado de comunica\u00e7\u00e3o com o Linx TEF de forma program\u00e1tica. Os par\u00e2metros est\u00e3o abaixo caracterizados para a fun\u00e7\u00e3o BuscaCertificado.</p> <pre><code>  int BuscaCertificado(char *pURL, char *pPathCertificado);\n</code></pre> Campo Tamanho Descri\u00e7\u00e3o pURL A Url de onde ser\u00e1 feito o download do certificado, caso o ponteiro informado seja nulo ser\u00e1 utilizado o valor default. pPathCertificado A Path absoluto indicando onde dever\u00e1 armazenado o certificado 02 I Retorno:  \u2022 [00] Opera\u00e7\u00e3o executada com sucesso  \u2022 [11] Erro ao processar a solicita\u00e7\u00e3o <p>Essa chamada deve ser feita ap\u00f3s ter sido configurado os dados de CNPJ, empresa, loja e pdv, caso contr\u00e1rio retornar\u00e1 uma sinaliza\u00e7\u00e3o de erro.</p>"},{"location":"pages/InformacoesGerais/InformacoesComuns/","title":"Informa\u00e7\u00f5es Comuns","text":""},{"location":"pages/InformacoesGerais/InformacoesComuns/#informacoes-comuns","title":"Informa\u00e7\u00f5es Comuns","text":""},{"location":"pages/InformacoesGerais/InformacoesComuns/#transacoes","title":"Transa\u00e7\u00f5es","text":"<p>Todos os campos num\u00e9ricos informados devem ser completados com zeros \u00e0 esquerda e, quando n\u00e3o informados, preenchidos com zeros. Os campos alfanum\u00e9ricos devem ser completados com espa\u00e7os \u00e0 direita e, quando n\u00e3o informados, preenchidos com espa\u00e7os.</p>"},{"location":"pages/InformacoesGerais/InformacoesComuns/#resposta-das-funcoes","title":"Resposta das Fun\u00e7\u00f5es","text":"<p>Na resposta da chamada \u00e0 fun\u00e7\u00e3o ser\u00e1 preenchido o campo NumeroControle e ser\u00e1 devolvido o Status, indicando o resultado da transa\u00e7\u00e3o.</p> <p>O NumeroControle , inclu\u00eddo na resposta, dever\u00e1 ser armazenado pelo sistema de automa\u00e7\u00e3o, pois na fun\u00e7\u00e3o de confirma\u00e7\u00e3o este n\u00famero ser\u00e1, obrigatoriamente, utilizado.</p> <p>Caso a transa\u00e7\u00e3o seja autorizada, ser\u00e1 disponibilizado no diret\u00f3rio parametrizado para os cupons um arquivo contendo o comprovante da opera\u00e7\u00e3o a ser impresso pela automa\u00e7\u00e3o. O nome desse arquivo tem o formato NNNNNN.PPP, onde NNNNNN \u00e9 o NumeroControle e PPP \u00e9 o n\u00famero do terminal configurado.</p> <p>Se a rede autorizadora permitir e se estiver configurada no Linx TEF a impress\u00e3o de cupom reduzido, al\u00e9m do arquivo acima ser\u00e1 liberado um arquivo com o comprovante reduzido no formato RNNNNNN.PPP, onde NNNNNN \u00e9 o NumeroControle e PPP \u00e9 o n\u00famero do terminal configurado. Assim, o comprovante reduzido dever\u00e1 ser impresso no espa\u00e7o destinado \u00e0 mensagem promocional do cupom fiscal e o comprovante normal continuar\u00e1 a ser impresso no cupom vinculado.</p> <p>O PDV dever\u00e1 verificar a exist\u00eancia do arquivo com o comprovante reduzido ap\u00f3s a aprova\u00e7\u00e3o da transa\u00e7\u00e3o. Se o arquivo com o comprovante reduzido estiver dispon\u00edvel, o PDV dever\u00e1 imprimir no cupom fiscal e em seguida realizar a confirma\u00e7\u00e3o do mesmo, antes da impress\u00e3o do comprovante normal. Se o comprovante reduzido n\u00e3o estiver dispon\u00edvel, a confirma\u00e7\u00e3o dever\u00e1 ser realizada ap\u00f3s a impress\u00e3o do comprovante normal.</p> <p>Ao final da venda, tanto no caso do comprovante reduzido como no comprovante normal, para encerrar a opera\u00e7\u00e3o deve ser chamada a fun\u00e7\u00e3o FinalizaTransacao.</p>"},{"location":"pages/InformacoesGerais/InformacoesComuns/#definicao-da-diretiva_callback","title":"Defini\u00e7\u00e3o da DIRETIVA_CALLBACK","text":"<p>A macro DIRETIVA_CALLBACK \u00e9 uma diretiva de pr\u00e9-processamento usada para definir a conven\u00e7\u00e3o de chamada de fun\u00e7\u00e3o em diferentes ambientes de compila\u00e7\u00e3o. Ela nos permite adaptar nosso c\u00f3digo para funcionar corretamente em diferentes sistemas operacionais e compiladores. A conven\u00e7\u00e3o de chamada de fun\u00e7\u00e3o define como os par\u00e2metros s\u00e3o passados para a fun\u00e7\u00e3o e como os valores de retorno s\u00e3o retornados para o chamador.</p> <pre><code>#if(_MSC_VER)\n    #define DIRETIVA_CALLBACK __stdcall\n#else\n    #define DIRETIVA_CALLBACK\n#endif\n</code></pre>"},{"location":"pages/InformacoesGerais/InformacoesComuns/#parametros-opcionais","title":"Par\u00e2metros opcionais","text":"<p>Caso o sistema de automa\u00e7\u00e3o n\u00e3o possua estas informa\u00e7\u00f5es, devem ser preenchidos com zeros ou espa\u00e7os, conforme o tipo do campo.</p>"},{"location":"pages/InformacoesGerais/UtilizacaoPaykit/","title":"Utiliza\u00e7\u00e3o Paykit","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/InformacoesGerais/UtilizacaoPaykit/#inicializacao-do-sistema-linx-tef-modulo-paykit","title":"Inicializa\u00e7\u00e3o do Sistema Linx TEF M\u00f3dulo Paykit","text":""},{"location":"pages/InformacoesGerais/UtilizacaoPaykit/#identificacao-automacao-comercial","title":"Identificacao Automa\u00e7\u00e3o Comercial","text":""},{"location":"pages/InformacoesGerais/UtilizacaoPaykit/#funcao-para-configuracao-do-modo-de-desfazimento-da-transacao","title":"Fun\u00e7\u00e3o para Configura\u00e7\u00e3o do Modo de Desfazimento da Transa\u00e7\u00e3o","text":""},{"location":"pages/InformacoesGerais/UtilizacaoPaykit/#finalizacao-do-sistema-linx-tef-modulo-paykit","title":"Finaliza\u00e7\u00e3o do Sistema Linx TEF M\u00f3dulo Paykit","text":""},{"location":"pages/IntegracaoSemTelas/","title":"Integra\u00e7\u00e3o sem Telas","text":""},{"location":"pages/IntegracaoSemTelas/#integracao-sem-telas","title":"Integra\u00e7\u00e3o sem Telas","text":"<p>Este documento tem por objetivo descrever os procedimentos necess\u00e1rios para realizar as chamadas do client Linx TEF sem a apresenta\u00e7\u00e3o das telas pr\u00e9-definidas do Paykit. Isto \u00e9 importante em situa\u00e7\u00f5es onde se deseja adequar visualmente as telas de coleta da transa\u00e7\u00e3o de TEF com o layout geral da automa\u00e7\u00e3o.</p> <p>N\u00e3o \u00e9 necess\u00e1rio que todas as fun\u00e7\u00f5es de coleta de tela sejam desenvolvidas. Se uma fun\u00e7\u00e3o for utilizada somente por uma transa\u00e7\u00e3o e esta n\u00e3o for implementada, ela pode ser desconsiderada. De forma geral, incluem-se neste caso:</p> <ul> <li>as fun\u00e7\u00f5es para coleta e tratamento de c\u00f3digo de barras de documentos</li> <li>coleta de dados da transa\u00e7\u00e3o de verifica\u00e7\u00e3o de endere\u00e7o (AVS)</li> <li>apresenta\u00e7\u00e3o do preview do comprovante (transa\u00e7\u00e3o de consulta CDC)</li> <li>sele\u00e7\u00e3o de planos de pagamento, para o caso de a automa\u00e7\u00e3o utilizar planos de pagamento</li> </ul>"},{"location":"pages/IntegracaoSemTelas/#observacoes","title":"Observa\u00e7\u00f5es","text":"<p>A funcionalidade descrita neste documento est\u00e1 dispon\u00edvel apenas para o Paykit. Portanto, transa\u00e7\u00f5es de redes que trafegarem pelo Linx TEF dever\u00e3o continuar utilizando o Paykit. Como no modo de apresenta\u00e7\u00e3o externa de telas o Paykit n\u00e3o chama automaticamente o Paykit, ser\u00e1 necess\u00e1rio fazer as chamadas ao Paykit explicitamente.</p>"},{"location":"pages/IntegracaoSemTelas/#utilizacao-das-telas-da-automacao","title":"Utiliza\u00e7\u00e3o das telas da automa\u00e7\u00e3o","text":"<p>Para que seja poss\u00edvel utilizar as telas da automa\u00e7\u00e3o em lugar das telas do Paykit ao realizar transa\u00e7\u00f5es com o Client, dever\u00e3o ser executados os seguintes procedimentos:</p> <ul> <li>desenvolver as fun\u00e7\u00f5es de callback que ser\u00e3o executadas pelo client no momento de interagir com o usu\u00e1rio;</li> <li>registrar as fun\u00e7\u00f5es da callback;</li> <li>chamar a fun\u00e7\u00e3o ConfiguraFluxoExternoDTEF5 do Paykit;</li> <li>executar as chamadas do Client conforme definido no documento de integra\u00e7\u00e3o, ou seja, executando as chamadas para as fun\u00e7\u00f5es TransacaoCartaoCredito, TransacaoCartaoDebito, ConfirmaCartao, FinalizaTransacao etc.</li> </ul>"},{"location":"pages/IntegracaoSemTelas/Callbacks/","title":"Callbacks","text":""},{"location":"pages/IntegracaoSemTelas/Callbacks/#callbacks","title":"Callbacks","text":"<p>Aqui voc\u00ea encontrar\u00e1 mais detalhes sobre as callbacks e imagens de exemplo para ilustrar o funcionamento</p>"},{"location":"pages/IntegracaoSemTelas/Callbacks/#display-terminal","title":"Display Terminal","text":"<pre><code>void DisplayTerminal(char *pMensagem)\n</code></pre> <p>Apresenta a mensagem solicitada pelo Client, no par\u00e2metro pMensagem. Esta fun\u00e7\u00e3o apresenta mensagens gerais  do fluxo da execu\u00e7\u00e3o, como por exemplo \u201cINSIRA OU PASSE O CARTAO\u201d, \u201cAGUARDE...\u201d, \u201cSOLICITANDO AUTORIZACAO\u201d etc.</p> Par\u00e2metro solicita\u00e7\u00e3o Formato Descri\u00e7\u00e3o pMensagem A Mensagem a ser apresentada no display do PDV <p>Retorno: esta fun\u00e7\u00e3o n\u00e3o possui retorno.</p> <p> </p> Exemplo de tela implementada, Display terminal"},{"location":"pages/IntegracaoSemTelas/Callbacks/#display-erro","title":"Display Erro","text":"<pre><code>void DisplayErro(char *pMensagem)\n</code></pre> <p>Fun\u00e7\u00e3o utilizada para apresentar uma mensagem de erro no display, como por exemplo \u201cCART\u00c3O INV\u00c1LIDO\u201d, \u201cTENTE NOVAMENTE\u201d entre outras.  Se for um display gr\u00e1fico, pode ser apresentado em vermelho para indicar a situa\u00e7\u00e3o de erro. Em geral, \u00e9 utilizado o mesmo local  de apresenta\u00e7\u00e3o da fun\u00e7\u00e3o Display Terminal, variando apenas a cor para indicar o erro. Isso entretanto pode ser desenvolvido da forma  que melhor se adequar para a automa\u00e7\u00e3o. </p> Par\u00e2metro solicita\u00e7\u00e3o Formato Descri\u00e7\u00e3o pMensagem A Mensagem de erro a ser apresentada no display do PDV <p>Retorno: esta fun\u00e7\u00e3o n\u00e3o possui retorno.</p> <p> </p> Exemplo de tela implementada, Display erro"},{"location":"pages/IntegracaoSemTelas/Callbacks/#mensagem","title":"Mensagem","text":"<pre><code>void Mensagem(char *pMensagem)\n</code></pre> <p>Fun\u00e7\u00e3o utilizada para apresentar uma mensagem informativa na tela. \u00c9 utilizada em algumas situa\u00e7\u00f5es no fluxo das transa\u00e7\u00f5es para apresentar dados ao usu\u00e1rio como por exemplo o valor da transa\u00e7\u00e3o, alguma op\u00e7\u00e3o que foi recentemente selecionada ou ainda em alguns casos uma mensagem retornada pela rede autorizadora.</p> Par\u00e2metro solicita\u00e7\u00e3o Formato Descri\u00e7\u00e3o pMensagem A Mensagem a ser apresentada na tela <p>Retorno: esta fun\u00e7\u00e3o n\u00e3o possui retorno.</p> <p> </p> Exemplo de tela implementada, Mensagem de retorno display"},{"location":"pages/IntegracaoSemTelas/Callbacks/#beep","title":"Beep","text":"<pre><code>void Beep()\n</code></pre> <p>Comando enviado para o PDV para que este emita um sinal sonoro. O comando n\u00e3o possui nenhum par\u00e2metro. </p> <p>Retorno: esta fun\u00e7\u00e3o n\u00e3o necessita de resposta</p>"},{"location":"pages/IntegracaoSemTelas/Callbacks/#entra-cartao","title":"Entra Cart\u00e3o","text":"<pre><code>int FormEntraCartao(char *pLabel, char *pCartao)\n</code></pre> <p>Comando para permitir que o operador digite o n\u00famero do cart\u00e3o.</p> Campo solicita\u00e7\u00e3o Formato Descri\u00e7\u00e3o pLabel A Mensagem a ser apresentada (em geral, \u00e9 \u201cDIGITE O N\u00daMERO CART\u00c3O\u201d) Campo de Retorno Formato Descri\u00e7\u00e3o pCartao A N\u00famero do cart\u00e3o digitado pelo operador <p>Retorno:</p> Retorno Descri\u00e7\u00e3o 0 O operador digitou o n\u00famero do cart\u00e3o -1 A opera\u00e7\u00e3o foi cancelada e o operador n\u00e3o conclui a digita\u00e7\u00e3o do n\u00famero do cart\u00e3o <p>Observa\u00e7\u00f5es: \u2022 Neste campo, dever\u00e1 ser permitido apenas a entrada de caracteres num\u00e9ricos \u2022 O tamanho m\u00e1ximo permitido para digita\u00e7\u00e3o ser\u00e1 de 19 d\u00edgitos \u2022 Dever\u00e1 ser tomado o cuidado para que as informa\u00e7\u00f5es de digita\u00e7\u00e3o do n\u00famero do cart\u00e3o n\u00e3o sejam armazenadas  de forma aberta e/ou completa em nenhum local. As regras de seguran\u00e7a definidas pelo PCI n\u00e3o permitem o registro dos n\u00fameros de cart\u00e3o.</p> <p> </p> Exemplo de tela implementada, Entrada de Cart\u00e3o"},{"location":"pages/IntegracaoSemTelas/Callbacks/#entra-codigo-de-barras","title":"Entra C\u00f3digo de Barras","text":"<pre><code>int EntraCodigoBarras(char *pLabel, char *pCodigoBarras) \n</code></pre> <p>Comando para permitir que o operador digite o c\u00f3digo de barras do documento. A digita\u00e7\u00e3o pode ser feita em 4 blocos de 12 d\u00edgitos, contendo os d\u00edgitos verificadores. O resultado \u00e9 a concatena\u00e7\u00e3o de todos os caracteres digitados. Esta fun\u00e7\u00e3o dever\u00e1 fazer as valida\u00e7\u00f5es referentes ao pagamento de contas conv\u00eanio, utilizada na transa\u00e7\u00e3o de pagamento de contas da Cielo.</p> Campo solicita\u00e7\u00e3o Formato Descri\u00e7\u00e3o pLabel A Mensagem a ser apresentada Campo de Retorno Formato Descri\u00e7\u00e3o pCodigoBarras A C\u00f3digo de barras digitado pelo operador <p>Retorno:</p> Retorno Descri\u00e7\u00e3o 0 O operador digitou o n\u00famero do cart\u00e3o -1 A opera\u00e7\u00e3o foi cancelada e o operador n\u00e3o conclui a digita\u00e7\u00e3o -2 O c\u00f3digo de barras \u00e9 inv\u00e1lido (os d\u00edgitos verificadores n\u00e3o est\u00e3o corretos) -3 A opera\u00e7\u00e3o n\u00e3o \u00e9 permitida (o primeiro d\u00edgito n\u00e3o \u00e9 \u201c8\u201d \u2013 a transa\u00e7\u00e3o de Pagamento de Contas Visanet permite somente pagamento de conv\u00eanios, ou seja, c\u00f3digos que come\u00e7am com \u201c8\u201d) <p>Observa\u00e7\u00f5es: \u2022 a implementa\u00e7\u00e3o desta fun\u00e7\u00e3o \u00e9 necess\u00e1ria somente se for utilizada a transa\u00e7\u00e3o TransacaoPagamentoContasVisanet</p>"},{"location":"pages/IntegracaoSemTelas/Callbacks/#entra-codigo-de-barras-lido","title":"Entra C\u00f3digo de Barras Lido","text":"<pre><code>int EntraCodigoBarrasLido(char *pLabel, char *pCodigoBarrasLido) \n</code></pre> <p>Comando para permitir que o operador passe o c\u00f3digo de barras do documento no leitor. O resultado \u00e9 a concatena\u00e7\u00e3o de todos os caracteres digitados. Esta fun\u00e7\u00e3o dever\u00e1 fazer as valida\u00e7\u00f5es referentes ao pagamento de contas conv\u00eanio, utilizada na transa\u00e7\u00e3o de pagamento de contas da Visanet.</p> Campo solicita\u00e7\u00e3o Formato Descri\u00e7\u00e3o pLabel A Mensagem a ser apresentada Campo de Retorno Formato Descri\u00e7\u00e3o pCodigoBarrasLido A C\u00f3digo de barras obtido atrav\u00e9s do leitor. <p>Retorno:</p> Retorno Descri\u00e7\u00e3o 0 O operador digitou o n\u00famero do cart\u00e3o -1 A opera\u00e7\u00e3o foi cancelada e o operador n\u00e3o conclui a digita\u00e7\u00e3o -2 O c\u00f3digo de barras \u00e9 inv\u00e1lido (os d\u00edgitos verificadores n\u00e3o est\u00e3o corretos) -3 A opera\u00e7\u00e3o n\u00e3o \u00e9 permitida (o primeiro d\u00edgito n\u00e3o \u00e9 \u201c8\u201d \u2013 a transa\u00e7\u00e3o de Pagamento de Contas Visanet permite somente pagamento de conv\u00eanios, ou seja, c\u00f3digos que come\u00e7am com \u201c8\u201d) <p>Observa\u00e7\u00f5es: \u2022 a implementa\u00e7\u00e3o desta fun\u00e7\u00e3o \u00e9 necess\u00e1ria somente se for utilizada a transa\u00e7\u00e3o TransacaoPagamentoContasVisanet</p>"},{"location":"pages/IntegracaoSemTelas/Callbacks/#entra-data-de-validade","title":"Entra Data de Validade","text":"<pre><code>int EntraDataValidade(char *pLabel, char *pDataValidade) \n</code></pre> <p>Comando para que o operador digite a data de validade do cart\u00e3o no formato MMAA. Na tela, pode ser apresentado como MM/AA, mas no retorno a resposta n\u00e3o dever\u00e1 conter os caracteres separadores.</p> Campo solicita\u00e7\u00e3o Formato Descri\u00e7\u00e3o pLabel A Mensagem a ser apresentada Campo de Retorno Formato Descri\u00e7\u00e3o pDataValidade A Data de validade do cart\u00e3o, no formato MMAA <p>Retorno:</p> Retorno Descri\u00e7\u00e3o 0 A Data de validade foi digitada -1 A opera\u00e7\u00e3o foi cancelada <p>Observa\u00e7\u00f5es: \u2022 dever\u00e1 ser tomado o cuidado para que as informa\u00e7\u00f5es da data de validade do cart\u00e3o n\u00e3o sejam armazenadas de forma aberta e/ou completa em nenhum local. As regras de seguran\u00e7a definidas pelo PCI n\u00e3o permitem o registro dessas informa\u00e7\u00f5es.</p> <p> </p> Exemplo de tela implementada, Display entrada de data de validade"},{"location":"pages/IntegracaoSemTelas/Callbacks/#entra-data","title":"Entra Data","text":"<pre><code>int EntraData(char *pLabel, char *pData) \n</code></pre> <p>Comando para que o operador digite a data de validade do cart\u00e3o no formato MMAA. Na tela, pode ser apresentado como MM/AA, mas no retorno a resposta n\u00e3o dever\u00e1 conter os caracteres separadores.</p> Campo solicita\u00e7\u00e3o Formato Descri\u00e7\u00e3o pLabel A Mensagem a ser apresentada Campo de Retorno Formato Descri\u00e7\u00e3o pData DD/MM/AA Data no formato DD/MM/AA. Caso o usu\u00e1rio n\u00e3o tenha digitado nenhuma data (o usu\u00e1rio escolheu seguir em frente sem digitar), este campo dever\u00e1 conter o valor \u201c / / \u201c, ou seja, espa\u00e7os mas com os caracteres separadores <p>Retorno:</p> Retorno Descri\u00e7\u00e3o 0 O usu\u00e1rio pressionou enter, mesmo que a data n\u00e3o tenha sido digitada. Se a data n\u00e3o for digitada, o campo com a data de retorno dever\u00e1 voltar com espa\u00e7os e os caracteres separadores (\u201c / / \u201c) -1 A opera\u00e7\u00e3o foi cancelada <p>Observa\u00e7\u00f5es: \u2022 dever\u00e1 ser tomado o cuidado para que as informa\u00e7\u00f5es da data de validade do cart\u00e3o n\u00e3o sejam armazenadas de forma aberta e/ou completa em nenhum local. As regras de seguran\u00e7a definidas pelo PCI n\u00e3o permitem o registro dessas informa\u00e7\u00f5es.</p> <p> </p> Exemplo de tela implementada, Entrada de Data"},{"location":"pages/IntegracaoSemTelas/Callbacks/#entra-codigo-de-seguranca","title":"Entra C\u00f3digo de Seguran\u00e7a","text":"<pre><code>int EntraCodigoSeguranca(char *pLabel, char *pCodigoSeguranca, int iTamanhoMaximo) \n</code></pre> <p>Comando para que o operador digite o c\u00f3digo de seguran\u00e7a do cart\u00e3o. O n\u00famero m\u00ednimo de caracteres permitido \u00e9 3 e o m\u00e1ximo \u00e9 passado na fun\u00e7\u00e3o.</p> Campo solicita\u00e7\u00e3o Formato Descri\u00e7\u00e3o pLabel A Mensagem a ser apresentada iTamanhoMaximo N Tamanho m\u00e1ximo permitido na digita\u00e7\u00e3o do c\u00f3digo de seguran\u00e7a Campo de Retorno Formato Descri\u00e7\u00e3o pCodigoSeguranca A C\u00f3digo de Seguran\u00e7a digitado pelo operador <p>Retorno:</p> Retorno Descri\u00e7\u00e3o 0 O usu\u00e1rio digitou um c\u00f3digo de seguran\u00e7a -1 A opera\u00e7\u00e3o foi cancelada <p>Observa\u00e7\u00f5es: \u2022 o campo pCodigoSeguranca dever\u00e1 ser tratado tamb\u00e9m como par\u00e2metro de solicita\u00e7\u00e3o. Assim, se algum valor estiver preenchido nesse campo, ele dever\u00e1 ser apresentado no momento da chamada. O objetivo deste tratamento \u00e9 apresentar o CVV2 na situa\u00e7\u00e3o em que ele deva ser redigitado.\u2022 dever\u00e1 ser tomado o cuidado para que as informa\u00e7\u00f5es de digita\u00e7\u00e3o do c\u00f3digo de seguran\u00e7a n\u00e3o sejam armazenadas de forma aberta e/ou completa em nenhum local. Esse registro \u00e9 proibido pelas regras de seguran\u00e7a definidas pelo PCI.</p> <p> </p> Exemplo de tela implementada, Entrada de CVV"},{"location":"pages/IntegracaoSemTelas/Callbacks/#seleciona-opcao","title":"Seleciona Op\u00e7\u00e3o","text":"<pre><code>int SelecionaOpcao(char *pLabel, char *pOpcoes, int *iOpcaoSelecionada) \n</code></pre> <p>Comando para que seja apresentado ao operador um menu de op\u00e7\u00f5es e que assim seja selecionada uma dessas op\u00e7\u00f5es.</p> Campo solicita\u00e7\u00e3o Formato Descri\u00e7\u00e3o pLabel A Mensagem a ser apresentada pOpcoes N Op\u00e7\u00f5es a serem exibidas. As op\u00e7\u00f5es est\u00e3o no seguinte formato: (X, AAAA), onde X \u00e9 o caracter num\u00e9rico que se digitado seleciona a op\u00e7\u00e3o e AAAA \u00e9 a string a ser exibida no menu. Caso haja mais de uma op\u00e7\u00e3o, elas dever\u00e3o ser separadas pelo caracter \u201c#\u201d. Exemplo: (1,\"1-ILEGIVEL\")#(5,\"5-NAO POSSUI\") - neste caso, s\u00e3o apresentadas na tela as op\u00e7\u00f5es \u201c1-ILEGIVEL\u201d e \u201c5-N\u00c3O POSSUI\u201d. Se o operador digitar \u201c5\u201d, a fun\u00e7\u00e3o dever\u00e1 retornar \u201c2\u201d, que \u00e9 o \u00edndice da op\u00e7\u00e3o selecionada. Campo de Retorno Formato Descri\u00e7\u00e3o pOpcaoSelecionada N Indice da op\u00e7\u00e3o selecionada. Na chamada, pode ser definido um valor default para a sele\u00e7\u00e3o. Assim, se vier um valor neste campo, dever\u00e1 ser pr\u00e9-selecionada a op\u00e7\u00e3o escolhida. A primeira op\u00e7\u00e3o tem o \u00edndice 1. <p>Retorno:</p> Retorno Descri\u00e7\u00e3o 0 Uma op\u00e7\u00e3o foi selecionada -1 A opera\u00e7\u00e3o foi cancelada <p> </p> Exemplo de tela implementada, Display Sele\u00e7\u00e3o de op\u00e7\u00e3o AV,FL,FA"},{"location":"pages/IntegracaoSemTelas/Callbacks/#entra-valor","title":"Entra Valor","text":"<pre><code>int EntraValor(char *pLabel, char *pValor, char *pValorMinimo, char *pValorMaximo) \n</code></pre> <p>Comando para que o operador entre com um valor num\u00e9rico monet\u00e1rio, com 2 casas decimais.</p> Campo solicita\u00e7\u00e3o Formato Descri\u00e7\u00e3o pLabel A Mensagem a ser apresentada pValorMinimo 12 N Valor m\u00ednimo aceito para o campo pValorMaximo 12 N Valor m\u00e1ximo aceito para o campo Campo de Retorno Formato Descri\u00e7\u00e3o pValor 12 N Valor digitado pelo operador. O campo dever\u00e1 ter 2 casas decimais, sem separador.Por exemplo, 000000001234 equivale a R$ 12,34.Se na chamada este campo tiver um valor, ele dever\u00e1 ser apresentado como o valor default <p>Retorno:</p> Retorno Descri\u00e7\u00e3o 0 O operador digitou o valor -1 A opera\u00e7\u00e3o foi cancelada <p> </p> Exemplo de tela implementada, Display entrada de valor da transa\u00e7\u00e3o"},{"location":"pages/IntegracaoSemTelas/Callbacks/#entra-numero","title":"Entra N\u00famero","text":"<pre><code>int EntraNumero(char *pLabel, char *pNumero, char *pNumeroMinimo, char *pNumeroMaximo, int iMinimoDigitos, int iMaximoDigitos, int iDigitosExatos) \n</code></pre> <p>Comando para que o operador entre com um valor num\u00e9rico monet\u00e1rio, com 2 casas decimais.</p> Campo solicita\u00e7\u00e3o Formato Descri\u00e7\u00e3o pLabel A Mensagem a ser apresentada pValorMinimo N Valor m\u00ednimo aceito para o campo pValorMaximo N Valor m\u00e1ximo aceito para o campo iMinimoDigitos N N\u00famero minimo de digitos que o valor dever\u00e1 possuir iMaximoDigitos N N\u00famero m\u00e1ximo de d\u00edgitos permitido pValorMaximo N N\u00famero de d\u00edgitos que o n\u00famero dever\u00e1 ter Campo de Retorno Formato Descri\u00e7\u00e3o pValor N Valor digitado pelo operador. Se na chamada este campo tiver um valor, ele dever\u00e1 ser apresentado como o valor default <p>Retorno:</p> Retorno Descri\u00e7\u00e3o 0 O operador digitou o n\u00famero -1 A opera\u00e7\u00e3o foi cancelada <p> </p> Exemplo de tela implementada, Display entrada de NSU"},{"location":"pages/IntegracaoSemTelas/Callbacks/#entra-string","title":"Entra String","text":"<pre><code>int EntraString(char *pLabel, char *pString, char *pTamanhoMaximo) \n</code></pre> <p>Comando para que o operador entre com uma string qualquer.</p> Campo solicita\u00e7\u00e3o Formato Descri\u00e7\u00e3o pLabel A Mensagem a ser apresentada pTamanhoMaximo N Tamanho m\u00e1ximo da string em caracteres Campo de Retorno Formato Descri\u00e7\u00e3o pString A String digitada pelo usu\u00e1rio. Se na solicita\u00e7\u00e3o for informado um valor neste campo,ele dever\u00e1 ser exibido como valor default. <p>Retorno:</p> Retorno Descri\u00e7\u00e3o 0 O operador digitou a string -1 A opera\u00e7\u00e3o foi cancelada"},{"location":"pages/IntegracaoSemTelas/Callbacks/#mensagemadicional","title":"MensagemAdicional","text":"<pre><code>int MensagemAdicional(char *pMensagemAdicional) \n</code></pre> <p>Apresenta a mensagem adicional enviada pelo concentrador TEF.</p> Campo solicita\u00e7\u00e3o Formato Descri\u00e7\u00e3o pMensagemAdicional A Mensagem adicional a ser apresentada no display do PDV.Esta fun\u00e7\u00e3o \u00e9 utilizada para complementar opera\u00e7\u00f5es, como por exemplo apresentar a descri\u00e7\u00e3o do produto selecionado durante a execu\u00e7\u00e3o do fluxo da transa\u00e7\u00e3o Visanet. <p>Retorno: O retorno desta fun\u00e7\u00e3o dever\u00e1 ser 0.</p>"},{"location":"pages/IntegracaoSemTelas/Callbacks/#imagem-adicional","title":"Imagem Adicional","text":"<pre><code>int ImagemAdicional(int iIndiceImagem) \n</code></pre> <p>Apresenta uma imagem ou informa\u00e7\u00e3o relacionada \u00e0 rede selecionada pelo Linx TEF durante a transa\u00e7\u00e3o. Apesar do nome da fun\u00e7\u00e3o fazer refer\u00eancia \u00e0 apresenta\u00e7\u00e3o de uma imagem, ela pode ser utilizada para apresentar somente o nome da rede autorizadora Esta fun\u00e7\u00e3o tem objetivo apenas informativo. Se n\u00e3o for implementada, n\u00e3o afetar\u00e1 o fluxo das transa\u00e7\u00f5es.</p> Campo solicita\u00e7\u00e3o Formato Descri\u00e7\u00e3o iImagemAdicional A C\u00f3digo da rede autorizadora que est\u00e1 tratando a transa\u00e7\u00e3o em quest\u00e3o. O valor -1 indica que deve ser removida a imagem ou apagada a mensagem . <p>Retorno: O retorno desta fun\u00e7\u00e3o dever\u00e1 ser 0.</p>"},{"location":"pages/IntegracaoSemTelas/Callbacks/#consulta-avs","title":"Consulta AVS","text":"<pre><code>int ConsultaAVS(char *cEndereco, char *cNumero, char *cApto, char *cBloco, char *cCEP, char  *cBairro, char *cCPF) \n</code></pre> <p>Comando para que o operador entre com os dados da consulta AVS (transa\u00e7\u00e3o de verifica\u00e7\u00e3o de endere\u00e7o).</p> Campo solicita\u00e7\u00e3o Formato Descri\u00e7\u00e3o Endere\u00e7o 96 A Endere\u00e7o coletado Numero 16 A N\u00famero Apto 8 A Apartamento Bloco 32 A Descri\u00e7\u00e3o do bloco CEP 8 N N\u00famero do CEP Bairro 32 A Descri\u00e7\u00e3o do bairro CPF 11 N N\u00famero do CPF <p>Retorno:</p> Retorno Descri\u00e7\u00e3o 0 O operador digitou os dados -1 A opera\u00e7\u00e3o foi cancelada"},{"location":"pages/IntegracaoSemTelas/Callbacks/#mensagem-alerta","title":"Mensagem Alerta","text":"<pre><code>void MensagemAlerta(char *pMensagemAlerta) \n</code></pre> <p>Apresenta uma mensagem de alerta enviada pelo concentrador TEF ao PDV. N\u00e3o necessita de resposta, mas dever\u00e1 esperar a confirma\u00e7\u00e3o da leitura pelo operador.</p> Campo solicita\u00e7\u00e3o Formato Descri\u00e7\u00e3o pMensagemAlerta A Mensagem de alerta a ser apresentada ao operador do PDV.A diferen\u00e7a com rela\u00e7\u00e3o a outras mensagens \u00e9 que esta dever\u00e1 aguardar a confirma\u00e7\u00e3o da leitura do operador. <p>Retorno: O retorno desta fun\u00e7\u00e3o dever\u00e1 ser 0.</p> <p>Observa\u00e7\u00f5es: \u2022 Atualmente, esta fun\u00e7\u00e3o \u00e9 utilizada no momento de se desfazer uma transa\u00e7\u00e3o, onde \u00e9 apresentada uma mensagem indicando que a transa\u00e7\u00e3o foi desfeita e o cupom deve ser retido. Por ser uma situa\u00e7\u00e3o importante, \u00e9 necess\u00e1ria a confirma\u00e7\u00e3o de leitura pelo operador.</p>"},{"location":"pages/IntegracaoSemTelas/Callbacks/#preview-comprovante","title":"Preview Comprovante","text":"<pre><code>void PreviewComprovante(char *pComprovante) \n</code></pre> <p>Apresenta um comprovante na tela. Isto acontece principalmente em transa\u00e7\u00f5es de simula\u00e7\u00e3o de planos de pagamento, onde \u00e9 feita apenas uma apresenta\u00e7\u00e3o do resultado na tela, sem impress\u00e3o do comprovante na impressora.</p> Campo solicita\u00e7\u00e3o Formato Descri\u00e7\u00e3o pComprovante A Comprovante a ser exibido na tela. <p>Retorno:esta fun\u00e7\u00e3o n\u00e3o necessita de resposta, mas dever\u00e1 aguardar a leitura dos dados por parte do operador, ou seja, dever\u00e1 aguardar que o usu\u00e1rio tome alguma a\u00e7\u00e3o (pressione uma tecla, por exemplo).</p>"},{"location":"pages/IntegracaoSemTelas/Callbacks/#operacao-cancelada","title":"Opera\u00e7\u00e3o Cancelada","text":"<pre><code>int OperacaoCancelada(void) \n</code></pre> <p>Retorna se a opera\u00e7\u00e3o foi cancelada pelo operador. Esta fun\u00e7\u00e3o \u00e9 chamada principalmente em opera\u00e7\u00f5es com o pinpad, como por exemplo a passagem do cart\u00e3o. Como essa passagem pode ser cancelada atrav\u00e9s da automa\u00e7\u00e3o, se houver essa op\u00e7\u00e3o na automa\u00e7\u00e3o e o usu\u00e1rio acion\u00e1-la enquanto o cart\u00e3o estiver sendo lido, a opera\u00e7\u00e3o ser\u00e1 cancelada pelo client.</p> <p>Retorno: esta fun\u00e7\u00e3o n\u00e3o necessita de resposta.</p> <p>Observa\u00e7\u00f5es: \u2022 Essa fun\u00e7\u00e3o \u00e9 chamada m\u00faltiplas vezes durante a transa\u00e7\u00e3o, principalmente durante a leitura de cart\u00f5es. Quando a fun\u00e7\u00e3o retorna 1, o pinpad para a leitura e o Paykit chama a fun\u00e7\u00e3o seguinte conforme o fluxo.</p>"},{"location":"pages/IntegracaoSemTelas/Callbacks/#seta-operacao-cancelada","title":"Seta Opera\u00e7\u00e3o Cancelada","text":"<pre><code>int SetaOperacaoCancelada(int iCancelada) \n</code></pre> <p>Indica qual o valor que a fun\u00e7\u00e3o OperacaoCancelada deve inicializar. Se, por exemplo, a fun\u00e7\u00e3o OperacaoCancelada est\u00e1 indicando que a opera\u00e7\u00e3o foi cancelada e a fun\u00e7\u00e3o SetaOperacaoCancelada for chamada com o valor 1, ent\u00e3o a fun\u00e7\u00e3o OperacaoCancelada come\u00e7ar\u00e1 a indicar que a opera\u00e7\u00e3o n\u00e3o foi mais cancelada (o valor foi reinicializado). Se o usu\u00e1rio indicar novamente que a opera\u00e7\u00e3o foi cancelada, ent\u00e3o a fun\u00e7\u00e3o OperacaoCancelada voltar\u00e1 a indicar que a opera\u00e7\u00e3o foi cancelada, retornando o valor verdadeiro na fun\u00e7\u00e3o. Na pr\u00e1tica, esta fun\u00e7\u00e3o serve para reinicializar o indicador de que a opera\u00e7\u00e3o foi cancelada.</p> Campo solicita\u00e7\u00e3o Formato Descri\u00e7\u00e3o iCancelada N Indica se a opera\u00e7\u00e3o foi cancelada<ul><li>[0] a opera\u00e7\u00e3o n\u00e3o foi cancelada</li><li>[1] a opera\u00e7\u00e3o foi cancelada</li></ul> <p>Retorno: O retorno desta fun\u00e7\u00e3o dever\u00e1 ser 0.</p> <p>Observa\u00e7\u00f5es: \u2022 A implementa\u00e7\u00e3o deste m\u00e9todo consiste apenas em setar a vari\u00e1vel de global de controle de opera\u00e7\u00e3o cancelada para o valor do par\u00e2metro.</p>"},{"location":"pages/IntegracaoSemTelas/Callbacks/#processa-mensagens","title":"Processa Mensagens","text":"<pre><code>void ProcessaMensagens(void) \n</code></pre> <p>Indica para a automa\u00e7\u00e3o executar processamento que esteja esperando o retorno de fun\u00e7\u00f5es blocantes do client. Por exemplo, ao se passar o cart\u00e3o no PinPad, o client fica aguardando a a\u00e7\u00e3o do operador. Para que a automa\u00e7\u00e3o n\u00e3o fique \u201ctravada\u201d, o client chama essa fun\u00e7\u00e3o para que ela execute procedimentos do tipo atualiza\u00e7\u00e3o de tela, hor\u00e1rios e mensagens, processamento de teclado (para verificar se a opera\u00e7\u00e3o foi cancelada). Esta fun\u00e7\u00e3o n\u00e3o possui par\u00e2metros e tamb\u00e9m n\u00e3o tem retorno.</p>"},{"location":"pages/IntegracaoSemTelas/Callbacks/#seleciona-planos","title":"Seleciona Planos","text":"<pre><code>int SelecionaPlanos(int iCodigoRede, int iCodigoTransacao, int iTipoFinanciamento, int\n iMaximoParcelas, char *pValorMinimoParcela, int iMaxDiasPreDatado, char *pNumeroParcelas,\n char *pValorTransacao, char *pValorParcela, char *pValorEntrada, char *pData) \n</code></pre> <p>Realiza a sele\u00e7\u00e3o dos planos de pagamento conforme os dados da transa\u00e7\u00e3o.</p> Campo solicita\u00e7\u00e3o Formato Descri\u00e7\u00e3o iCodigoRede N C\u00f3digo da transa\u00e7\u00e3o. Este campo \u00e9 informado pelo Client.<ul><li>[1] Visanet</li></ul> iCodigoTransacao N Indica se a opera\u00e7\u00e3o foi cancelada<ul><li>[8001] Cr\u00e9dito</li><li>[8002] D\u00e9bito</li></ul> iTipoFinanciamento N Tipo do parcelamento. Este campo \u00e9 informado pelo Client.<ul><li>[0] \u00c0 Vista</li><li>[1] Parcelamento ADM (com juros)</li><li>[2] Parcelamento Loja (sem juros)</li><li>[3] Parcelamento CDC</li><li>[4] Pr\u00e9 Datado</li></ul> Campo de Retorno Formato Descri\u00e7\u00e3o iNumeroParcelas N N\u00famero de parcelas. Informar 0 se o n\u00famero de parcelas n\u00e3o foi definido. Este campo deve ser informado pelo PDV. pValorTransacao N Valor da transa\u00e7\u00e3o. Este campo deve ser informado pelo PDV. ValorParcela N Valor da parcela. Este campo deve ser informado pelo PDV. ValorEntrada N Valor da entrada. Este campo deve ser informado pelo PDV. Data DDMMAAAA Data do d\u00e9bito (transa\u00e7\u00f5es pr\u00e9-datadas). Este campo deve ser informado pelo PDV. MaximoParcelas N N\u00famero m\u00e1ximo de parcelas. Este campo \u00e9 informado pelo Client. ValorMinimoParcelas N Valor m\u00ednimo da parcela. Este campo \u00e9 informado pelo Client. MaxiDiasPredatado N N\u00famero m\u00e1ximo de dias pr\u00e9-datado. Este campo \u00e9 informado pelo Client. Reservado A Uso futuro Retorno Descri\u00e7\u00e3o 0 O operador selecionou um plano -1 Os planos n\u00e3o ser\u00e3o tratados -2 A opera\u00e7\u00e3o foi cancelada pelo usuario"},{"location":"pages/IntegracaoSemTelas/Callbacks/#seleciona-planos-ex","title":"Seleciona Planos EX","text":"<pre><code>int SelecionaPlanosEx(char *pSolicitacao, char *pRetorno) \n</code></pre> <p>Realiza a sele\u00e7\u00e3o dos planos de pagamento conforme os dados da transa\u00e7\u00e3o. Os par\u00e2metros de solicita\u00e7\u00e3o e retorno s\u00e3o formados pelos campos abaixo, separados pelo caracter \u201c|\u201d (pipe). Se houver valor passado no campo, dever\u00e1 ser assumido como o valor padr\u00e3o a ser oferecido ao usu\u00e1rio. Os valores que ser\u00e3o tratados no retorno s\u00e3o ValorTransacao, TipoFinanciamento, NumeroParcelas, ValorParcela, ValorEntrada, DataPreDatado e Plano. Os outros campos, embora n\u00e3o sejam tratados pelo client na volta, dever\u00e3o ser retornados. Exemplo: \u00a0\u00a0\u00a0Solicita\u00e7\u00e3o: 61|8001|300|8|8|000000000000|00|0|0|000000000000|000000000000|00000000| \u00a0\u00a0\u00a0Retorno:     61|8001|300|8|8|000000000000|00|0|0|000000000000|000000000000|00000000|001|</p> Campo solicita\u00e7\u00e3o Formato Descri\u00e7\u00e3o CodigoRede N C\u00f3digo da Rede no Linx TEF<ul><li>[1] Cielo</li><li>[61] Softway</li></ul> CodigoTransacao N CodigoTransacao<ul><li>[8001] Cr\u00e9dito</li><li>[8002] D\u00e9bito</li></ul> ValorTransacao N Valor da transa\u00e7\u00e3o (em centavos) NumeroMaximoParcelasS/Juros N N\u00famero m\u00e1ximo de parcelas permitido para o parcelamento loja (sem juros) NumeroMaximoParcelasC/Juros N N\u00famero m\u00e1ximo de parcelas permitido para o parcelamento ADM (com juros) ValorMinimoParcela N Valor m\u00ednimo permitido para a parcela MaximoDiasPreDatado N N\u00famero m\u00e1ximo de dias permitido para transa\u00e7\u00e3o pr\u00e9-datada iTipoFinanciamento N Tipo do parcelamento. Este campo \u00e9 informado pelo Client.<ul><li>[0] \u00c0 Vista</li><li>[1] Parcelamento ADM (com juros)</li><li>[2] Parcelamento Loja (sem juros)</li><li>[3] Parcelamento CDC</li><li>[4] Pr\u00e9 Datado</li></ul> NumeroParcelas N N\u00famero de parcelas ValorParcela N Valor da parcela (em centavos) ValorEntrada N Valor da entrada (em centavos) DataPreDatado DDMMAAAA Data para transa\u00e7\u00f5es pr\u00e9-datadas Plano N C\u00f3digo do plano <p>Retorno:</p> Retorno Descri\u00e7\u00e3o 0 O operador selecionou um plano -1 Os planos n\u00e3o ser\u00e3o tratados -2 A opera\u00e7\u00e3o foi cancelada pelo usuario"},{"location":"pages/IntegracaoSemTelas/Callbacks/#entra-valor-especial","title":"Entra Valor Especial","text":"<pre><code>int EntraValorEspecial(char *pLabel, char *pValor, char *pParametros) \n</code></pre> <p>Comando para que o operador entre com um valor num\u00e9rico monet\u00e1rio, de acordo com as parametriza\u00e7\u00f5es.</p> Campo solicita\u00e7\u00e3o Formato Descri\u00e7\u00e3o pLabel A Mensagem a ser apresentada pParametros N Par\u00e2metros para a coleta do valor monet\u00e1rio:<ul><li>ValorMinimo: N12 Valor m\u00ednimo aceito para o campo</li><li>ValorMaximo: N12 Valor m\u00e1ximo aceito para o campo</li><li>NroCasasDecimais: N1 N\u00famero de casas decimais a ser utilizado na coleta</li></ul> Campo de Retorno Formato Descri\u00e7\u00e3o pValor 12 N Valor digitado pelo operador. O campo dever\u00e1 ser retornado sem separador.Se na chamada este campo tiver um valor, ele dever\u00e1 ser apresentado como o valor default Retorno Descri\u00e7\u00e3o 0 O operador digitou o valor -1 A opera\u00e7\u00e3o foi cancelada"},{"location":"pages/IntegracaoSemTelas/Callbacks/#comandos","title":"Comandos","text":"<pre><code>int Comandos(char *pDadosEntrada, char *pRetorno) \n</code></pre> <p>Comandos gen\u00e9ricos enviados do client Linx TEF. Quando necess\u00e1rio para executar uma transa\u00e7\u00e3o, o Paykit poder\u00e1 chamar este callback para que a automa\u00e7\u00e3o execute alguma opera\u00e7\u00e3o. Uma das situa\u00e7\u00f5es onde isso \u00e9 usado \u00e9 na apresenta\u00e7\u00e3o do QR Code para transa\u00e7\u00f5es com carteiras digitais. Caso os comandos n\u00e3o sejam implementados, na medida do poss\u00edvel o client do Linx TEF tentar\u00e1 processar o comando. Por exemplo, caso o comando de apresenta\u00e7\u00e3o de QR Code n\u00e3o seja implementado o Paykit exibir\u00e1 uma tela com o QR Code mesmo que a integra\u00e7\u00e3o seja feita com as telas da automa\u00e7\u00e3o.</p> Campo solicita\u00e7\u00e3o Formato Descri\u00e7\u00e3o pDadosEntrada A Dados de solicita\u00e7\u00e3o do comando.Os comandos s\u00e3o enviados no formato TLV, com c\u00f3digo de comando com 3 bytes e tamanho com 6 bytes. O tamanho se refere ao tamanho dos dados e n\u00e3o ao tamanho total. Por exemplo, o comando para apresenta\u00e7\u00e3o de um c\u00f3digo QR Code fica assim: 001000030LINXeFuiMzDmu85TcYCimGcOeMvUwM C\u00f3digo de comando: 001 Tamanho: 000030 QRCode: LINXeFuiMzDmu85TcYCimGcOeMvUwM Campo de Retorno Formato Descri\u00e7\u00e3o pDadosRetorno N Dados de retorno da solicita\u00e7\u00e3o <p>Comandos:</p> C\u00f3digo Descri\u00e7\u00e3o 001 Apresentar QR Code. O campo de dados cont\u00e9m o QR Code que deve ser apresentado 002 Lista de wallets dispon\u00edveis para utiliza\u00e7\u00e3o no QR. Os nomes s\u00e3o separados por ; <p>Retorno:</p> Retorno Descri\u00e7\u00e3o 0 O comando foi executado corretamente. -1 O comando n\u00e3o foi implementado -2 Ocorreu um erro ao executar o comando"},{"location":"pages/IntegracaoSemTelas/Callbacks/#solicita-confirmacao","title":"Solicita Confirma\u00e7\u00e3o","text":"<pre><code>int SolicitaConfirmacao(char *pMensagem)\n</code></pre> <p>Comando que for\u00e7a uma intera\u00e7\u00e3o do operador solicitando uma confirma\u00e7\u00e3o ou n\u00e3o de uma determinada situa\u00e7\u00e3o, pode ser enviado um texto no par\u00e2metro pMensagem para ser exibido.</p> Campo solicita\u00e7\u00e3o Formato Descri\u00e7\u00e3o pMensagem A Mensagem a ser apresentada"},{"location":"pages/IntegracaoSemTelas/FuncoesExportadasParaRegistrarCallback/","title":"Fun\u00e7\u00f5es exportadas para registrar as fun\u00e7\u00f5es de Callback","text":""},{"location":"pages/IntegracaoSemTelas/FuncoesExportadasParaRegistrarCallback/#funcoes-exportadas-para-registrar-as-funcoes-de-callback","title":"Fun\u00e7\u00f5es exportadas para registrar as fun\u00e7\u00f5es de Callback","text":"<p>Para que o client tenha conhecimento das fun\u00e7\u00f5es da automa\u00e7\u00e3o que ele ir\u00e1 executar, essas fun\u00e7\u00f5es devem ser registradas. Seguem as fun\u00e7\u00f5es disponibilizadas na DLL DPOSDRV.DLL para esse fim (a declara\u00e7\u00e3o est\u00e1 na linguagem C).</p> <pre><code>extern \"C\" {\n    void DIRETIVA_CALLBACK RegPDVDisplayTerminal(pCallBackDisplayTerminal);\n    void DIRETIVA_CALLBACK RegPDVDisplayErro(pCallBackDisplayErro); \n    void DIRETIVA_CALLBACK RegPDVMensagem(pCallBackMensagem); \n    void DIRETIVA_CALLBACK RegPDVBeep(pCallBackBeep); \n    void DIRETIVA_CALLBACK RegPDVSolicitaConfirmacao(pCallBackSolicitaConfirmacao); \n    void DIRETIVA_CALLBACK RegPDVEntraCartao(pCallBackEntraCartao); \n    void DIRETIVA_CALLBACK RegPDVEntraDataValidade(pCallBackEntraDataValidade); \n    void DIRETIVA_CALLBACK RegPDVEntraData(pCallBackEntraData); \n    void DIRETIVA_CALLBACK RegPDVEntraCodigoSeguranca(pCallBackEntraCodigoSeguranca); \n    void DIRETIVA_CALLBACK RegPDVSelecionaOpcao(pCallBackSelecionaOpcao); \n    void DIRETIVA_CALLBACK RegPDVEntraValor(pCallBackEntraValor); \n    void DIRETIVA_CALLBACK RegPDVEntraNumero(pCallBackEntraNumero); \n    void DIRETIVA_CALLBACK RegPDVOperacaoCancelada(pCallBackOperacaoCancelada); \n    void DIRETIVA_CALLBACK RegPDVSetaOperacaoCancelada(pCallBackSetaOperacaoCancelada);\n    void DIRETIVA_CALLBACK RegPDVProcessaMensagens(pCallBackProcessaMensagens); \n    void DIRETIVA_CALLBACK RegPDVEntraString(pCallBackEntraString); \n    void DIRETIVA_CALLBACK RegPDVConsultaAVS(pCallBackConsultaAVS); \n    void DIRETIVA_CALLBACK RegPDVMensagemAdicional(pCallBackMensagemAdicional); \n    void DIRETIVA_CALLBACK RegPDVImagemAdicional(pCallBackImagemAdicional); \n    void DIRETIVA_CALLBACK RegPDVEntraCodigoBarras(pCallBackEntraCodigoBarras); \n    void DIRETIVA_CALLBACK RegPDVEntraCodigoBarrasLido(pCallBackEntraCodigoBarrasLido);\n    void DIRETIVA_CALLBACK RegPDVMensagemAlerta(pCallBackMensagemAlerta); \n    void DIRETIVA_CALLBACK RegPDVPreviewComprovante(pCallBackPreviewComprovante); \n    void DIRETIVA_CALLBACK RegPDVSelecionaPlanos(pCallBackSelecionaPlanos); \n    void DIRETIVA_CALLBACK RegPDVSelecionaPlanosEx(pCallBackSelecionaPlanosEx); \n    void DIRETIVA_CALLBACK RegPDVEntraValorEspecial(pCallBackEntraValorEspecial); \n    void DIRETIVA_CALLBACK RegPDVComandos(pCallBackComandos); \n}\n</code></pre>"},{"location":"pages/IntegracaoSemTelas/FuncoesExportadasParaRegistrarCallback/#declaracao-dos-parametros-das-funcoes","title":"Declara\u00e7\u00e3o dos par\u00e2metros das fun\u00e7\u00f5es","text":"<p>As fun\u00e7\u00f5es passadas como par\u00e2metros para os procedimentos de registro declarados acima dever\u00e3o seguir a estrutura definida abaixo.</p> <pre><code>typedef void (DIRETIVA_CALLBACK *pCallBackDisplayTerminal)(char *pMensagem);\ntypedef void (DIRETIVA_CALLBACK *pCallBackDisplayErro)(char *pMensagem);\ntypedef void (DIRETIVA_CALLBACK *pCallBackMensagem)(char *pMensagem);\ntypedef void (DIRETIVA_CALLBACK *pCallBackBeep)(void);\ntypedef int (DIRETIVA_CALLBACK *pCallBackSolicitaConfirmacao)(char *pMensagem);\ntypedef int (DIRETIVA_CALLBACK *pCallBackEntraCartao)(char *pLabel, char *pCartao);\ntypedef int (DIRETIVA_CALLBACK *pCallBackEntraDataValidade)(char *pLabel, char *pDataValidade);\ntypedef int (DIRETIVA_CALLBACK *pCallBackEntraData)(char *pLabel, char *pDataValidade);\ntypedef int (DIRETIVA_CALLBACK *pCallBackEntraCodigoSeguranca)(char *pLabel, char *pEntraCodigoSeguranca,int iTamanhoMax);\ntypedef int (DIRETIVA_CALLBACK *pCallBackSelecionaOpcao)(char *pLabel, char *pOpcoes, int *iOpcaoSelecionada);\ntypedef int (DIRETIVA_CALLBACK *pCallBackEntraValor)(char *pLabel, char *pValor, char *pValorMinimo, char *pValorMaximo);\ntypedef int (DIRETIVA_CALLBACK *pCallBackEntraNumero)(char *pLabel, char *pNumero, char *pNumeroMinimo, char *pNumeroMaximo, int iMinimoDigitos,int iMaximoDigitos,int iDigitosExatos);\ntypedef int (DIRETIVA_CALLBACK *pCallBackOperacaoCancelada) (void);\ntypedef int (DIRETIVA_CALLBACK *pCallBackSetaOperacaoCancelada) (bool bCancelada);\ntypedef void (DIRETIVA_CALLBACK *pCallBackProcessaMensagens) (void);\ntypedef int (DIRETIVA_CALLBACK *pCallBackEntraString)(char *pLabel, char *pString, char *pTamanhoMaximo);\ntypedef int (DIRETIVA_CALLBACK *pCallBackConsultaAVS)(char *cEndereco,char *cNumero,char *cApto,char *cBloco,char *cCEP, char *cBairro,char *cCPF);\ntypedef int (DIRETIVA_CALLBACK *pCallBackMensagemAdicional)(char *pMensagemAdicional);\ntypedef int (DIRETIVA_CALLBACK *pCallBackImagemAdicional)(int iIndiceImagem);\ntypedef int (DIRETIVA_CALLBACK *pCallBackEntraCodigoBarras) (char *Label,char *Campo);\ntypedef int (DIRETIVA_CALLBACK *pCallBackEntraCodigoBarrasLido)(char *Label,char *Campo);\ntypedef void (DIRETIVA_CALLBACK *pCallBackMensagemAlerta) (char *pMensagemAlerta);\ntypedef void (DIRETIVA_CALLBACK *pCallBackPreviewComprovante) (char * cComprovante);\ntypedef int (DIRETIVA_CALLBACK *pCallBackSelecionaPlanos)(int iCodigoRede, int iCodigoTransacao, int iTipoFinanciamento, int iMaximoParcelas, char *pValorMinimoParcela, int iMaxDiasPreDatado, char *pNumeroParcelas, char *pValorTransacao, char *pValorParcela, char *pValorEntrada, char *pData);\ntypedef int (DIRETIVA_CALLBACK *pCallBackSelecionaPlanosEx)(char *pSolicitacao, char *pRetorno);\ntypedef int (DIRETIVA_CALLBACK *pCallBackEntraValorEspecial)(char *pLabel, char *pValor, char *pParametros);\ntypedef int (DIRETIVA_CALLBACK *pCallBackComandos)(char *pParametrosEntrada, char *pDadosRetorno); \n</code></pre>"},{"location":"pages/LayoutLogTransacoes/","title":"Layout Log Transa\u00e7\u00f5es","text":""},{"location":"pages/LayoutLogTransacoes/#log-das-transacoes","title":"LOG das Transa\u00e7\u00f5es","text":"<p>Todas as transa\u00e7\u00f5es ser\u00e3o gravadas em um arquivo no diret\u00f3rio configurado para as DLLs do Paykit, com informa\u00e7\u00f5es detalhadas sobre as mesmas, em formato texto com tamanho fixo de 257 bytes. O arquivo contendo os dados das transa\u00e7\u00f5es aprovadas possuir\u00e1 o nome &lt;DPOSddmmaaaa.ppp&gt;  (onde ppp corresponde ao n\u00famero do equipamento). Ser\u00e1 criado tamb\u00e9m um arquivo denominado &lt;DPOSddmmaaaa.ERR&gt; para as transa\u00e7\u00f5es n\u00e3o aprovadas ou canceladas. A estrutura dos diferentes registros de log \u00e9 apresentada nas se\u00e7\u00f5es seguintes. OBS.:</p> <li>Todos os campos num\u00e9ricos informados ser\u00e3o completados com zeros \u00e0 esquerda e, quando n\u00e3o informados, ser\u00e3o preenchidos com zeros.</li> <li>Os campos alfanum\u00e9ricos ser\u00e3o completados com espa\u00e7os \u00e0 direita e, quando n\u00e3o informados, ser\u00e3o preenchidos com espa\u00e7os.</li>"},{"location":"pages/LayoutLogTransacoes/AcrescimoPreAutorizacao/","title":"Transa\u00e7\u00e3o Acr\u00e9scimo de Pr\u00e9-Autoriza\u00e7\u00e3o","text":""},{"location":"pages/LayoutLogTransacoes/AcrescimoPreAutorizacao/#registro-da-transacao-acrescimo-de-pre-autorizacao","title":"Registro da Transa\u00e7\u00e3o Acr\u00e9scimo de Pr\u00e9-Autoriza\u00e7\u00e3o","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[PAA] Acr\u00e9scimo Pr\u00e9 Autoriza\u00e7\u00e3o</li></ul> Data 8 N Hora 6 N CodigoTransacao 2 N Codigo da transa\u00e7\u00e3o solicitada NumeroEquipamento 3 N NumeroFiscalEquipamento 8 N N\u00famero de registro junto \u00e0 Receita Federal NumeroCupom 6 N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) ValorTransacao 12 N 10 inteiros, 2 decimais Reservado 1 A NumeroAutorizador 2 N Veja Tabela 2.0 de Redes Autorizadoras NumeroCartao 37 A Conte\u00fado da trilha 2 sem bytes sentinelas Reservado 4 A TipoOperacao 2 A <ul><li>[AV] \u00c0 Vista</li></ul> DataDebito 8 N  Data da parcela Reservado 21 A CodigoResposta 2 N NumeroControleRede 9 A NSU Rede (n\u00famero seq\u00fcencial \u00fanico) NumeroControle 6 N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroAutorizacaoRede 6 A MensagemErro 20 A Reservado 55 A CodigoOperadora 4 N Veja Tabela 4.0 de Operadoras NumeroAutorizador8 4 N Rede Autorizadora do Linx TEF CR+LF 2 H [0D0A]"},{"location":"pages/LayoutLogTransacoes/AcumuloDePontosResgateDePontos/","title":"Transa\u00e7\u00e3o de Ac\u00famulo de Pontos/Resgate de Pontos","text":""},{"location":"pages/LayoutLogTransacoes/AcumuloDePontosResgateDePontos/#registro-das-transacoes-de-resgate-e-acumulo-de-pontos","title":"Registro das Transa\u00e7\u00f5es de Resgate e Ac\u00famulo de Pontos","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[VPO] Ac\u00famulo de Pontos</li><li>[RPO] Resgate de Pontos</li></ul> Data 8 N Hora 6 N CodigoTransacao 2 N Codigo da transa\u00e7\u00e3o solicitada NumeroEquipamento 3 N NumeroFiscalEquipamento 8 N N\u00famero de registro junto \u00e0 Receita Federal NumeroCupom 6 N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) ValorTransacao 12 N 10 inteiros, 2 decimais FormaPagamento 1 N <ul><li>[1] Dinheiro</li><li>[2] Cheque</li><li>[3] Cart\u00e3o</li></ul> NumeroAutorizador 2 N Veja Tabela 2.0 de Redes Autorizadoras CPFCNPJ 14 A CPF ou CNPJ do cliente C\u00f3digoFuncion\u00e1rio 6 A C\u00f3digo do funcion\u00e1rio SaldoPontos 12 N Saldo de pontos PontosOpera\u00e7\u00e3o 12 N Pontos obtidos/resgatados na opera\u00e7\u00e3o CodigoResposta 2 N NumeroControleRede 12 A NSU Rede (n\u00famero seq\u00fcencial \u00fanico) NumeroControle 6 N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroAutorizacaoRede 12 A MensagemErro 20 A CodigoOrigem 5 N Origem da transa\u00e7\u00e3o<ul><li>[00001] Pista</li><li>[00002] BrMania</li><li>[00003] Lubrax+</li></ul> TelefoneCliente 15 A BinTransacaoCartao 6 N 6 primeiros d\u00edgitos do cart\u00e3o se a forma de pagamento foi cart\u00e3o Tipo de documento do cliente 1 A <ul><li>[F] CPF</li><li>[J] CNPJ</li><li>[C] Cart\u00e3o</li><li>[I] C\u00f3digo interno</li></ul> Documento do cliente 37 N Reservado 30 A NumeroAutorizador8 4 N Rede Autorizadora do Linx TEF CR+LF 2 H [0D0A]"},{"location":"pages/LayoutLogTransacoes/Cancelamento/","title":"Transa\u00e7\u00e3o de Cancelamento","text":""},{"location":"pages/LayoutLogTransacoes/Cancelamento/#registro-da-transacao-de-cancelamento","title":"Registro da Transa\u00e7\u00e3o de Cancelamento","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[CNC] Cancelamento</li></ul> Data 8 N Hora 6 N CodigoTransacao 2 N Codigo da transa\u00e7\u00e3o solicitada NumeroEquipamento 3 N NumeroFiscalEquipamento 8 N N\u00famero de registro junto \u00e0 Receita Federal NumeroCupom 6 N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) ValorTransacao 12 N 10 inteiros, 2 decimais TipoColetaCartao 1 N <ul><li>[0] Tarja magn\u00e9tica</li><li>[1] Digitado</li><li>[2] Chip TIBC 1</li><li>[3] Chip TIBC 3</li><li>[4] Chip com contato EMV</li><li>[5] Sem contato tarja</li><li>[6] Sem contato EMV</li></ul> NumeroAutorizador 2 N Veja Tabela 2.0 de Redes Autorizadoras NumeroCartao 37 A Conte\u00fado da trilha 2 sem bytes sentinelas VencimentoCartao 4 N Formato MMAA Reservado 4 A NumeroControleCancelado 6 N NSU da transa\u00e7\u00e3o cancelada Reservado 37 A CodigoResposta 2 N NumeroControleRede 9 A NSU Rede (n\u00famero seq\u00fcencial \u00fanico) NumeroControle 6 N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroAutorizacaoRede 6 A MensagemErro 20 A Reservado 55 A CodigoOperadora 4 N Veja Tabela 4.0 de Operadoras NumeroAutorizador8 4 N Rede Autorizadora do Linx TEF CR+LF 2 H [0D0A]"},{"location":"pages/LayoutLogTransacoes/CargaERecargaDeCartao/","title":"Transa\u00e7\u00e3o de Carga e Recarga de Cart\u00e3o (Pr\u00e9-Pago)","text":""},{"location":"pages/LayoutLogTransacoes/CargaERecargaDeCartao/#registro-da-transacao-de-carga-e-recarga-de-cartao-pre-pago","title":"Registro da Transa\u00e7\u00e3o de Carga e Recarga de Cart\u00e3o (Pr\u00e9-Pago)","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[CPP] Cart\u00e3o Pr\u00e9-Pago</li></ul> Data 8 N Hora 6 N CodigoTransacao 2 N Codigo da transa\u00e7\u00e3o solicitada NumeroEquipamento 3 N NumeroFiscalEquipamento 8 N N\u00famero de registro junto \u00e0 Receita Federal NumeroCupom 6 N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) ValorTransacao 12 N 10 inteiros, 2 decimais Reservado 1 A NumeroAutorizador 2 N Veja Tabela 2.0 de Redes Autorizadoras NumeroCartao 37 A Conte\u00fado da trilha 2 sem bytes sentinelas Reservado 4 A TipoOperacao 2 A <ul><li>[CA] Carga Cart\u00e3o</li><li>[RE] Recarga do Cart\u00e3o</li><li>[PG] Pagamento com Cart\u00e3o Pr\u00e9-pago (Vale-presente)</li><li>[CR] C\u00f3digo de Resgate de Cart\u00e3o Pr\u00e9-pago</li></ul> Reservado 45 A CodigoResposta 2 N NumeroControleRede 9 A NSU Rede (n\u00famero seq\u00fcencial \u00fanico) NumeroControle 6 N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroAutorizacaoRede 6 A MensagemErro 20 A Reservado 55 A CodigoOperadora 4 N Veja Tabela 4.0 de Operadoras NumeroAutorizador8 4 N Rede Autorizadora do Linx TEF CR+LF 2 H [0D0A]"},{"location":"pages/LayoutLogTransacoes/CartaoCrediario/","title":"Transa\u00e7\u00e3o Cart\u00e3o Credi\u00e1rio","text":""},{"location":"pages/LayoutLogTransacoes/CartaoCrediario/#registro-da-transacao-cartao-crediario","title":"Registro da Transa\u00e7\u00e3o Cart\u00e3o Credi\u00e1rio","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[CCD] Cart\u00e3o Credi\u00e1rio</li></ul> Data 8 N Hora 6 N CodigoTransacao 2 A Codigo da transa\u00e7\u00e3o solicitada NumeroEquipamento 3 N NumeroFiscalEquipamento 8 N N\u00famero de registro junto \u00e0 Receita Federal NumeroCupom 6 N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) ValorTransacao 12 N 10 inteiros, 2 decimais Reservado 1 A NumeroAutorizador 2 N Veja Tabela 2.0 de Redes Autorizadoras NumeroCartao 37 A Conte\u00fado da trilha 2 sem bytes sentinelas VencimentoCartao 4 N Formato MMAA TipoOperacao 2 A <ul><li>[PC] Parcelada (com juros)</li></ul> NumeroParcelas 2 N N\u00famero de parcelas da transa\u00e7\u00e3o SequenciaParcela 2 N Seq\u00fc\u00eancia da parcela na transa\u00e7\u00e3o DataDebito 8 N  Data da parcela (transa\u00e7\u00e3o parcelada) ou Data de d\u00e9bito (transa\u00e7\u00e3o pr\u00e9-datada) ValorParcela 12 N 10 inteiros, 2 decimais Reservado 21 A CodigoResposta 2 N NumeroControleRede 9 A NSU Rede (n\u00famero seq\u00fcencial \u00fanico) NumeroControle 6 N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroAutorizacaoRede 6 A MensagemErro 20 A Reservado 55 A CodigoOperadora 4 N Veja Tabela 4.0 de Operadoras NumeroAutorizador8 4 N Rede Autorizadora do Linx TEF CR+LF 2 H [0D0A]"},{"location":"pages/LayoutLogTransacoes/CartaoCredito/","title":"Transa\u00e7\u00e3o Cart\u00e3o de Cr\u00e9dito","text":""},{"location":"pages/LayoutLogTransacoes/CartaoCredito/#registro-da-transacao-cartao-de-credito","title":"Registro da Transa\u00e7\u00e3o Cart\u00e3o de Cr\u00e9dito","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[CCR] Cart\u00e3o de Cr\u00e9dito</li></ul> Data 8 N Hora 6 N CodigoTransacao 2 N Codigo da transa\u00e7\u00e3o solicitada NumeroEquipamento 3 N NumeroFiscalEquipamento 8 N N\u00famero de registro junto \u00e0 Receita Federal NumeroCupom 6 N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) ValorTransacao 12 N 10 inteiros, 2 decimais TipoColetaCartao 1 N <ul><li>[0] Tarja magn\u00e9tica</li><li>[1] Digitado</li><li>[2] Chip TIBC 1</li><li>[3] Chip TIBC 3</li><li>[4] Chip com contato EMV</li><li>[5] Sem contato tarja</li><li>[6] Sem contato EMV</li></ul> NumeroAutorizador 2 N Veja Tabela 2.0 de Redes Autorizadoras NumeroCartao 37 A Conte\u00fado da trilha 2 sem bytes sentinelas VencimentoCartao 4 N Formato MMAA TipoOperacao 2 A <ul><li>[AV] \u00c0 Vista</li><li>[FL] Financiamento Lojista (sem juros)</li><li>[FA] Financiamento Administradora (com juros)</li></ul> NumeroParcelas 2 N N\u00famero de parcelas da transa\u00e7\u00e3o CartaoPrePago 1 A Indicativo se \u00e9 um cart\u00e3o pr\u00e9-pago, respostas possiveis: 'S' (Sim), 'N' (N\u00e3o) ou ' ' (para redes que n\u00e3o informam o tipo do cart\u00e3o) Reservado 9 A ValorParcela 12 N 10 inteiros, 2 decimais ValorTaxaServico 12 N 10 inteiros, 2 decimais Reservado 9 A CodigoResposta 2 N NumeroControleRede 9 A NSU Rede (n\u00famero seq\u00fcencial \u00fanico) NumeroControle 6 N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroAutorizacaoRede 6 A MensagemErro 20 A ValorTaxaEmbarque 12 N 10 inteiros, 2 decimais CPF ou CNPJ 14 A CPF ou CNPJ retornado na transa\u00e7\u00e3o Reservado 29 A CodigoOperadora 4 N Veja Tabela 4.0 de Operadoras NumeroAutorizador8 4 N Rede Autorizadora do Linx TEF CR+LF 2 H [0D0A]"},{"location":"pages/LayoutLogTransacoes/CartaoDebito/","title":"Transa\u00e7\u00e3o Cart\u00e3o de D\u00e9bito","text":""},{"location":"pages/LayoutLogTransacoes/CartaoDebito/#registro-da-transacao-cartao-de-debito","title":"Registro da Transa\u00e7\u00e3o Cart\u00e3o de D\u00e9bito","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[CDB] Cart\u00e3o de D\u00e9bito</li></ul> Data 8 N Hora 6 N CodigoTransacao 2 A Codigo da transa\u00e7\u00e3o solicitada NumeroEquipamento 3 N NumeroFiscalEquipamento 8 N N\u00famero de registro junto \u00e0 Receita Federal NumeroCupom 6 N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) ValorTransacao 12 N 10 inteiros, 2 decimais CartaoPrePago 1 A Indicativo se \u00e9 um cart\u00e3o pr\u00e9-pago, respostas possiveis: 'S' (Sim), 'N' (N\u00e3o) ou ' ' (para redes que n\u00e3o informam o tipo do cart\u00e3o) NumeroAutorizador 2 N Veja Tabela 2.0 de Redes Autorizadoras NumeroCartao 37 A Conte\u00fado da trilha 2 sem bytes sentinelas VencimentoCartao 4 N Formato MMAA TipoOperacao 2 A <ul><li>[PS] Parcelada (sem juros)</li><li>[PC] Parcelada (com juros)</li><li>[PD] Pr\u00e9-datada</li></ul> NumeroParcelas 2 N N\u00famero de parcelas da transa\u00e7\u00e3o SequenciaParcela 2 N Seq\u00fc\u00eancia da parcela na transa\u00e7\u00e3o DataDebito 8 N  Data da parcela (transa\u00e7\u00e3o parcelada) ou Data de d\u00e9bito (transa\u00e7\u00e3o pr\u00e9-datada) ValorParcela 12 N 10 inteiros, 2 decimais ValorTaxaServico 12 N 10 inteiros, 2 decimais TipoTransacao 1 N <ul><li>[0] Transa\u00e7\u00e3o Normal</li><li>[1] Transa\u00e7\u00e3o For\u00e7ada</li></ul> CodigoSupervisor 8 A C\u00f3digo do Supervisor autorizador da Transa\u00e7\u00e3o For\u00e7ada CodigoResposta 2 N NumeroControleRede 9 A NSU Rede (n\u00famero seq\u00fcencial \u00fanico) NumeroControle 6 N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroAutorizacaoRede 6 A MensagemErro 20 A TextoGenerico 22 A CPF, CNPJ, Pontos Adquiridos, Fator de Compra, etc ValorSaque 12 N 10 inteiros, 2 decimais ValorTaxaEmbarque 12 N 10 inteiros, 2 decimais Reservado 3 9 A CodigoOperadora 4 N Veja Tabela 4.0 de Operadoras NumeroAutorizador8 4 N Rede Autorizadora do Linx TEF CR+LF 2 H [0D0A]"},{"location":"pages/LayoutLogTransacoes/CartaoFidelidade/","title":"Transa\u00e7\u00e3o Cart\u00e3o Fidelidade","text":""},{"location":"pages/LayoutLogTransacoes/CartaoFidelidade/#registro-da-transacao-cartao-fidelidade","title":"Registro da Transa\u00e7\u00e3o Cart\u00e3o Fidelidade","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[CPF] Carga de Pontos Fidelidade</li><li>[DPF] D\u00e9bito de Pontos Fidelidade</li></ul> Data 8 N Hora 6 N CodigoTransacao 2 N Codigo da transa\u00e7\u00e3o solicitada NumeroEquipamento 3 N NumeroFiscalEquipamento 8 N N\u00famero de registro junto \u00e0 Receita Federal NumeroCupom 6 N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) ValorTransacao 12 N 10 inteiros, 2 decimais Reservado 1 A NumeroAutorizador 2 N Veja Tabela 2.0 de Redes Autorizadoras NumeroCartao 37 A Conte\u00fado da trilha 2 sem bytes sentinelas NSUCancelado 6 N NSU da transa\u00e7\u00e3o a ser cancelada NumeroDocumento 20 N Documento do cliente (CPF) PontosAdquiridos 8 N 6 inteiros 2 decimais FatorCompra 7 N 3 inteiros 4 decimais Reservado 10 A CodigoResposta 2 N NumeroControleRede 9 A NSU Rede (n\u00famero seq\u00fcencial \u00fanico) NumeroControle 6 N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroAutorizacaoRede 6 A MensagemErro 20 A Reservado 63 A CR+LF 2 H [0D0A]"},{"location":"pages/LayoutLogTransacoes/CartaoPrivateLabel/","title":"Transa\u00e7\u00e3o Cart\u00e3o Private Label","text":""},{"location":"pages/LayoutLogTransacoes/CartaoPrivateLabel/#registro-da-transacao-private-label","title":"Registro da Transa\u00e7\u00e3o Private Label","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[CPR] Cart\u00e3o Private Label</li><li>[CPL] Consulta Private Label</li><li>[SPL] Simula\u00e7\u00e3o Private Label</li><li>[FPL] Pagamento de fatura Private Label</li></ul> Data 8 N Hora 6 N CodigoTransacao 2 N Codigo da transa\u00e7\u00e3o solicitada NumeroEquipamento 3 N NumeroFiscalEquipamento 8 N N\u00famero de registro junto \u00e0 Receita Federal NumeroCupom 6 N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) ValorTransacao 12 N 10 inteiros, 2 decimais TipoColetaCartao 1 N <ul><li>[0] Tarja magn\u00e9tica</li><li>[1] Digitado</li><li>[2] Chip TIBC 1</li><li>[3] Chip TIBC 3</li><li>[4] Chip com contato EMV</li><li>[5] Sem contato tarja</li><li>[6] Sem contato EMV</li></ul> NumeroAutorizador 2 N Veja Tabela 2.0 de Redes Autorizadoras NumeroCartao 37 A Conte\u00fado da trilha 2 sem bytes sentinelas VencimentoCartao 4 N Formato MMAA TipoOperacao 2 A <ul><li>[AV] \u00c0 Vista</li><li>[FL] Financiamento Lojista (sem juros)</li><li>[FA] Financiamento Administradora (com juros)</li></ul> NumeroParcelas 2 N N\u00famero de parcelas da transa\u00e7\u00e3o Reservado 10 A ValorEntrada 12 N 10 inteiros, 2 decimais ValorTaxaServico 12 N 10 inteiros, 2 decimais Reservado 9 A CodigoResposta 2 N NumeroControleRede 9 A NSU Rede (n\u00famero seq\u00fcencial \u00fanico) NumeroControle 6 N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroAutorizacaoRede 6 A MensagemErro 20 A PlanoPagamento 5 N Plano informado pelo operador VencimentosAPular 2 A N\u00famero de vencimentos a pular CodigoItem 11 A C\u00f3digo do item FormaPagamento 1 A <ul><li>[D] para Dinheiro</li><li>[C] para Cheque</li><li>[R] para Cart\u00e3o</li></ul> Reservado 36 A CodigoOperadora 4 N Veja Tabela 4.0 de Operadoras NumeroAutorizador8 4 N Rede Autorizadora do Linx TEF CR+LF 2 H [0D0A]"},{"location":"pages/LayoutLogTransacoes/CartaoVoucher/","title":"Transa\u00e7\u00e3o Cart\u00e3o Voucher","text":""},{"location":"pages/LayoutLogTransacoes/CartaoVoucher/#registro-da-transacao-cartao-voucher","title":"Registro da Transa\u00e7\u00e3o Cart\u00e3o Voucher","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[CCV] Cart\u00e3o Voucher</li></ul> Data 8 N Hora 6 N CodigoTransacao 2 N Codigo da transa\u00e7\u00e3o solicitada NumeroEquipamento 3 N NumeroFiscalEquipamento 8 N N\u00famero de registro junto \u00e0 Receita Federal NumeroCupom 6 N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) ValorTransacao 12 N 10 inteiros, 2 decimais Reservado 1 A NumeroAutorizador 2 N Veja Tabela 2.0 de Redes Autorizadoras NumeroCartao 37 A Conte\u00fado da trilha 2 sem bytes sentinelas VencimentoCartao 4 N Formato MMAA CodigoResposta 2 N NumeroControleRede 9 A NSU Rede (n\u00famero seq\u00fcencial \u00fanico) NumeroControle 6 N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroAutorizacaoRede 6 A MensagemErro 20 A Reservado 55 A CodigoOperadora 4 N Veja Tabela 4.0 de Operadoras NumeroAutorizador8 4 N Rede Autorizadora do Linx TEF CR+LF 2 H [0D0A]"},{"location":"pages/LayoutLogTransacoes/Cheque/","title":"Transa\u00e7\u00e3o Cheque","text":""},{"location":"pages/LayoutLogTransacoes/Cheque/#registro-da-transacao-cheque","title":"Registro da Transa\u00e7\u00e3o Cheque","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[CHQ] Cheque</li></ul> Data 8 N Hora 6 N CodigoTransacao 2 A Codigo da transa\u00e7\u00e3o solicitada NumeroEquipamento 3 N NumeroFiscalEquipamento 8 N N\u00famero de registro junto \u00e0 Receita Federal NumeroCupom 6 N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) ValorTransacao 12 N 10 inteiros, 2 decimais TipoDocumento 1 A <ul><li>[1] CPF</li><li>[2] CNPJ</li></ul> NumeroDocumento 14 N QuantidadeCheques 2 N Quantidade de cheques da transa\u00e7\u00e3o SequenciaCheque 2 N Seq\u00fc\u00eancia do cheque na transa\u00e7\u00e3o CamaraCompensacao 3 N C\u00e2mara de compensa\u00e7\u00e3o NumeroBanco 3 N N\u00famero do banco NumeroAgencia 4 N N\u00famero da agencia NumeroContaCorrente 10 N N\u00famero da conta-corrente NumeroCheque 7 N N\u00famero do cheque com D\u00edgito verificador DataDeposito 8 N ValorCheque 12 N 10 inteiros, 2 decimais DataNascimentoCliente 8 N TelefoneCliente 12 N CMC7 50 N Conte\u00fado da trilha CMC-7 CodigoResposta 2 N NumeroControleRede 9 A NSU Rede (n\u00famero seq\u00fcencial \u00fanico) NumeroControle 6 N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroAutorizacaoRede 6 A MensagemErro 20 A Reservado 18 A CR+LF 2 H [0D0A]"},{"location":"pages/LayoutLogTransacoes/ConfirmacaoPreAutorizacao/","title":"Transa\u00e7\u00e3o de Confirma\u00e7\u00e3o de Pr\u00e9-Autoriza\u00e7\u00e3o","text":""},{"location":"pages/LayoutLogTransacoes/ConfirmacaoPreAutorizacao/#registro-da-transacao-de-confirmacao-de-pre-autorizacao","title":"Registro da Transa\u00e7\u00e3o de Confirma\u00e7\u00e3o de Pr\u00e9-Autoriza\u00e7\u00e3o","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[CFP] Confirma\u00e7\u00e3o de pr\u00e9-autoriza\u00e7\u00e3o</li></ul> Data 8 N Hora 6 N CodigoTransacao 2 N Codigo da transa\u00e7\u00e3o solicitada NumeroEquipamento 3 N NumeroFiscalEquipamento 8 N N\u00famero de registro junto \u00e0 Receita Federal NumeroCupom 6 N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) ValorTransacao 12 N 10 inteiros, 2 decimais TipoColetaCartao 1 N <ul><li>[0] Tarja magn\u00e9tica</li><li>[1] Digitado</li><li>[2] Chip TIBC 1</li><li>[3] Chip TIBC 3</li><li>[4] Chip com contato EMV</li><li>[5] Sem contato tarja</li><li>[6] Sem contato EMV</li></ul> NumeroAutorizador 2 N Veja Tabela 2.0 de Redes Autorizadoras NumeroCartao 37 A Conte\u00fado da trilha 2 sem bytes sentinelas VencimentoCartao 4 N Formato MMAA Reservado 4 A NumeroControlePreAutorizacao 6 N NSU da transa\u00e7\u00e3o de Pr\u00e9-Autoriza\u00e7\u00e3o Reservado 37 A CodigoResposta 2 N NumeroControleRede 9 A NSU Rede (n\u00famero seq\u00fcencial \u00fanico) NumeroControle 6 N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroAutorizacaoRede 6 A MensagemErro 20 A Reservado 59 A NumeroAutorizador8 4 N Rede Autorizadora do Linx TEF CR+LF 2 H [0D0A]"},{"location":"pages/LayoutLogTransacoes/Deposito/","title":"Transa\u00e7\u00e3o de Dep\u00f3sito","text":""},{"location":"pages/LayoutLogTransacoes/Deposito/#registro-da-transacao-de-deposito","title":"Registro da Transa\u00e7\u00e3o de Dep\u00f3sito","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[DEP] Dep\u00f3sito</li></ul> Data 8 N Hora 6 N CodigoTransacao 2 N Codigo da transa\u00e7\u00e3o solicitada NumeroEquipamento 3 N NumeroFiscalEquipamento 8 N N\u00famero de registro junto \u00e0 Receita Federal NumeroCupom 6 N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) ValorTransacao 12 N 10 inteiros, 2 decimais Reservado 1 A NumeroAutorizador 2 N Veja Tabela 2.0 de Redes Autorizadoras Reservado 41 A TipoOperacao 2 A <ul><li>[01] Nacional</li><li>[02] Internacional</li></ul> DocEmissor 11 A N\u00famero do Documento do Emissor DocDestinatario 11 A N\u00famero do Documento do Destinat\u00e1rio Reservado 23 A CodigoResposta 2 N NumeroControleRede 9 A NSU Rede (n\u00famero seq\u00fcencial \u00fanico) NumeroControle 6 N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroAutorizacaoRede 6 A MensagemErro 20 A Reservado 59 A NumeroAutorizador8 4 N Rede Autorizadora do Linx TEF CR+LF 2 H [0D0A]"},{"location":"pages/LayoutLogTransacoes/ErroTransacao/","title":"Erro da Transa\u00e7\u00e3o","text":""},{"location":"pages/LayoutLogTransacoes/ErroTransacao/#registro-de-erro-da-transacao","title":"Registro de erro da Transa\u00e7\u00e3o","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[CDB] Cart\u00e3o de D\u00e9bito</li><li>[CCR] Cart\u00e3o de Cr\u00e9dito</li><li>[CCV] Cart\u00e3o Voucher</li><li>[CCD] Cart\u00e3o Credi\u00e1rio</li><li>[CHQ] Cheque</li><li>[PBM] Registro de venda de medicamento PBM</li><li>[CNF] Confirma\u00e7\u00e3o</li><li>[CNC] Cancelamento</li><li>[CPR] Cart\u00e3o Private Label</li><li>[CPA] Consulta Parcelas</li><li>[N\u00c3O] Concilia\u00e7\u00e3o Financeira</li><li>[CNF] Concilia\u00e7\u00e3o Financeira</li><li>[CSD] Consulta Saldo</li><li>[PRA] Pr\u00e9-Autoriza\u00e7\u00e3o</li><li>[SAQ] Saque</li><li>[DEP] Dep\u00f3sito</li><li>[SQD] Saque Transfer\u00eancia Dom\u00e9stica</li></ul> Data 8 N Hora 6 N CodigoTransacao 2 N Codigo da transa\u00e7\u00e3o solicitada NumeroEquipamento 3 N NumeroFiscalEquipamento 8 N N\u00famero de registro junto \u00e0 Receita Federal NumeroCupom 6 N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) ValorTransacao 12 N 10 inteiros, 2 decimais NumeroAutorizador 2 N Veja Tabela 2.0 de Redes Autorizadoras NumeroCartao 37 A Conte\u00fado da trilha 2 sem bytes sentinelas VencimentoCartao 4 N Formato MMAA Reservado 2 A CodigoResposta 2 N NumeroControleRede 9 A NSU Rede (n\u00famero seq\u00fcencial \u00fanico) NumeroControle 6 N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroAutorizacaoRede 6 A MensagemErro 64 A Reservado 63 A CR+LF 2 H [0D0A]"},{"location":"pages/LayoutLogTransacoes/Frota/","title":"Transa\u00e7\u00e3o de Frota","text":""},{"location":"pages/LayoutLogTransacoes/Frota/#registro-da-transacao-de-transacao-frota","title":"Registro da Transa\u00e7\u00e3o de Transa\u00e7\u00e3o Frota","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[FRO]  Cart\u00e3o Frota</li></ul> Data 8 N Hora 6 N CodigoTransacao 2 N Codigo da transa\u00e7\u00e3o solicitada NumeroEquipamento 3 N NumeroFiscalEquipamento 8 N N\u00famero de registro junto \u00e0 Receita Federal NumeroCupom 6 N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) ValorTransacao 12 N 10 inteiros, 2 decimais TipoProduto 1 N <ul><li>[0] Pr\u00e9-Pago (VCE)</li><li>[1] P\u00f3s-Pago (MaxiFrota)</li><li>[2] Outros</li></ul> NumeroAutorizador 2 N Veja Tabela 2.0 de Redes Autorizadoras NumeroCartao 37 A Conte\u00fado da trilha 2 sem bytes sentinelas VencimentoCartao 4 N Formato MMAA NumeroParcelas 2 N N\u00famero de parcelas CodigoVeiculo 8 N C\u00f3digo do ve\u00edculo CodigoCondutor 8 N C\u00f3digo do condutor Kilometragem 10 N Od\u00f4metro do ve\u00edculo Reservado 19 A Campo reservado para uso futuro CodigoResposta 2 N NumeroControleRede 9 A NSU Rede (n\u00famero seq\u00fcencial \u00fanico) NumeroControle 6 N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroAutorizacaoRede 6 A MensagemErro 20 A CodigoCombustivel 2 N C\u00f3digo do combust\u00edvel Litragem 7 N Volume abastecido Reservado 46 A CodigoOperadora 4 N Veja Tabela 4.0 de Operadoras NumeroAutorizador8 4 N Rede Autorizadora do Linx TEF CR+LF 2 H [0D0A]"},{"location":"pages/LayoutLogTransacoes/InicializacaoFinalizacao/","title":"Inicializa\u00e7\u00e3o/Finaliza\u00e7\u00e3o","text":""},{"location":"pages/LayoutLogTransacoes/InicializacaoFinalizacao/#registro-de-inicializacaofinalizacao","title":"Registro de Inicializa\u00e7\u00e3o/Finaliza\u00e7\u00e3o","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[INI] Inicializa\u00e7\u00e3o</li><li>[FIM] Finaliza\u00e7\u00e3o</li></ul> Data 8 N Hora 6 N Reservado 2 A NumeroEquipamento 6 N NumeroFiscalEquipamento 8 N N\u00famero de registro junto \u00e0 Receita Federal Reservado 212 A CR+LF 2 H [0D0A]"},{"location":"pages/LayoutLogTransacoes/LogAdicional/","title":"LOG Adicional","text":""},{"location":"pages/LayoutLogTransacoes/LogAdicional/#registro-do-log-adicional","title":"Registro do LOG Adicional","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[XXX] Mesmo registro da transa\u00e7\u00e3o original</li></ul> Data 8 N Hora 6 N CodigoTransacao 2 N Codigo da transa\u00e7\u00e3o solicitada NumeroEquipamento 3 N NumeroControle 6 N NSU (n\u00famero sequencial \u00fanico) NomeBandeira 64 A Nome da bandeira do cart\u00e3o NomeOperadora 64 A Nome da operadora do cart\u00e3o Reservado 3928 A CR+LF 2 H [0D0A]"},{"location":"pages/LayoutLogTransacoes/LogEstendido/","title":"LOG Estendido","text":""},{"location":"pages/LayoutLogTransacoes/LogEstendido/#registro-do-log-estendido","title":"Registro do LOG Estendido","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[XXX] Mesmo registro da transa\u00e7\u00e3o original</li></ul> Data 8 N Hora 6 N CodigoTransacao 2 N Codigo da transa\u00e7\u00e3o solicitada NumeroEquipamento 3 N NumeroControle 6 N NSU (n\u00famero sequencial \u00fanico) ValorOriginal 12 N Valor original da transa\u00e7\u00e3o ValorDesconto 12 N Valor do desconto ValorFinal 12 N Valor final da transa\u00e7\u00e3o (Original \u2013 Desconto) CodigoBandeira 4 N C\u00f3digo da bandeira do cart\u00e3o (Tabela 5.0) CodigoProdutoRede 4 N C\u00f3digo do produto da rede utilizado na transa\u00e7\u00e3o. Ser\u00e1 retornado somente para as redes que o utilizarem e \u201c0000\u201d em caso contr\u00e1rio. CodigoBandeiraRede 4 N C\u00f3digo da bandeira na rede NumeroControleRede 15 A N\u00famero do Controle da Rede com 15 posi\u00e7\u00f5es (no lognormal, est\u00e1 com 9) C\u00f3digoTEFTerceiro 2 N C\u00f3digo do TEF a que se referem os campos de bandeira e rede de terceiro (1=SiTef) CodigoRedeTerceiro 8 N C\u00f3digo da Rede do TEF de terceiro CodigoBandeiraTerceiro 8 N C\u00f3digo da Bandeira do TEF de terceiro CNPJRedeAdquirente 14 N CNPJ da rede adquirente NumeroControleRedeAdicional 32 A NSU Rede para rede Stone CodigoBandeiraSefaz 4 N C\u00f3digo da Bandeira na Sefaz NomePortador 32 A Nome do portador do cart\u00e3o Reservado 54 A CR+LF 2 H [0D0A]"},{"location":"pages/LayoutLogTransacoes/PBM/","title":"Transa\u00e7\u00f5es PBM (Pharmacy Benefit Management)","text":""},{"location":"pages/LayoutLogTransacoes/PBM/#registro-da-transacao-pbm-pharmacy-benefit-management","title":"Registro da Transa\u00e7\u00e3o PBM (Pharmacy Benefit Management)","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[PBM] Registro de venda de medicamento PBM</li><li>[PPA] Pr\u00e9-Autoriza\u00e7\u00e3o de venda de medicamento PBM</li></ul> Data 8 N Hora 6 N CodigoTransacao 2 N Codigo da transa\u00e7\u00e3o solicitada NumeroEquipamento 3 N NumeroFiscalEquipamento 8 N N\u00famero de registro junto \u00e0 Receita Federal NumeroCupom 6 N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) ValorTransacao 12 N 10 inteiros, 2 decimais ValorVista 12 N Valor \u00e0 vista pago na venda PBM ValorCartao 12 N Valor com cart\u00e3o pago na venda PBM Rede 5 N N\u00famero da rede PBM selecionada NumeroCartao 37 A Conte\u00fado da trilha 2 sem bytes sentinelas Reservado 4 A Digitado 1 N <ul><li>[1] Cart\u00e3o digitado</li><li>[0] Cart\u00e3o lido no pinpad</li></ul> Autoriza\u00e7\u00e3o 12 N N\u00famero da autoriza\u00e7\u00e3o de compra NSU_Consulta 6 N N\u00famero de controle referente \u00e0 consulta de medicamentos da venda CRM 12 N Registro no Conselho Regional de Medicina UF_CRM 2 A Unidade Federativa do Conselho Regional de Medicina QuantidadeMedicamentos 2 N Quantidade de medicamentos PBM vendidos SequenciaMedicamento 2 N Seq\u00fc\u00eancia do medicamento na venda CodigoMedicamento 13 N C\u00f3digo do medicamento vendido QuantidadeVendida 2 N Quantidade vendida do medicamento PrecoMaximoConsumidor 8 N 6 inteiros, 2 decimais PrecoUnitarioVendaCons 8 N 6 inteiros, 2 decimais PrecoFabricaUnitario 8 N 6 inteiros, 2 decimais PrecoAquisicaoUnitario 8 N 6 inteiros, 2 decimais PrecoRepasseVarejo 8 N 6 inteiros, 2 decimais MotivoRejeicao 2 A Motivo da rejei\u00e7\u00e3o do medicamento TipoEmbalagem 1 A Unit\u00e1rio ou parcial Desconto 5 N 3 inteiros, 2 decimais CodigoResposta 2 N NumeroControleRede 9 A NSU Rede (n\u00famero seq\u00fcencial \u00fanico) NumeroControle 6 N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroAutorizacaoRede 6 A NumeroAutorizador8 4 N Rede Autorizadora do Linx TEF CR+LF 2 H [0D0A]"},{"location":"pages/LayoutLogTransacoes/PagamentoDeContasCielo/","title":"Transa\u00e7\u00e3o de Pagamento de Contas (Cielo)","text":""},{"location":"pages/LayoutLogTransacoes/PagamentoDeContasCielo/#registro-da-transacao-de-pagamento-de-contas-cielo","title":"Registro da Transa\u00e7\u00e3o de Pagamento de Contas (Cielo)","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[PCV] Pagamento de Contas</li></ul> Data 8 N Hora 6 N CodigoTransacao 2 N Codigo da transa\u00e7\u00e3o solicitada NumeroEquipamento 3 N NumeroFiscalEquipamento 8 N N\u00famero de registro junto \u00e0 Receita Federal NumeroCupom 6 N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) ValorTransacao 12 N 10 inteiros, 2 decimais TipoColetaCartao 1 N <ul><li>[0] Tarja magn\u00e9tica</li><li>[1] Digitado</li><li>[2] Chip TIBC 1</li><li>[3] Chip TIBC 3</li><li>[4] Chip com contato EMV</li><li>[5] Sem contato tarja</li><li>[6] Sem contato EMV</li></ul> NumeroAutorizador 2 N Veja Tabela 2.0 de Redes Autorizadoras NumeroCartao 37 A Conte\u00fado da trilha 2 sem bytes sentinelas TipoOperacao 2 A <ul><li>[AV] \u00c0 Vista</li><li>[PS] Parcelada (sem juros)</li><li>[PC] Parcelada (com juros)</li><li>[PD] Pr\u00e9-Datada</li></ul> CodigoBarras 44 A C\u00f3digo de Barras sem d\u00edgito verificador TipoDocumento 1 N <ul><li>[0] T\u00edtulo Lido</li><li>[1] T\u00edtulo Digitado</li><li>[2] Conv\u00eanio Lido</li><li>[3] Conv\u00eanio Digitado</li></ul> CodigoResposta 2 N NumeroControleRede 9 A NSU Rede (n\u00famero seq\u00fcencial \u00fanico) NumeroControle 6 N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroAutorizacaoRede 6 A MensagemErro 20 A Reservado 55 A CodigoOperadora 4 N Veja Tabela 4.0 de Operadoras NumeroAutorizador8 4 N Rede Autorizadora do Linx TEF CR+LF 2 H [0D0A]"},{"location":"pages/LayoutLogTransacoes/PagamentoDeContasCorban/","title":"Transa\u00e7\u00e3o de Pagamento de Contas (CORBAN)","text":""},{"location":"pages/LayoutLogTransacoes/PagamentoDeContasCorban/#registro-de-transacao-de-pagamento-de-contas-corban","title":"Registro de Transa\u00e7\u00e3o de Pagamento de Contas (CORBAN)","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[CBP] Pagamento</li><li>[CBC] Cancelamento</li><li>[CBI] Inicializa\u00e7\u00e3o</li><li>[CBF] Finaliza\u00e7\u00e3o</li></ul> Data 8 N Hora 6 N CodigoTransacao 2 N Codigo da transa\u00e7\u00e3o solicitada NumeroEquipamento 3 N NumeroFiscalEquipamento 8 N N\u00famero de registro junto \u00e0 Receita Federal NumeroCupom 6 N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) ValorTransacao 12 N 10 inteiros, 2 decimais NumeroAutorizador 2 N Veja Tabela 2.0 de Redes Autorizadoras Operador 9 A N\u00e3o utilizado. Preenchido com espa\u00e7os ' ' CodTransacao 4 N N\u00e3o utilizado. Preenchido com sequencia de 0 TipoTransacao 1 N <ul><li>[0] Pagamento</li><li>[1] Cancelamento</li></ul> CodigoBarras 47 A Codigo de Barras TipoDocumento 1 N Indicativo da leitura do codigo de barras<ul><li>[0] Lido oticamente</li><li>[1] Digitado</li></ul> FormaPagamento 3 N <ul><li>[001] Dinheiro</li><li>[002] Cheque</li><li>[003] D\u00e9bito</li><li>[004] Cr\u00e9dito</li></ul> Reservado 25 A IndicativoCMC7 1 N <ul><li>[1] Lido</li><li>[2] Digitado</li></ul> CMC7 41 A ValorDesconto 41 A 10 inteiros, 2 decimais DataVencimento 8 N CodigoResposta 2 N NumeroControleRede 9 A NSU Rede (n\u00famero seq\u00fcencial \u00fanico) NumeroControle 6 N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroAutorizacaoRede 6 A MensagemErro 20 A CR+LF 2 H [0D0A]"},{"location":"pages/LayoutLogTransacoes/QRCode/","title":"Transa\u00e7\u00e3o QR Code","text":""},{"location":"pages/LayoutLogTransacoes/QRCode/#registro-da-transacao-qr-code","title":"Registro da Transa\u00e7\u00e3o QR Code","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[QRC] QR Code</li></ul> Data 8 N Hora 6 N CodigoTransacao 2 N Codigo da transa\u00e7\u00e3o solicitada NumeroEquipamento 3 N NumeroFiscalEquipamento 8 N N\u00famero de registro junto \u00e0 Receita Federal NumeroCupom 6 N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) ValorTransacao 12 N 10 inteiros, 2 decimais CodigoResposta 2 N NumeroControleRede 80 A NSU Rede (n\u00famero seq\u00fcencial \u00fanico) NumeroControle 6 N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroAutorizacaoRede 80 A M\u00e9todo de pagamento 25 A M\u00e9todo de pagamento informado na transa\u00e7\u00e3o com QR Code NumeroAutorizador8 4 N Rede Autorizadora do Linx TEF CR+LF 2 H [0D0A]"},{"location":"pages/LayoutLogTransacoes/QuitacaoCartaFrete/","title":"Transa\u00e7\u00e3o Quita\u00e7\u00e3o de Carta Frete","text":""},{"location":"pages/LayoutLogTransacoes/QuitacaoCartaFrete/#registro-da-transacao-quitacao-de-carta-frete","title":"Registro da Transa\u00e7\u00e3o Quita\u00e7\u00e3o de Carta Frete","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[QCF] Quita\u00e7\u00e3o Carta Frete</li></ul> Data 8 N Hora 6 N CodigoTransacao 2 N Codigo da transa\u00e7\u00e3o solicitada NumeroEquipamento 3 N NumeroFiscalEquipamento 8 N N\u00famero de registro junto \u00e0 Receita Federal NumeroCupom 6 N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) ValorTransacao 12 N 10 inteiros, 2 decimais TipoColetaCartao 1 N <ul><li>[0] Leitura</li><li>[1] Trilha</li></ul> NumeroAutorizador 2 N Veja Tabela 2.0 de Redes Autorizadoras NumeroCartao 37 A Conte\u00fado da trilha 2 sem bytes sentinelas VencimentoCartao 4 N Formato MMAA NumeroCartaFrete 25 A QuantidadeChegada 12 N CodigoResposta 2 N NumeroControleRede 9 A NSU Rede (n\u00famero seq\u00fcencial \u00fanico) NumeroControle 6 N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroAutorizacaoRede 6 A CodigoOperadora 4 N Veja Tabela 4.0 de Operadoras NumeroAutorizador8 4 N Rede Autorizadora do Linx TEF Reservado 65 A CR+LF 2 H [0D0A]"},{"location":"pages/LayoutLogTransacoes/RecargaDeCelular/","title":"Transa\u00e7\u00e3o de Recarga de Celular","text":""},{"location":"pages/LayoutLogTransacoes/RecargaDeCelular/#registro-da-transacao-de-recarga-de-celular","title":"Registro da Transa\u00e7\u00e3o de Recarga de Celular","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[CEL] Recarga de Celular</li></ul> Data 8 N Hora 6 N CodigoTransacao 2 N Codigo da transa\u00e7\u00e3o solicitada NumeroEquipamento 3 N NumeroFiscalEquipamento 8 N N\u00famero de registro junto \u00e0 Receita Federal NumeroCupom 6 N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) CodigoArea 2 N C\u00f3digo da \u00e1rea do celular NumeroTelefone 10 N N\u00famero do telefone Reservado 3 A Campo reservado para uso futuro ValorRecarga 12 N 10 inteiros, 2 decimais CodigoOperadora 5 N C\u00f3digo da Operadora do Celular NumeroAutorizador 2 N Veja Tabela 2.0 de Redes Autorizadoras NomeOperadora 40 A Nome da operadora de recarga de celular Reservado_2 29 A Campo reservado para uso futuro CodigoResposta 2 N NumeroControleRede 9 A NSU Rede (n\u00famero seq\u00fcencial \u00fanico) NumeroControle 6 N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroAutorizacaoRede 6 A MensagemErro 20 A Reservado 59 A NumeroAutorizador8 4 N Rede Autorizadora do Linx TEF CR+LF 2 H [0D0A]"},{"location":"pages/LayoutLogTransacoes/Reinicio/","title":"Rein\u00edcio","text":""},{"location":"pages/LayoutLogTransacoes/Reinicio/#registro-de-reinicio","title":"Registro de Rein\u00edcio","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[REI] Reinicio</li></ul> Data 8 N Hora 6 N Reservado 2 A NumeroEquipamento 6 N NumeroFiscalEquipamento 8 N N\u00famero de registro junto \u00e0 Receita Federal MotivoReinicio 30 A Reservado 182 A CR+LF 2 H [0D0A]"},{"location":"pages/LayoutLogTransacoes/Saque/","title":"Transa\u00e7\u00e3o de Saque","text":""},{"location":"pages/LayoutLogTransacoes/Saque/#registro-da-transacao-de-saque","title":"Registro da Transa\u00e7\u00e3o de Saque","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[SAQ] Saque</li></ul> Data 8 N Hora 6 N CodigoTransacao 2 N Codigo da transa\u00e7\u00e3o solicitada NumeroEquipamento 3 N NumeroFiscalEquipamento 8 N N\u00famero de registro junto \u00e0 Receita Federal NumeroCupom 6 N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) ValorTransacao 12 N 10 inteiros, 2 decimais TipoColetaCartao 1 N <ul><li>[0] Tarja magn\u00e9tica</li><li>[1] Digitado</li><li>[2] Chip TIBC 1</li><li>[3] Chip TIBC 3</li><li>[4] Chip com contato EMV</li><li>[5] Sem contato tarja</li><li>[6] Sem contato EMV</li></ul> NumeroAutorizador 2 N Veja Tabela 2.0 de Redes Autorizadoras NumeroCartao 37 A Conte\u00fado da trilha 2 sem bytes sentinelas VencimentoCartao 4 N Formato MMAA TipoOperacao 2 A <ul><li>[AV] \u00c0 Vista</li><li>[FL] Financiamento Lojista (sem juros)</li><li>[FA] Financiamento Administradora (com juros)</li></ul> NumeroParcelas 2 N N\u00famero de parcelas da transa\u00e7\u00e3o CodigoResposta 2 N NumeroControleRede 9 A NSU Rede (n\u00famero seq\u00fcencial \u00fanico) NumeroControle 6 N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroAutorizacaoRede 6 A Reservado 118 A CodigoOperadora 4 N Veja Tabela 4.0 de Operadoras NumeroAutorizador8 4 N Rede Autorizadora do Linx TEF CR+LF 2 H [0D0A]"},{"location":"pages/LayoutLogTransacoes/SaqueDomestico/","title":"Transa\u00e7\u00e3o de Saque Dom\u00e9stico","text":""},{"location":"pages/LayoutLogTransacoes/SaqueDomestico/#registro-da-transacao-de-saque-domestico","title":"Registro da Transa\u00e7\u00e3o de Saque Dom\u00e9stico","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[SQD] Saque Transfer\u00eancia Dom\u00e9stica</li></ul> Data 8 N Hora 6 N CodigoTransacao 2 N Codigo da transa\u00e7\u00e3o solicitada NumeroEquipamento 3 N NumeroFiscalEquipamento 8 N N\u00famero de registro junto \u00e0 Receita Federal NumeroCupom 6 N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) ValorTransacao 12 N 10 inteiros, 2 decimais Reservado 1 A NumeroAutorizador 2 N Veja Tabela 2.0 de Redes Autorizadoras Reservado 41 A TipoOperacao 2 A <ul><li>[01] Nacional</li><li>[02] Internacional</li></ul> DocDestinatario 11 A N\u00famero do Documento do Destinat\u00e1rio Reservado 34 A CodigoResposta 2 N NumeroControleRede 9 A NSU Rede (n\u00famero seq\u00fcencial \u00fanico) NumeroControle 6 N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroAutorizacaoRede 6 A MensagemErro 20 A Reservado 59 A NumeroAutorizador8 4 N Rede Autorizadora do Linx TEF CR+LF 2 H [0D0A]"},{"location":"pages/LayoutLogTransacoes/ValeGas/","title":"Transa\u00e7\u00e3o de Vale G\u00e1s","text":""},{"location":"pages/LayoutLogTransacoes/ValeGas/#registro-da-transacao-de-vale-gas","title":"Registro da Transa\u00e7\u00e3o de Vale G\u00e1s","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[GAS] Pagamento de Contas</li></ul> Data 8 N Hora 6 N CodigoTransacao 2 N Codigo da transa\u00e7\u00e3o solicitada NumeroEquipamento 3 N NumeroFiscalEquipamento 8 N N\u00famero de registro junto \u00e0 Receita Federal NumeroCupom 6 N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) CodigoOperadora 5 N C\u00f3digo da operadora Vale G\u00e1s CodigoProduto 7 N C\u00f3digo do produto NumeroValeGas 15 N N\u00famero do vale g\u00e1s ValorTransacao 12 N 10 inteiros, 2 decimais NumeroAutorizador 2 N Veja Tabela 2.0 de Redes Autorizadoras CodigoResposta 2 N NumeroControleRede 9 A NSU Rede (n\u00famero seq\u00fcencial \u00fanico) NumeroControle 6 N NSU (n\u00famero seq\u00fcencial \u00fanico) MensagemErro 20 A Reservado 127 A NumeroAutorizador8 4 N Rede Autorizadora do Linx TEF CR+LF 2 H [0D0A]"},{"location":"pages/MetodosAPIDesktop/TransacoesEspeciais/","title":"Transa\u00e7\u00f5es Especiais","text":""},{"location":"pages/MetodosAPIDesktop/TransacoesEspeciais/#transacoes-especiais","title":"Transa\u00e7\u00f5es Especiais","text":"<p>A fun\u00e7\u00e3o atualmente disponibilizada \u00e9:</p> <pre><code>    int DIRETIVA_CALLBACK TransacaoEspecial(int iCodigoTransacao, char *pDados)\n</code></pre> <p>A fun\u00e7\u00e3o TransacaoEspecial deve ser utilizada pela automa\u00e7\u00e3o para utilizar as funcionalidades do PIN Pad.</p> <p>Os par\u00e2metros da fun\u00e7\u00e3o est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o CodigoTransacao 3N O campo CodigoTransacao pode assumir os seguintes valores:\u2022 [ 106 ] Fun\u00e7\u00e3o Display de PIN Pad - Apresentar uma informa\u00e7\u00e3o no PIN Pad.\u2022 [ 107 ] Coleta de Tecla de PIN Pad - Aguardar que o usu\u00e1rio pressione uma tecla no PIN Pad. Usado para confirmar opera\u00e7\u00f5es (Confirma/Cancela). \u2022 [ 121 ] Fun\u00e7\u00e3o Coleta de Informa\u00e7\u00e3o do PIN Pad - Coletar informa\u00e7\u00f5es num\u00e9ricas gen\u00e9ricas, como por exemplo CPF. As op\u00e7\u00f5es de coleta dispon\u00edveis est\u00e3o descritas na tabela 10.7. \u2022 [ 122 ] L\u00ea Informa\u00e7\u00f5es do PIN Pad - L\u00ea informa\u00e7\u00f5es do PIN Pad. GetInfo par\u00e2metros gerais ou de uma rede espec\u00edfica. \u2022 [ 123 ] Fun\u00e7\u00e3o Carrega Arquivo Multim\u00eddia - Carrega arquivo multim\u00eddia (Ex: png,jpg, ...) para o PIN Pad. V\u00e1lido somente para padr\u00e3o ABECS. \u2022 [ 124 ] Fun\u00e7\u00e3o Multim\u00eddias Suportadas - Verifica quais m\u00eddias s\u00e3o suportadas pelo PIN Pad. (Ex: png, jpg, ...). \u2022 [ 125 ] Fun\u00e7\u00e3o Exibe Arquivo Multim\u00eddia - Exibe um determinado arquivo multim\u00eddia no PIN Pad. \u2022 [ 126 ] Fun\u00e7\u00e3o Lista Arquivos Multim\u00eddia - Exibe uma lista com o nome dos arquivos multim\u00eddias carregados para o PIN Pad.\u2022 [ 127 ] Fun\u00e7\u00e3o Exclui Arquivos Multim\u00eddia - Exclui uma lista de arquivos multim\u00eddias do PIN Pad. <p>O campo Dados varia conforme a fun\u00e7\u00e3o utilizada e deve seguir a estrutura:</p> Campo Descri\u00e7\u00e3o Display de PIN Pad \u2022 [ MsgDisplay ] 32 A.\u2022 [ TempoDisplayMensagem ] 6 N. Coleta de Tecla de PIN Pad \u2022 [ MsgDisplay ] 32 A.O c\u00f3digo da tecla digitada \u00e9 retornada no primeiro byte do campo MsgDisplay. Os valores poss\u00edveis s\u00e3o:\u2022 [ O ] Ok.\u2022 [ C ] Cancel.\u2022 [ B ] Backspace (limpa).\u2022 [ F ] F1.\u2022 [ G ] F2.\u2022 [ H ] F3.\u2022 [ I ] F4. Coleta de Cart\u00e3o Fideliza\u00e7\u00e3o \u2022 [ TipoAplicacao ] 2 N.\u2022 [ ValorInicial ] 12 N.\u2022 [ TipoCartao ] 2 A.\u2022 [ StatusUltimaLeituraChip ] 1 A.\u2022 [ TipoAplicacaoSelecionada ] 2 N.\u2022 [ IdRedeAdquirente ] 2 N.\u2022 [ IndiceTabParametrosAID ] 2 N.\u2022 [ TamTrilha1 ] 2 N.\u2022 [ Trilha1 ] 76 A.\u2022 [ TamTrilha2 ] 2 N.\u2022 [ Trilha2 ] 37 A.\u2022 [ TamTrilha3 ] 3 N.\u2022 [ Trilha3 ] 104 A.\u2022 [ TamPAN ] 2 N.\u2022 [ PAN ] 19 A.\u2022 [ ApplicationPANSequenceNumber ] 2 N.\u2022 [ ApplicationLabel ] 16 A.\u2022 [ ServiceCode ] 3 N.\u2022 [ CardHolderName ] 26 A.\u2022 [ ApplicationExpirationDate ] 6 N.\u2022 [ TamNroExternoCartao ] 2 N.\u2022 [ NroExternoCartao ] 19 N.\u2022 [ Saldo ] 8 N.\u2022 [ IssuerCountryCode ] 3 A.\u2022 [ TamDadosRedeAdquirente ] 3 N.\u2022 [ DadosRedeAdquirente ] 999 A.Os campos a serem passados s\u00e3o:\u2022 [ TipoAplicacao ] Preencher com \u201c99\u201d.\u2022 [ ValorInicial ] Valor da transa\u00e7\u00e3o, em centavos. Por exemplo, R$ 1,00 \u00e9 representado como 000000000100.Os demais campos s\u00e3o preenchidos no retorno da fun\u00e7\u00e3o.Obs.: para cart\u00f5es, \u00e9 necess\u00e1rio informar o Bin do cart\u00e3o (6 primeiros d\u00edgitos) para que a Linx libere a leitura desse cart\u00e3o no sistema. Coleta de Informa\u00e7\u00e3o do PIN Pad Dever\u00e1 ser usada para coletar informa\u00e7\u00f5es num\u00e9ricas e avulsas.\u2022 [ TamMinimo ] 2 N.\u2022 [ TamMaximo ] 2 N.\u2022 [ TipoColeta ] 2 N.\u2022 [ DadosDigitados ] 32 N.O campos tipo coleta pode ser definido como:.\u2022 [ 01 ] Captura de um CPF.\u2022 [ 02 ] Captura de um n\u00famero de telefone.\u2022 [ 03 ] Captura de uma data.\u2022 [...] Demais op\u00e7\u00f5es dispon\u00edveis est\u00e3o listadas na tabela 10.7TamMinimo e TamMaximo devem ser definidos de acordo com o tamanho de informa\u00e7\u00f5es v\u00e1lidas, sem caracteres separadores, conforme a informa\u00e7\u00e3o que est\u00e1 sendo capturada. Para captura de CPF os dois campos deve ser definidos com \u201c11\u201d. A captura de um telefone suporta valores entre \u201c08\u201d e \u201c11\u201d. A captura de uma data suporta valores entre \u201c04\u201d e \u201c08\u201d. Caso os valores dos campos de tamanho m\u00ednimo e m\u00e1ximo sejam informados zerados, ser\u00e3o assumidos os valores default presentes na tabela 10.7. As mensagens exibidas no visor do PIN Pad s\u00e3o definidas pelo Client TEF. A informa\u00e7\u00e3o que o usu\u00e1rio digita pode aparecer ou n\u00e3o no display do pinpad, a depender da vers\u00e3o da biblioteca compartilhada do dispositivo. Em caso da mensagem estar mascarada s\u00e3o exibidos asteriscos de acordo com o n\u00famero de caracteres digitados. Carrega Arquivo Multim\u00eddia V\u00e1lido somente para padr\u00e3o ABECS.Carrega um arquivo multim\u00eddia para o PIN Pad.\u2022 [ TipoArquivo ] 1 N - \u201c1\u201d=PNG \u201c2\u201d=JPG \u201c3\u201d=RUF.\u2022 [ RUF ] 3 H - 3 bytes bin\u00e1rios. Somente para RUF.\u2022 [ NomeArquivoMultimidia ] 8 A - Nome do arquivo (8 bytes) que ficar\u00e1 registrado no PIN Pad. \u2022 [ ArquivoMultimidia ] 256 A - Nome Completo do arquivo multim\u00eddia, incluindo o path, deve terminar com um byte bin\u00e1rio com um byte zero de finalizador. Multim\u00eddias Suportadas Devolve os tipos de multim\u00eddias suportadas.Retorno:\u2022 [ 0 ] N\u00e3o suporta nenhuma m\u00eddia.\u2022 [ 1 ] Suporta arquivos do tipo PNG.\u2022 [ 2 ] Suporta arquivos do tipo JPG.\u2022 [ 3 ] Suporta arquivos do tipo PNG e JPG. Exibe Arquivo Multim\u00eddia V\u00e1lido somente para padr\u00e3o ABECS.Exibe um arquivo espec\u00edfico de multim\u00eddia no PIN Pad.\u2022 [ NomedoArquivo ] 8 A - Nome do Arquivo Multim\u00eddia, fixo com 8 bytes, que foi carregado pela fun\u00e7\u00e3o Carrega Arquivo Multim\u00eddia. Lista Arquivos Multim\u00eddia V\u00e1lido somente para padr\u00e3o ABECS.Lista o nome dos arquivos de multim\u00eddia carregados no PIN Pad. Os nomes dos arquivos s\u00e3o sempre com oito bytes.Retorno:\u2022 [ Arquivos ] 993 A.S\u00e3o retornados no m\u00e1ximo 124 nomes de arquivos, onde cada nome de arquivo tem 8 bytes. (124 x 8 bytes = 992 bytes). O caractere finalizador \u201czero bin\u00e1rio\u201d ser\u00e1 enviado no final dos dados.Supondo a lista contenha que dois arquivos, ent\u00e3o ser\u00e1 retornado:\u201cArquivo1Arquivo2\u201d seguido de um zero bin\u00e1rio. Exclui Arquivos Multim\u00eddia V\u00e1lido somente para padr\u00e3o ABECS.Exclui arquivos de multim\u00eddia carregados no PIN Pad. Os nomes dos arquivos s\u00e3o sempre com oito bytes.\u2022 [ Arquivos ] 993 A.Podem ser eliminados no m\u00e1ximo 124 nomes de arquivos, onde cada nome de arquivo tem 8 bytes. (124 x 8 bytes = 992 bytes). O caractere finalizador \u201czero bin\u00e1rio\u201d deve ser enviado no final dos dados.Supondo que sejam enviados dois arquivos para serem eliminados, o formato dever\u00e1 ser: \u201cArquivo1Arquivo2\u201d seguido de um zero bin\u00e1rio. <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> <p>[ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. O sistema de automa\u00e7\u00e3o deve retornar \u00e0 rotina de recebimento de valores, pois a transa\u00e7\u00e3o solicitada n\u00e3o foi autorizada, n\u00e3o sendo v\u00e1lida como forma de pagamento.</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/CartaoPrePagoEValePresente/","title":"Cart\u00e3o Pr\u00e9-Pago e Vale Presente","text":""},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/CartaoPrePagoEValePresente/#pagamento-cartao-presente","title":"Pagamento Cartao Presente","text":"<p>A solicita\u00e7\u00e3o de transa\u00e7\u00e3o de pagamento com cart\u00e3o \u00e9 realizada atrav\u00e9s da chamada \u00e0 fun\u00e7\u00e3o TransacaoPagamentoCartaoPresente.</p> <pre><code>int DIRETIVA_CALLBACK TransacaoPagamentoCartaoPresente(char *pValorTransacao, \n    char *pNumeroCupom, char *pNumeroControle)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/CartaoPrePagoEValePresente/#transacao-carga-cartao","title":"Transa\u00e7\u00e3o Carga Cartao","text":"<p>A solicita\u00e7\u00e3o de transa\u00e7\u00e3o de carga de cart\u00e3o \u00e9 realizada atrav\u00e9s da chamada \u00e0 fun\u00e7\u00e3o TransacaoCargaCartao </p> <pre><code>int DIRETIVA_CALLBACK TransacaoCargaCartao(char *pValorTransacao, char *pNumeroCupom, \n    char *pNumeroControle)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/CartaoPrePagoEValePresente/#transacao-recarga-cartao","title":"Transa\u00e7\u00e3o Recarga Cartao","text":"<p>A solicita\u00e7\u00e3o de transa\u00e7\u00e3o de recarga de cart\u00e3o \u00e9 realizada atrav\u00e9s da chamada \u00e0 fun\u00e7\u00e3o TransacaoRecargaCartao</p> <pre><code>int DIRETIVA_CALLBACK TransacaoRecargaCartao(char *pValorTransacao, char *pNumeroCupom, \n    char *pNumeroControle)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/CorrespondenteBancario/","title":"Correspondente Banc\u00e1rio","text":""},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/CorrespondenteBancario/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>As fun\u00e7\u00f5es mencionadas nesta p\u00e1gina s\u00e3o referentes ao m\u00f3dulo de pagamento de contas. Os tipos de documentos aceitos (t\u00edtulo, conv\u00eanio ou tributos) dependem da rede autorizadora que for contratada para os pagamentos.</p> <p>As fun\u00e7\u00f5es devem ser chamadas diretamente pela automa\u00e7\u00e3o com a passagem dos par\u00e2metros conforme orienta\u00e7\u00e3o abaixo. Caso o integrador deseja que o trabalho de coleta das informa\u00e7\u00f5es (valor, n\u00famero do documento) sejam realizadas por uma interface da Linx, deve-se utilizar um outro aplicativo chamado Correspondente Banc\u00e1rio. Existe um manual de integra\u00e7\u00e3o espec\u00edfico para este aplicativo (se for o seu caso, solicite o documento). Tamb\u00e9m \u00e9 poss\u00edvel que seja feito o recebimento de contas utilizando a entrada de dados pelo pr\u00f3prio Automa\u00e7\u00e3o Comercial. Neste caso, o integrador dever\u00e1 implementar as telas para coleta das informa\u00e7\u00f5es (solicitar manual para integra\u00e7\u00e3o sem telas).</p> <p>As fun\u00e7\u00f5es para o recebimento de contas s\u00e3o as seguintes:</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/CorrespondenteBancario/#inicializa-sessao-corban","title":"Inicializa Sess\u00e3o Corban","text":"<pre><code>int DIRETIVA_CALLBACK InicializaSessaoCB(char *pNumeroControle)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/CorrespondenteBancario/#finaliza-sessao-corban","title":"Finaliza Sess\u00e3o Corban","text":"<pre><code>int DIRETIVA_CALLBACK FinalizaSessaoCB(char *pNumeroControle)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/CorrespondenteBancario/#consulta-parametros-corban","title":"Consulta Parametros Corban","text":"<pre><code>int DIRETIVA_CALLBACK ConsultaParametrosCB(char *pParametros)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/CorrespondenteBancario/#consulta-pagamento-corban","title":"Consulta Pagamento Corban","text":"<pre><code>int DIRETIVA_CALLBACK ConsultaPagamentoCB(char *pTipoConta, char *pCodigoBarrasDigitado, \n    char *pCodigoBarrasLido, char *pValorDocumento, char *pValorDesconto, char *pValorAcrescimo, \n    char *pDataVencimento, char *pFormaPagamento, char *pReservado1, char *pTipoSenha, \n    char *pReservado2, char *pNSUCartao, char *pTipoCMC7, char *pCMC7, char *pNumeroControle,\n    char *pMensagemTEF, char *pImprimeComprovante, char *pParametrosConsulta, char *pParametrosConsulta_2)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/CorrespondenteBancario/#pagamento-corban","title":"Pagamento Corban","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoPagamentoCB(char *pTipoConta, char *pCodigoBarrasDigitado, \n    char *pCodigoBarrasLido, char *pValorDocumento, char *pValorDesconto, char *pValorAcrescimo, \n    char *pDataVencimento, char *pFormaPagamento, char *pReservado1, char *pTipoSenha, \n    char *pReservado2, char *pNSUCartao, char *pTipoCMC7, char *pCMC7, char *pParametrosConsulta_2,\n    char *pNumeroControle)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/CorrespondenteBancario/#resumo-recebimentos-corban","title":"Resumo Recebimentos Corban","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoResumoRecebimentosCB(char *pTipoResumo, char *pNumeroControle)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/CorrespondenteBancario/#dados-ultima-transacao-corban","title":"Dados Ultima Transacao Corban","text":"<p><pre><code>void DIRETIVA_CALLBACK DadosUltimaTransacaoCB(char * oDadosUltimaTransacaoTitulo)\nvoid DIRETIVA_CALLBACK ObtemLogUltimaTransacao(char *oLogUltimaTransacao)\n</code></pre> </p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/CorrespondenteBancario/#informacoes-comuns","title":"Informa\u00e7\u00f5es Comuns","text":"<p>Estas fun\u00e7\u00f5es devem estar dispon\u00edveis tamb\u00e9m ap\u00f3s abertura do caixa (por exemplo, num menu de opera\u00e7\u00f5es  do CB) para que o operador possa executar novamente caso tenha ocorrido erro na chamada autom\u00e1tica na abertura do caixa. No par\u00e2metro NumeroControle ser\u00e1 retornado o NSU da transa\u00e7\u00e3o.</p> <p>Os dados retornados est\u00e3o estruturados da seguinte forma:</p> Campo Tamanho Descri\u00e7\u00e3o FormasPagamento 04N Indica as formas de pagamento aceitas pelo CB, s\u00e3o elas:\u2022 [ 0001 ] Dinheiro (1 em decimal)\u2022 [ 0010 ] Cheque (2 em decimal)\u2022 [ 0011 ] Dinheiro e Cheque (3 em decimal)\u2022 [ 0100 ] D\u00e9bito (4 em decimal)\u2022 [ 0101 ] Debito e Dinheiro (5 em decimal)\u2022 [ 0110 ] D\u00e9bito e Cheque (6 em decimal)\u2022 [ 0111 ] D\u00e9bito, Dinheiro e Cheque (7 em decimal)\u2022 [ 1000 ] Cr\u00e9dito (8 em decimal)\u2022 [ 1001 ] Cr\u00e9dito e Dinheiro (9 em decimal)\u2022 [ 1010 ] Cr\u00e9dito e Cheque (10 em decimal)\u2022 [ 1011 ] Cr\u00e9dito, Cheque e Dinheiro (11 em decimal)\u2022 [ 1100 ] Cr\u00e9dito e D\u00e9bito (12 em decimal)\u2022 [ 1101 ] Cr\u00e9dito, D\u00e9bito e Dinheiro (13 em decimal)\u2022 [ 1110 ] Cr\u00e9dito, D\u00e9bito e Cheque (14 em decimal)\u2022 [ 1111 ] Cr\u00e9dito, D\u00e9bito, Cheque e Dinheiro (15 em decimal) ResumoRecebimentos 01N 0-N\u00e3o Possui; 1-Possui ColetaNSUTEFCancelamento 01N 0-N\u00e3o Coleta; 1-Deve coletar NSU TEF RealizaInicializaFinalizacaoEquipamento 01N Verifica se deve realizar a inicializa\u00e7\u00e3o e a finaliza\u00e7\u00e3o de equipamento\u2022 (0-N\u00e3o; 1-Sim) HabilitaTransacaoConsultaPagamento 01N Indica se o CB aceita consulta de pagamento\u2022 (0-N\u00e3o; 1-Aceita) ColetaDocumentoCancelamento 01N Indica se o NSU deve ser coletado no cancelamento de pagamento \u2022 (0-N\u00e3o; 1-Sim) TransacaoConsultaPagamentoObrigatoria 01N Indica se a consulta de pagamento \u00e9 obrigat\u00f3ria \u2022 (0-N\u00e3o; 1-Sim) NumeroBancoPermitido 01N Campo com o n\u00famero do banco aceito caso o pagamento seja em cheque; AC deve validar este campo HabilitaRecebimentoTributo01 01N Indica se o CB aceita recebimento de tributos\u2022 (0-N\u00e3o; 1-Aceita) HabilitaAcrescimos 01N Indica se o valor de acr\u00e9scimo deve ser solicitado/habilitado\u2022 (0-N\u00e3o; 1-Sim) HabilitaDescontos 01N Indica se o valor de desconto deve ser solicitado/habilitado\u2022 (0-N\u00e3o; 1-Sim) HabilitaJuros 01N Indica se o valor dos juros deve ser solicitado/habilitado\u2022 (0-N\u00e3o; 1-Sim) HabilitaMulta 01N Indica se o valor da multa deve ser solicitado/habilitado\u2022 (0-N\u00e3o; 1-Sim) HabilitaValorDoc 01N Indica se o valor do documento deve ser habilitado (pode ser editado)\u2022 (0-N\u00e3o; 1-Sim) HabilitaValorCobrado 01N Indica se o valor cobrado deve ser habilitado (pode ser editado)\u2022 (0-N\u00e3o; 1-Sim) HabilitaDataVencimento 01N Indica se a data de vencimento do boleto deve ser habilitado(pode ser editado)\u2022 (0-N\u00e3o; 1-Sim) Filler 46A Campo reservado <p>Uma vez realizada a ConsultaParametrosCB , o AC dever\u00e1 permitir a entrada dos dados do documento informando o tipo do documento (t\u00edtulo, conv\u00eanio ou tributo), c\u00f3digo de barras do do doc, se foi lido ou digitado e o valor, sempre considerando os par\u00e2metros acima citados que indicar\u00e3o quais valores poder\u00e3o ser coletados. Ap\u00f3s a entrada dos dados do documento o AC deve disponibilizar as formas de pagamento dispon\u00edveis (de acordo com o campo FormasPagamento retornado na ConsultaParametrosCB) . Se o pagamento for em TEF, devem ser utilizadas as fun\u00e7\u00f5es TransacaoCartaoCreditoCompleta , TransacaoCartaoDebitoCompleta ou TransacaoChequeCompleta , conforme a forma desejada pelo cliente. \u00c9 importante destacar que \u00e9 permitido realizar somente uma transa\u00e7\u00e3o TEF (cr\u00e9dito ou d\u00e9bito) por documento a receber. Depois de coletar os dados do documento, verificar se o c\u00f3digo de barras \u00e9 v\u00e1lido e definir/realizar a forma de pagamento, dever\u00e1 ser feita a consulta de pagamento atrav\u00e9s da chamada \u00e0 fun\u00e7\u00e3o ConsultaPagamentoCB.</p> Campo Tamanho Descri\u00e7\u00e3o TipoConta 01N [ 1 ] T\u00edtulo; [ 2 ] Conv\u00eanio (exceto tributos); [ 3 ] Conv\u00eanio (tributos) CodigoBarrasDigitado 48N c\u00f3digo de barras digitado (titulo com 47 bytes ou conv\u00eanio com 48 bytes) CodigoBarrasLido 44N codigo de barras lido (titulo ou conv\u00eanio com 44 bytes) ValorDocumento 12N valor do documento lido do c\u00f3digo de barras (se for zerado, valor digitado); formatar com zeros \u00e0 esquerda ValorDesconto 12N valor do desconto coletado; formatar com zeros \u00e0 esquerda ValorAcrescimo 12N valor do acr\u00e9scimo coletado; formatar com zeros \u00e0 esquerda DataVencimento Data data de vencimento no formato  FormaPagamento 03N [ 001 ] Dinheiro [ 002 ] Cheque [ 003 ] D\u00e9bito [ 004 ] Cr\u00e9dito Reservado1 Alfa Campo reservado para uso interno TipoSenha 01A Usado pelo Paykit; [A] ou [Z] tipo de senha retornado no campo reservado das transa\u00e7\u00f5es de cr\u00e9dito e d\u00e9bito completa;[0] se n\u00e3o coletado Reservado2 Alfa Campo reservado para uso interno NSUCartao 06N NSU da transa\u00e7\u00e3o de cr\u00e9dito ou d\u00e9bito TipoCMC7 01N [ 1 ] para cheque lido; [ 2 ] para cheque digitado CMC7 30N c\u00f3digo CMC7 do cheque NumeroControle 06N NSU da transa\u00e7\u00e3o de consulta pagamento MensagemTEF 32A Par\u00e2metro de retorno com a mensagem que deve ser apresentada pelo CB ImprimeComprovante 01N Par\u00e2metro de retorno que informa se deve ou n\u00e3o imprimir um comprovante da consulta; 0-n\u00e3o imprime 1-deve imprimir ParametrosConsulta Estrutura Par\u00e2metro de retorno da consulta no formato da estrutura TParametrosCBTEF (definida logo acima) ParametrosConsulta_2 Estrutura Conjunto de par\u00e2metros de retorno da consulta com a estrutura TParametrosConsulta_2 (definida logo abaixo). Observa\u00e7\u00f5es dos campos da estrutura a seguir:\u2022 1: valor deve ser acumulado no campo de desconto\u2022 2: valor deve ser acumulado no campo de acr\u00e9scimo\u2022 3: valor deve ser apresentado no campo de multa\u2022 4: indica se operador pode calcular o valor do documento\u2022 5: indica se o documento est\u00e1 vencido\u2022 6: indica se o documento \u00e9 um titulo do Bradesco\u2022 7: indica se a rede de pagamento aceita t\u00edtulo vencido\u2022 8: indica se a rede de pagamento retornou valor do documento recalculado (se sim, pega do campo ValorDevido)\u2022 9: valor do documento o recalculado pela rede (substitui o valor do documento)\u2022 10: valor cobrado que sempre deve ser enviado para a rede. Caso a rede permitir alterar este campo, dever\u00e1 ser enviado com o valor alterado <p>Uma vez que a transa\u00e7\u00e3o de consulta \u00e9 aprovada (realizada com sucesso com retorno igual a zero), ent\u00e3o verifica (atrav\u00e9s dos par\u00e2metros retornados no campo ParametrosConsulta ) quais campos devem ser habiltados (formas de pagamento, valor de desconto, juros e multa). Se a forma de pagamento for cheque, ent\u00e3o deve-se verificar se o banco do cheque \u00e9 o banco aceito para este pagamento. Tamb\u00e9m \u00e9 neste momento que os par\u00e2metros do campo ParametrosConsulta_2 devem ser processados (acatando os valores recebidos). No entanto, se a transa\u00e7\u00e3o de consulta n\u00e3o for aprovada (retorno diferente de zero), o pagamento dever\u00e1 ser cancelado e a mensagem de retorno do TEF deve ser apresentada (obter a mensagem atrav\u00e9s da fun\u00e7\u00e3o **UltimaMensagemTEF ).</p> Campo Descri\u00e7\u00e3o TParametrosConsulta_2 = record Cedente array[1..40] of char; DataContabil array[1..8] of char; ValorDocumento array[1..12] of char; ValorDesconto array[1..12] of char; ValorAbatimento array[1..12] of char; // Obs1 ValorBonificacao array[1..12] of char; // Obs1 ValorMulta array[1..12] of char; // Obs3 ValorJuros array[1..12] of char; ValorDevido array[1..12] of char; // Obs9 FlagValorCalculadoOperador array[1..1] of char; // Obs4 FlagTituloVencido array[1..1] of char; // Obs5 FlagTituloBradesco array[1..1] of char; // Obs6 FlagAceitaTitulo array[1..1] of char; // Obs7 FlagValorDiverge array[1..1] of char; // Obs8 ValorCobrado array[1..12] of char; // Obs10 <p>Depois da coleta das informa\u00e7\u00f5es complementares (confirma\u00e7\u00e3o dos valores de desconto, juros e multa), a fun\u00e7\u00e3o TransacaoPagamentoCB pode ser realizada.</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/Crediario/","title":"Credi\u00e1rio","text":""},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/Crediario/#crediario","title":"Credi\u00e1rio","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoCartaoCrediario(char *pValorTransacao, char *pNumeroCupom, \n                                               char *pNumeroControle)\n</code></pre> <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> <p>[ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. O sistema de automa\u00e7\u00e3o deve retornar \u00e0 rotina de recebimento de valores, pois a transa\u00e7\u00e3o solicitada n\u00e3o foi autorizada, n\u00e3o sendo v\u00e1lida como forma de pagamento.</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/Crediario/#crediario-completa","title":"Credi\u00e1rio Completa","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoCartaoCrediarioCompleta(char *pValorTransacao, char *pNumeroCupom, \n                                                       char *pNumeroControle, char *pNumeroParcelas, \n                                                       char *pDataParcela1, char *pValorParcela1, \n                                                       char *pValorEntrada, char *pPermiteAlteracao,\n                                                       char *pReservado)\n</code></pre> <p>Quando a automa\u00e7\u00e3o comercial necessitar de detalhes mais precisos da transa\u00e7\u00e3o, de cart\u00e3o credi\u00e1rio, pode ser usada a solicita\u00e7\u00e3o de transa\u00e7\u00e3o com cart\u00e3o credi\u00e1rio, atrav\u00e9s da chamada \u00e0 fun\u00e7\u00e3o TransacaoCartaoCrediarioCompleta. Os par\u00e2metros opcionais dessa fun\u00e7\u00e3o s\u00e3o os seguintes:</p> <p>NumeroParcelas (*)</p> <p>DataParcela1 (*)</p> <p>ValorParcela1 (*)</p> <p>ValorEntrada (*)</p> <p>PermiteAlteracao (*)</p> <p>Reservado (*)</p> Campo Tamanho Descri\u00e7\u00e3o ValorTransacao 12N 10 inteiros, 2 decimais NumeroCupom 06N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroParcelas 02N N\u00famero de parcelas (00 \u2013 99) DataParcela1 08N &lt;ddmmaaaa&gt; Data da parcela1 ValorParcela1 12N 10 inteiros, 2 decimais ValorEntrada 12N 10 inteiros, 2 decimais PermiteAlteracao 01A [ S ] Permite alterar valores informados (exceto ValorTransacao)[ N ] N\u00e3o permite alterar valores informados Reservado 158A 02I [ 00 ] Transa\u00e7\u00e3oautorizada[ 11 ] Transa\u00e7\u00e3o n\u00e3o efetuada <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> <p>[ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. O sistema de automa\u00e7\u00e3o deve retornar \u00e0 rotina de recebimento de valores, pois a transa\u00e7\u00e3o solicitada n\u00e3o foi autorizada, n\u00e3o sendo v\u00e1lida como forma de pagamento.</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/Crediario/#simulacao-crediario","title":"Simula\u00e7\u00e3o Credi\u00e1rio","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoSimulacaoCrediario(char *pValorTransacao, char *pNumeroCupom, \n                                                  char *pNumeroControle)\n</code></pre> <p>A fun\u00e7\u00e3o acima \u00e9 realizada atrav\u00e9s da chamada \u00e0s fun\u00e7\u00f5es TransacaoPreAutorizacaoCartaoCredito, TransacaoCancelamentoPagamento ou TransacaoCancelamentoPagamentoCompleta, TransacaoResumoVendas e TransacaoConsultaParcelas , TransacaoConsultaSaldo ou TransacaoConsultaSaldoCompleta, TransacaoSaque, TransacaoSaqueCompleta, TransacaoConsultaCadastroCPF, TransacaoSimulacaoCrediario, TransacaoDeposito, TransacaoSaqueTransferenciaDomestica, Simula\u00e7\u00e3o de Credi\u00e1rio.</p> <p>Os campos est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o ValorTransacao 12N 10 inteiros, 2 decimais NumeroCupom 06N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) 02I [ 00 ] Transa\u00e7\u00e3o autorizada[ 11 ] Transa\u00e7\u00e3o n\u00e3o efetuada <p>** quantidade de dias do ano informado at\u00e9 a data atual</p> <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> <p>[ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/DefineParametroTransacao/","title":"Define Par\u00e2metro de Transa\u00e7\u00e3o","text":""},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/DefineParametroTransacao/#defineparametrotransacao","title":"DefineParametroTransacao","text":"<pre><code>int DIRETIVA_CALLBACK DefineParametroTransacao(int iCodigoParametro,\n    char *pValorParametro,int iTamanhoParametro)\n</code></pre> <p>A fun\u00e7\u00e3o DefineParametroTransacao deve ser chamada sempre que o automa\u00e7\u00e3o comercial desejar repassar um par\u00e2metro espec\u00edfico para a transa\u00e7\u00e3o. Os par\u00e2metros aceitos est\u00e3o listados no \u00edtem 8.6 \u201cTabela 10.6 de PARAMETROS TRANSA\u00c7\u00c3O\u201d. Esta fun\u00e7\u00e3o deve ser utilizada antes de chamar a transa\u00e7\u00e3o espec\u00edfica que se deseja.</p> <p>Os par\u00e2metros est\u00e3o abaixo caracterizados a fun\u00e7\u00e3o DefineParametroTransacao.</p> Campo Tamanho Descri\u00e7\u00e3o CodigoParametro 04N C\u00f3digo do par\u00e2metro conforme tabela 6.0 ValorParametro 4096A Informa\u00e7\u00e3o para ser enviada. No m\u00e1ximo 4096 bytes. TamanhoParametro 04N Tamanho da informa\u00e7\u00e3o a ser enviada"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/DefineParametroTransacao/#parametros-transacao","title":"Parametros Transa\u00e7\u00e3o","text":"C\u00f3digo Par\u00e2metro Descri\u00e7\u00e3o 1000 DADOS ADICIONAIS LOJA Dados adicionais da LOJA, conhecido como MAD pela Elavon, utilizado para captar informa\u00e7\u00f5es adicionais da loja(para a rede imprimi-las no comprovante da transa\u00e7\u00e3o). 1001 NUMERO CARTAO AUTOMACAO N\u00famero do cart\u00e3o recebido da automa\u00e7\u00e3o. 1002 USAR NUMERO CARTAO AUTOMACAO Indica\u00e7\u00e3o de que deve tratar o n\u00famero do cart\u00e3o da automa\u00e7\u00e3o. 1003 SOFT DESCRIPTOR Informa\u00e7\u00e3o adicional do estabelecimento. Utilizado para redes que utilizam o campo na sub-adquir\u00eancia. 1004 TOKEN ESTABELECIMENTO Token recebido do PDV que ser\u00e1 passado nas transa\u00e7\u00f5es de fideliza\u00e7\u00e3o. 1005 LISTA PRODUTOS RESGATE Produtos recebidos numa transa\u00e7\u00e3o de resgate de fideliza\u00e7\u00e3o. Os dados ser\u00e3o passados diretamente para o Autorizador POS, por isso o formato dos dados dever\u00e1 ser definido pelo Autorizador. 1006 TOKEN CPF Informa\u00e7\u00e3o gerada pelo servidor a partir do CPF e que deve ser repassada em todas as transa\u00e7\u00f5es de fideliza\u00e7\u00e3o para a rede FTC Cards. 1007 VALIDADE CARTAO AUTOMACAO Validade do cart\u00e3o recebido da automa\u00e7\u00e3o - formato MMAA. 1008 NOME DBA AUTOMACAO Nome DBA. 1009 ENDERE\u00c7O Informar o valor com o endere\u00e7o a ser enviado para o Linx TEF. 1010 CIDADE Informar o valor com o cidade a ser enviado para o Linx TEF. 1011 UF Informar o valor com o UF a ser enviado para o Linx TEF. 1012 CEP Informar o valor com o CEP (somente n\u00fameros) a ser enviado para o Linx TEF. 1013 ID SUB ESTAB AUTOMACAO Informar o valor com o ID Sub_Estabelecimento a ser enviado para o Linx TEF. 1014 TELEFONE Informar o valor com o telefone a ser enviado para o Linx TEF. 1016 DATA EMBARQUE Informar a data de embarque. 1017 CAPTURA CARTAO DIGITADO For\u00e7a a captura do cart\u00e3o por digita\u00e7\u00e3o. 1018 CAPTURA CARTAO DIGITADO ATE 22 DIGITOS Permite a captura de cart\u00e3o por digita\u00e7\u00e3o com at\u00e9 22 d\u00edgitos. 1019 DADOS ADICIONAIS TLV Para acrescentar parametros diversos. 1020 ATUALIZAR OPERADORA BANDEIRA Flag para indicar a necessidade de recalcular a bandeira e operadora do cart\u00e3o. 1021 TRATAR QUEDA ENERGIA Informar o valor \"1\" para indicar que o client deve realizar o desfazimento das transa\u00e7\u00f5es da \u00faltima venda em que ocorreu queda de energia. 1022 NRR DESCRIPTION NSU do Autorizador (Alelo) - N\u00famero de Refer\u00eancia da Rede de captura. 1023 MERCHANT QTDE Quantidade de sub-merchants (max 5). 1024 MERCHANT IDS Sub-merchants IDs (max N15 x 5). 1025 MERCHANT AMOUNTS Sub-merchants Amounts (max N12 x 5). 1026 BIN CARTAO Bin do cart\u00e3o com seis d\u00edgitos. 1027 CPF/CNPJ Informar o valor com o CPF/CNPJ a ser enviado para o Linx TEF. Pode ser enviado com os caracteres especiais ou n\u00e3o, desde que o tamanho da string informada esteja correta. 1028 TITULAR DEPENDENTE AUTOMACAO Informar se \u00e9 titular ou dependente(1=titular/2=dependente). 1029 CODIGO REDE AUTOMACAO C\u00f3digo da rede selecionada. 1030 TIPO ASSOCIACAO Informar o tipo associa\u00e7\u00e3o  1-Venda/2-Recarga. 1031 TIPO FORMA ENTRADA AUTOMACAO Informar o tipo de identifica\u00e7\u00e3o1-cpf/2-placa/3-Telefone/4- CARTAO. 1032 NUMERO MAXIMO PARCELA CDC Indica n\u00famero m\u00e1ximo de parcelas, fin. para CDC. Quando menor que um, indica que n\u00e3o ser\u00e1 coletado. 1033 CODIGO TABELA CDC Indica o c\u00f3digo da tabela do plano de CDC selecionado. 1034 E-MAIL Informar o valor com o e-mail a ser enviado para o Linx TEF. 1035 PA\u00cdS Informar o valor com o Pa\u00eds a ser enviado para o Linx TEF. 1036 MCC Informar o valor com o MCC a ser enviado para o Linx TEF. 1037 NOME FANTASIA Informar o valor com o nome fantasia a ser enviado para o Linx TEF. 1038 CP SLIP DAS OPCOES Campo auxiliar/complementar do CP_OPCOES, para ser informado um SLIP para cada uma das op\u00e7\u00f5es. 1039 TOKEN TRANSACAO Informar o identificador da transa\u00e7\u00e3o. 1040 CODIGO REFERENCIA AUTOMACAO C\u00f3digo gravado para a transa\u00e7\u00e3o com o pedido da automa\u00e7\u00e3o."},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/FuncoesAdministrativas/","title":"Fun\u00e7\u00f5es Administrativas","text":""},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/FuncoesAdministrativas/#funcoes-administrativas","title":"Fun\u00e7\u00f5es Administrativas","text":"<p>A fun\u00e7\u00e3o atualmente disponibilizada \u00e9:</p> <pre><code> function TransacaoFuncoesAdministrativas(pValorTransacao, pNumeroCupom, pNumeroControle,\n pReservado: PChar);\n</code></pre> <p>A fun\u00e7\u00e3o TransacaoFuncoesAdministrativas permite que sejam acionadas fun\u00e7\u00f5es gerais que n\u00e3o necessitam de integra\u00e7\u00e3o mais direta com a automa\u00e7\u00e3o. \u00c9 uma fun\u00e7\u00e3o a ser utilizada na modalidade de recebimento e n\u00e3o como forma de pagamento.</p> <p>Os campos das fun\u00e7\u00f5es est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o ValorTransacao 12N 10 inteiros, 2 decimais NumeroCupom 06N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) Reservado 128A [ 0..0 ]: \u2018P\u2019 \u2013 apresenta apenas transa\u00e7\u00f5es do programa Premmia"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/","title":"Outras Transa\u00e7\u00f5es","text":""},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#funcao-para-obtencao-de-informacoes-da-transacao-corrente","title":"Fun\u00e7\u00e3o para obten\u00e7\u00e3o de informa\u00e7\u00f5es da transa\u00e7\u00e3o corrente","text":"<p>A fun\u00e7\u00e3o atualmente disponibilizada \u00e9:</p> <pre><code>int DIRETIVA_CALLBACK ObtemInformacaoTransacaoCorrente(int iCodigoInformacao, \n    char *pValorInformacao)\n</code></pre> <p>A fun\u00e7\u00e3o ObtemInformacaoTransacaoCorrente deve ser utilizada para a obten\u00e7\u00e3o de informa\u00e7\u00f5es da transa\u00e7\u00e3o corrente.</p> <p>Os campos das fun\u00e7\u00f5es est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o CodigoInformacao 3N \u2022 [ 2 ] BIN do cart\u00e3o (6 primeiros d\u00edgitos).\u2022 [ 3 ] Valor da transa\u00e7\u00e3o em centavos.\u2022 [ 12 ] C\u00f3digo da transa\u00e7\u00e3o.\u2022 [ 25 ] C\u00f3digo da rede.\u2022 [ 334 ] C\u00f3digo da bandeira.\u2022 [ 899 ] Nome da bandeira.\u2022 [ 950 ] Nome da rede."},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#funcao-para-obter-o-caminho-do-diretorio-de-cupons-tef","title":"Fun\u00e7\u00e3o  para obter o caminho do diret\u00f3rio de Cupons TEF","text":"<p>A fun\u00e7\u00e3o atualmente disponibilizada \u00e9:</p> <pre><code>int DIRETIVA_CALLBACK ObtemPathCupons(char *pPathCupons, int iPathLength)\n</code></pre> <p>A fun\u00e7\u00e3o ObtemPathCupons deve ser utilizada para obter o path onde o Paykit salvar\u00e1 os cupons ao final de cada transa\u00e7\u00e3o.  M\u00e9todo dispon\u00edvel a partir da vers\u00e3o: <code>8.22.21.00</code> do paykit.</p> <p>Os campos est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o pPathCupons A Ponteiro que recebe o retorno do path completo do diret\u00f3rio de cupons em caso de sucesso. Exemplo: <code>C:\\ClientLinxTEF\\Cupons</code> iPathLength 03N Tamanho do buffer pPathCupons em bytes"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#funcao-para-obter-a-empresa-loja-pdv-ip-e-porta-do-servidor-tef-configurados-no-client","title":"Fun\u00e7\u00e3o para obter a Empresa, Loja, PDV, IP e Porta do servidor TEF configurados no client.","text":"<p>A fun\u00e7\u00e3o atualmente disponibilizada \u00e9:</p> <pre><code>int DIRETIVA_CALLBACK ObtemDadosConfigurados(char *pEmpresa, char *pLoja, char *pPDV, char *pCNPJ, char *pIPServidor,\n                                             int iIpLength, char *pPorta)\n</code></pre> <p>A fun\u00e7\u00e3o ObtemDadosConfigurados deve ser chamada sempre que a automa\u00e7\u00e3o comercial necessitar recuperar os dados configurados no client.   O m\u00e9todo retornar\u00e1 os dados de Empresa, Loja, CNPJ, IP e Porta do servidor TEF. M\u00e9todo dispon\u00edvel a partir da vers\u00e3o: <code>8.22.21.00</code> do paykit.</p> <p>Os campos est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o pEmpresa 04N Ponteiro que recebe o retorno do numero da empresa em caso de sucesso. pLoja 04N Ponteiro que recebe o retorno do numero da loja em caso de sucesso. pPDV 04N Ponteiro que recebe o retorno do numero do PDV em caso de sucesso. pCNPJ 03N Ponteiro que recebe o retorno do numero do CNPJ em caso de sucesso. pIPServidor A Ponteiro que recebe o retorno do IP do servidor em caso de sucesso. iIpLength 03N Tamanho do buffer pIPServidor em bytes pPorta 05N Ponteiro que recebe o retorno da porta do servidor em caso de sucesso."},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#funcao-para-obter-a-empresa-e-loja-retornados-do-tef","title":"Fun\u00e7\u00e3o para obter a Empresa e Loja retornados do TEF.","text":"<p>A fun\u00e7\u00e3o atualmente disponibilizada \u00e9:</p> <pre><code>int DIRETIVA_CALLBACK ObtemDadosEmpresaLojaTEF(char *pCNPJ, char *pCodigoEmpresa, char *pCodigoLoja)\n</code></pre> <p>A fun\u00e7\u00e3o ObtemDadosEmpresaLojaTEF deve ser chamada sempre que a automa\u00e7\u00e3o comercial necessitar coletar os dados de Empresa e Loja do TEF. O m\u00e9todo retornar\u00e1 os dados de Empresa e Loja a partir do CNPJ informado.  M\u00e9todo dispon\u00edvel a partir da vers\u00e3o: <code>8.22.21.00</code> do paykit.</p> <p>Os campos est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o pCNPJ 14N Ponteiro que cont\u00e9m o n\u00famero do CNPJ para realizar a coleta do c\u00f3digo de Empresa e Loja. pCodigoEmpresa 04N Ponteiro que recebe o retorno do numero da empresa em caso de sucesso. pCodigoLoja 04N Ponteiro que recebe o retorno do numero da loja em caso de sucesso."},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#transacao-pagamento-private-label-completa","title":"Transa\u00e7\u00e3o Pagamento Private Label Completa","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoPagamentoPrivateLabelCompleta(char *pValorTransacao, \n    char *pNumeroCupom, char *pNumeroControle, char *pIndicadorDigitacao, char *pCodigoBarras, \n    char *pNumeroCartao, char *pCodigoRede, char *pPermiteAlteracao, char *pReservado)\n</code></pre> <p>Quando a automa\u00e7\u00e3o comercial necessitar fazer um pagamento de t\u00edtulo deve ser usada a solicita\u00e7\u00e3o de transa\u00e7\u00e3o de pagamento private label completa, atrav\u00e9s da chamada \u00e0 fun\u00e7\u00e3o TransacaoPagamentoPrivateLabelCompleta.</p> <p>Os campos est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o ValorTransacao 12N 10 inteiros, 2 decimais NumeroCupom 06N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) IndicadorDigitacao 01N \u2022 [ 0 ] C\u00f3digo de Barras Lido\u2022 [ 1 ] C\u00f3digo de Barras digitado CodigoBarras 47A C\u00f3digo de Barras NumeroCartao 19A N\u00famero do cart\u00e3o CodigoRede 04N C\u00f3digo da Rede que ser\u00e1 enviada a transa\u00e7\u00e3o. Ex: 0007 para Redecard. PermiteAlteracao 01A \u2022 [ S ] Permite alterar valores informados (exceto ValorTransacao)\u2022 [ N ] N\u00e3o permite alterar valores informados Reservado 255A Campo Reservado \u2022 [Posi\u00e7\u00e3o] Campo \u2022 [01..01] Valor 1 se opera\u00e7\u00e3o de pagamento com cart\u00e3o de cr\u00e9dito ou 2 com cart\u00e3o de d\u00e9bito."},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#consulta-private-label","title":"Consulta Private Label","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoConsultaPrivateLabel(char *pValorTransacao, char *pNumeroCupom,\n                                                    char *pNumeroControle)\n</code></pre> <p>Para a transa\u00e7\u00e3o acima, pode-se utilizar a fun\u00e7\u00e3o ConfirmaCartaoCredito . Ap\u00f3s a execu\u00e7\u00e3o desta, deve-se chamar a fun\u00e7\u00e3o FinalizaTransacao , assim como \u00e9 feito nas transa\u00e7\u00f5es de cart\u00f5es de d\u00e9bito, cr\u00e9dito e voucher.</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#consulta-parcelas","title":"Consulta parcelas","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoConsultaParcelas(char *pNumeroControle)\n</code></pre> <p>Para a transa\u00e7\u00e3o acima, pode-se utilizar a fun\u00e7\u00e3o ConfirmaCartaoCredito . Ap\u00f3s a execu\u00e7\u00e3o desta, deve-se chamar a fun\u00e7\u00e3o FinalizaTransacao , assim como \u00e9 feito nas transa\u00e7\u00f5es de cart\u00f5es de d\u00e9bito, cr\u00e9dito e voucher.</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#consulta-saldo","title":"Consulta Saldo","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoConsultaSaldo(char *pNumeroCupomVenda, char *pNumeroControle)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#consulta-saldo-completa","title":"Consulta Saldo Completa","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoConsultaSaldoCompleta(char *pNumeroCupomVenda, char *pNumeroControle, \n                                                     char *pTipoCartao, char *pPermiteAlteracao, \n                                                     char *pReservado)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#consulta-planos","title":"Consulta Planos","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoConsultaPlanos(char *pValorTransacao, char *pNumeroControle, \n                                              char *pReservado, char *pPlanos)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#funcao-para-consultar-status-das-transacoes-pela-automacao","title":"Fun\u00e7\u00e3o para consultar status das transa\u00e7\u00f5es pela automa\u00e7\u00e3o","text":"<pre><code>int DIRETIVA_CALLBACK ConsultaTransacao(char *pNumeroEmpresa, char *pNumeroLoja, \n    char *pNumeroPDV, char *pSolicitacao, char *pResposta, char *pMensagemErro)\n</code></pre> <p>A fun\u00e7\u00e3o ConsultaTransacao deve ser utilizada pela automa\u00e7\u00e3o para consultar o status das transa\u00e7\u00f5es.</p> <p>Os par\u00e2metros da fun\u00e7\u00e3o est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o NumeroEmpresa 4N N\u00famero da empresa NumeroLoja 6N N\u00famero da loja NumeroPDV 4N N\u00famero do PDV Solicitacao Para realizar a consulta dever\u00e1 ent\u00e3o ser informada a data e o NSU da transa\u00e7\u00e3o. No retorno, a estrutura ser\u00e1 preenchida com os valores gravados na base de dados. A estrutura da solicita\u00e7\u00e3o quando da resposta \u00e9 a que segue: \u2022 [ Data ] 8 N \u2022 [ NSU ] 6 N\u2022 [ Cupom ] 6 N\u2022 [ Status ] 2 N - Indica se a transa\u00e7\u00e3o est\u00e1 pendente. Uma transa\u00e7\u00e3o pendente estar\u00e1 com o valor \"77\".\u2022 [ CodigoResposta ] 4 N\u2022 [ Valor ] 12 N - 10 Decimais e 2 Inteiros\u2022 [ CodigoRede ] 4 N\u2022 [ CodigoBandeira ] 4 N\u2022 [ CodigoTransacao ] 4 N\u2022 [ NumeroCartao ] 20 N\u2022 [ Reservado ] 32 A Resposta 02N C\u00f3digo de resposta MensagemErro 20A Mensagem de erro"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#saque","title":"Saque","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoSaque(char *pValorTransacao, char *pNumeroCupom, \n                                     char *pNumeroControle)\n</code></pre> <p>Para a transa\u00e7\u00e3o acima, pode-se utilizar a fun\u00e7\u00e3o ConfirmaCartaoCredito . Ap\u00f3s a execu\u00e7\u00e3o desta, deve-se chamar a fun\u00e7\u00e3o FinalizaTransacao , assim como \u00e9 feito nas transa\u00e7\u00f5es de cart\u00f5es de d\u00e9bito, cr\u00e9dito e voucher.</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#saque-completa","title":"Saque Completa","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoSaqueCompleta(char *pValorTransacao, char *pNumeroCupom, \n                                             char *pNumeroControle, char *pTipoTransacao, \n                                             char *pPlanoPagamento, char *pNumeroParcelas, \n                                             char *pPermiteAlteracao, char *pReservado)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#transacao-de-primeira-compra","title":"Transa\u00e7\u00e3o de Primeira Compra","text":"<p>Os campos das fun\u00e7\u00f5es est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o ValorTransacao 12N 10 inteiros, 2 decimais NumeroCupom 06N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) TipoOperacao 02A \u2022 [ AV ] \u00c0 vista\u2022 [ FL ] Financiamento Lojista \u2022 [ FA ] Financiamento Administradora NumeroParcelas 02N N\u00famero de parcelas (00 \u2013 99) ValorParcela 12N 10 inteiros, 2 decimais ValorEntrada 12N 10 inteiros, 2 decimais ValorTaxaServico 12N 10 inteiros, 2 decimais PermiteAlteracao 01A \u2022 [ S ] Permite alterar valores informados (exceto ValorTransacao) \u2022 [ N ] N\u00e3o permite alterar valores informados Reservado 158A [ Especifica\u00e7\u00e3o ]\u2022 [ 1..1 ] Uso restrito. Fixo \u201c0\u201d\u2022 [ 2..4 ] Uso restrito. Fixo \u201c000\u201d\u2022 [ 5..7 ] Plano de pagamento utilizado no PDV\u2022 [ 8..8 ] Valor [ 0 ] indica pagamento com Cart\u00e3o de Cr\u00e9dito;[ 1 ] indica pagamento com Crach\u00e1. [ 3 ] indica pagamento com cart\u00e3o Qualidade [ 4 ] indica pagamento com cart\u00e3o MettaCard\u2022 [ 9..9 ] Flag indicando se h\u00e1 dados de cart\u00e3o (Crach\u00e1) [ 0]N\u00e3o [ 1 ]Sim[10] Op\u00e7\u00e3o para Pagamento de fatura\u2022 0-&gt;Indica que n\u00e3o \u00e9 pagamento de fatura\u2022 1-&gt;C\u00f3digo de Barras digitado\u2022 2-&gt;C\u00f3digo de Barras lido \u00f3ticamente\u2022 3-&gt;CPF (11 caracteres)\u2022 4-&gt;Cart\u00e3o (n\u00e3o deve passar o n\u00famero do cart\u00e3o, colocar tamanho dos dados zerado)\u2022 5-&gt;Outros(at\u00e9 40 caracteres)\u2022 [11..12] Tamanho dos dados da op\u00e7\u00e3o de pagamento de fatura\u2022 [13..59] Dados do pagamento de fatura\u2022 [60..126] Uso restrito.\u2022 [127..138] Valor da taxa de embarque\u2022 [139..139] Tipo de Venda (0-Normal; 1-Promocional)\u2022 [ Especifica\u00e7\u00e3o do Retorno ]C\u00f3digo poss\u00edveis :\u2022 [ 01 ] Dados Correspondente Banc\u00e1rio\u2022 [ 02 ] Dados Correspondente Banc\u00e1rio\u2022 [ 03 ] Dados Correspondente Banc\u00e1rio\u2022 [ 04 ] Dados Correspondente Banc\u00e1rio\u2022 [ 05 ] Dados Venda Crach\u00e1\u2022 [ 06 ] Dados Correspondente Banc\u00e1rio\u2022 [ 07 ] Dados Correspondente Banc\u00e1rio\u2022 [ Especifica\u00e7\u00e3o dos Dados Venda Crach\u00e1 ]\u2022 [ 01..09 ] CodigoAutorizacao\u2022 [ 10..59 ] NomeFuncionario\u2022 [ 60..71 ] ValorDesconto\u2022 [ 72..76 ] PercentualDesconto"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#primeira-compra","title":"Primeira Compra","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoPrimeiraCompra(char *pValorTransacao, \n    char *pNumeroCupom, char *pNumeroControle);\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#primeira-compra-completa","title":"Primeira Compra Completa","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoPrimeiraCompraCompleta(char *pValorTransacao, char *pNumeroCupom,\n    char *pNumeroControle, char *pTipoOperacao, char *pNumeroParcelas, char *pValorParcela,\n    char *pValorTaxaServico, char *pPermiteAlteracao, char *pReservado);\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#pre-autorizacao-credito","title":"Pr\u00e9 Autoriza\u00e7\u00e3o Cr\u00e9dito","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoPreAutorizacaoCartaoCredito(char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoConfirmacaoPreAutorizacao(char *pNumeroControle)\n</code></pre> <p>Para a transa\u00e7\u00e3o acima, pode-se utilizar a fun\u00e7\u00e3o ConfirmaCartaoCredito . Ap\u00f3s a execu\u00e7\u00e3o desta, deve-se chamar a fun\u00e7\u00e3o FinalizaTransacao , assim como \u00e9 feito nas transa\u00e7\u00f5es de cart\u00f5es de d\u00e9bito, cr\u00e9dito e voucher.</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#informacoes-debito-parcelado","title":"Informa\u00e7\u00f5es D\u00e9bito Parcelado","text":"<p>procedure ObtemInfTransacaoDebitoParcelado(pDados: Pchar);</p> <p>A fun\u00e7\u00e3o ObtemInfTransacaoDebitoParcelado retorna informa\u00e7\u00f5es sobre as parcelas da \u00faltima transa\u00e7\u00e3o de d\u00e9bito parcelado realizada. Essa informa\u00e7\u00e3o est\u00e1 dispon\u00edvel apenas para as transa\u00e7\u00f5es cujas parcelas sejam disponibilizadas pela rede autorizadora.</p> <p>Os dados da transa\u00e7\u00e3o s\u00e3o retornados na \u00e1rea que deve ser previamente alocada e passada como par\u00e2metro. A estrutura retornada est\u00e1 caracterizada abaixo.</p> Campo Tamanho Descri\u00e7\u00e3o N\u00famero de parcelas 04B N\u00famero de parcelas. O tipo do dado retornado \u00e9 inteiro, em formato bin\u00e1rio, representa\u00e7\u00e3o little endian. Por exemplo, o valor de 5 parcelas ser\u00e1 retornado como 0x05 0x00 0x00 0x00 Data Parcela 1 08N Data da parcela, no formato DDMMAAAA Valor Parcela 1 12N 10 inteiros, 2 decimais Data Parcela n 08N Data da parcela, no formato DDMMAAAA Valor Parcela n 12N 10 inteiros, 2 decimais"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#estatistica","title":"Estat\u00edstica","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoEstatistica(char *pNumeroControle)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#consulta-cadastro-cpf338-transacao-consulta-cadastro-cpf-completa","title":"Consulta Cadastro CPF(3.38. Transa\u00e7\u00e3o Consulta Cadastro CPF Completa)","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoConsultaCadastroCPF(char *pValorTransacao, char *pNumeroCupom, \n                                                   char *pNumeroControle, char *pTipoOperacao, \n                                                   char *pDocEmissor, char *pPermiteAlteracao, \n                                                   char *pReservado)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#transacao-atualizacao-de-parametros-do-cartao","title":"Transa\u00e7\u00e3o Atualiza\u00e7\u00e3o de Par\u00e2metros do Cart\u00e3o","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoAtualizacaoParametrosCartao(char *pNumeroControle)\n</code></pre> <p>A solicita\u00e7\u00e3o da transa\u00e7\u00e3o de atualiza\u00e7\u00e3o de par\u00e2metros do cart\u00e3o \u00e9 realizada atrav\u00e9s da chamada \u00e0 fun\u00e7\u00e3o TransacaoAtualizacaoParametrosCartao e serve para que a Rede Adquirente envie informa\u00e7\u00f5es para serem atualizadas no cart\u00e3o. Para esta fun\u00e7\u00e3o deve-se enviar o seguinte par\u00e2metro:</p> <p>NumeroControle</p> <p>Na resposta da chamada \u00e0 fun\u00e7\u00e3o ser\u00e1 preenchido o campo NumeroControle e ser\u00e1 devolvido o , indicando o resultado da transa\u00e7\u00e3o.</p> <p>O NumeroControle , inclu\u00eddo na resposta, dever\u00e1 ser armazenado pelo sistema de automa\u00e7\u00e3o, pois na fun\u00e7\u00e3o de confirma\u00e7\u00e3o este n\u00famero ser\u00e1, obrigatoriamente, utilizado.</p> <p>Esta transa\u00e7\u00e3o n\u00e3o \u00e9 financeira, ou seja, n\u00e3o deve gerar cupom fiscal.</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#resgate-de-premio","title":"Resgate de Pr\u00eamio","text":"<p>A fun\u00e7\u00e3o atualmente disponibilizada \u00e9:</p> <pre><code>int DIRETIVA_CALLBACK TransacaoResgatePremio(char *pNumeroCupom, char *pNumeroControle)\n</code></pre> <p>A fun\u00e7\u00e3o TransacaoResgatePremio permite que seja feito o resgate de pr\u00eamios da plataforma promocional da Cielo. \u00c9 uma fun\u00e7\u00e3o a ser utilizada na modalidade de recebimento e n\u00e3o como forma de pagamento. N\u00e3o existem par\u00e2metros espec\u00edficos para a fun\u00e7\u00e3o e todo o controle de pr\u00eamios a serem exibidos \u00e9 feito pelo Linx TEF.</p> <p>Essa transa\u00e7\u00e3o n\u00e3o gera comprovante e portanto ele n\u00e3o precisa ser impresso.</p> <p>Os campos das fun\u00e7\u00f5es est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o NumeroCupom 06N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico)"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#transacoes-de-pontos","title":"Transa\u00e7\u00f5es de Pontos","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoAcumuloPontos(char *pValorTransacao, char *pNumeroCupom, \n    char *pTipoDocumentoCliente, char *pDocumentoCliente, char *pTipoDocumentoAtendente, \n    char *pDocumentoAtendente, char *pPermiteAlteracao, char *pReservadoAcumulo, \n    char *pNumeroControle, char *pSaldoPontos)\n</code></pre> <p><pre><code>int DIRETIVA_CALLBACK TransacaoResgatePontos(char *pValorTransacao, char *pNumeroCupom, \n    char *pTipoDocumentoCliente, char *pDocumentoCliente, char *pTipoDocumentoAtendente, \n    char *pDocumentoAtendente, char *pProdutos, char *pPermiteAlteracao, char *pReservadoResgate, \n    char *pNumeroControle, char *pSaldoPontos)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoConsultaPontos(char *pValorTransacao, char *pNumeroCupom, \n    char *pTipoDocumentoCliente, char *pDocumentoCliente, char *pTipoDocumentoAtendente, \n    char *pDocumentoAtendente, char *pProdutos, char *pPermiteAlteracao, \n    char *pReservadoConsulta, char *pNumeroControle, char *pSaldoPontos)\n</code></pre></p> <pre><code>int DIRETIVA_CALLBACK TransacaoExtratoPontos(char *pValorTransacao, char *pNumeroCupom, \n    char *pTipoDocumentoCliente, char *pDocumentoCliente, char *pTipoDocumentoAtendente, \n    char *pDocumentoAtendente, char *pProdutos, char *pPermiteAlteracao, \n    char *pReservadoExtrato, char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoRelatorioPontos(char *pParametrosRelatorio, \n    char *pPermiteAlteracao, char *pReservadoRelatorio,  char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoConsultaProdutosResgate(char *pValorTransacao, char *pNumeroCupom,\n    char *pTipoDocumentoCliente, char *pDocumentoCliente, char *pTipoDocumentoAtendente, \n    char *pDocumentoAtendente, char *pProdutos, char *pPermiteAlteracao, \n    char *pReservadoConsultaProdutosResgate, char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoResgateProdutos(char *pValorTransacao, char *pNumeroCupom, \n    char *pTipoDocumentoCliente, char *pDocumentoCliente, char *pTipoDocumentoAtendente, \n    char *pDocumentoAtendente, char *pProdutos, char *pPermiteAlteracao, char *pReservadoResgate, \n    char *pNumeroControle, char *pSaldoPontos)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoEstornoAcumuloPontos(char *pValorTransacao, char *pNumeroCupom,\n    char *pTipoDocumentoCliente, char *pDocumentoCliente, char *pTipoDocumentoAtendente, \n    char *pDocumentoAtendente, char *pDataEstorno, char *pNSUEstorno, char *pPermiteAlteracao, \n    char *pReservadoEstorno, char *pNumeroControle)\n</code></pre> <p>A solicita\u00e7\u00e3o de transa\u00e7\u00f5es de pontos s\u00e3o feitas com as fun\u00e7\u00f5es TransacaoAcumuloPontos, TransacaoResgatePontos, TransacaoConsultaPontos e TransacaoRelatorioPontos.</p> <p>Os campos est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o ValorTransacao 12N 10 inteiros, 2 decimais Transa\u00e7\u00e3o de resgate de pontos - Dependendo da Forma de resgate utilizada, indicada no campo ReservadoResgate, o campo Valortransacao ser\u00e1 tratado de diferentes formas:\u2022 Se FormaResgate [V] o campo indica o valor a ser resgatado em R$ com 2 casas decimais;\u2022 Se FormaResgate [P] o campo indica quantidade de pontos com 12 inteiros e 0 decimais;\u2022 Se FormaResgate [C] o campo indicar\u00e1 o valor total da compra e ser\u00e1 utilizado como limite m\u00e1ximo de valor para resgate dos Cupons/Vales/Vouchers. NumeroCupom 06N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) TipoDocumentoCliente 01A Tipo do documento do cliente\u2022 [F] CPF\u2022 [J] CNPJ\u2022 [C] Cart\u00e3o \u2022 [I] C\u00f3digo interno DocumentoCliente 37N Documento do cliente, conforme tipo informado acima TipoDocumentoAtendente01 01A Tipo do documento do atendente\u2022 [F] CPF \u2022 [J] CNPJ \u2022 [C] Cart\u00e3o \u2022 [I] C\u00f3digo interno DocumentoAtendente 37N Documento do atendente, conforme tipo informado acima PermiteAlteracao 01A Permite altera\u00e7\u00e3o pelo usu\u00e1rio dos par\u00e2metros informados. Caso o par\u00e2metro seja \u201cN\u00e3o\u201d, o Paykit ir\u00e1 assumir os valores passados nos par\u00e2metros sem solicitar a altera\u00e7\u00e3o. \u2022 [S] Sim \u2022 [N] N\u00e3o ReservadoAcumulo 255P Par\u00e2metros adicionais\u2022 QuantidadePromocoes |CodigoPromocao1;QuantidadeItensPromocao|...|CodigoPromocaoN;QuantidadeItensPromocaoN Exemplos:\u2022 2|3;4|1;3 NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) Produtos N A Lista de produtos, no formato:\u2022 QuantidadeProdutos| CodigoProduto1;QuantidadeItensProduto1 |...| CodigoProdutoN ;QuantidadeItensProdutoN Exemplos: \u2022 2|1;1|2;3 \u2022 3|2;1|5;1|5;2 ReservadoResgate 255P Par\u00e2metros adicionais FormaResgate\u2022 [V] Resgate por valor\u2022 [P] Resgate por quantidade de pontos \u2022 [C] Resgate por vales Exemplos \u2022 V \u2022 P ReservadoConsulta 255P Par\u00e2metros adicionais TipoConsulta TipoConsulta\u2022 [S] Saldo \u2022 [E] Extrato Exemplos: \u2022 S \u2022 E ParametrosRelatorio 255P Par\u00e2metros no formato:\u2022 TipoRelatorio |PeriodoRelatorio\u2022 Tipo do Relat\u00f3rio\u2022 [G] Geral\u2022 [P] Per\u00edodoPeriodoRelatorio\u2022 AAAAMMDD ; AAAAMMDD \u2013 Per\u00edodo Inicial;Per\u00edodo FinalExemplos:\u2022 P|20150310;20150311\u2022 G|;Obs.: no relat\u00f3rio geral, o per\u00edodo \u00e9 desconsiderado ReservadoRelatorio 255P Reservado para uso futuro DataEstorno 08N  Data da transa\u00e7\u00e3o de ac\u00famulo original NSU Estorno 06N NSU do estorno Reservado Estorno 255P Reservado para uso futuro SaldoPontos 12N Saldo de pontos"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#plataforma-promocional-cielo","title":"Plataforma Promocional CIELO","text":"<p>Para tratar essa funcionalidade \u00e9 necess\u00e1rio que a automa\u00e7\u00e3o comercial realize implementa\u00e7\u00f5es espec\u00edficas, chamando algumas fun\u00e7\u00f5es que numa situa\u00e7\u00e3o normal de pagamento n\u00e3o s\u00e3o utilizadas. Os passos para realizar este tratamento s\u00e3o os seguintes:</p> <p>Chamar a fun\u00e7\u00e3o IdentificacaoAutomacaoComercial para informar ao Linx TEF que a automa\u00e7\u00e3o est\u00e1 preparada para tratar as situa\u00e7\u00f5es especiais que poder\u00e3o ocorrer quando a rede autorizadora um desconto na transa\u00e7\u00e3o.</p> <p>Na resposta da chamada da transa\u00e7\u00e3o financeira ( TransacaoCartaoCredito , por exemplo), verificar as informa\u00e7\u00f5es do log estendido para identificar se a rede autorizadora respondeu a transa\u00e7\u00e3o com um desconto. Se houve desconto, dever\u00e1 ser tratada a parte fiscal (gerar o desconto no cupom). Para obter essa informa\u00e7\u00e3o, verificar a documenta\u00e7\u00e3o sobre a fun\u00e7\u00e3o ObtemLogUltimaTransacao , especificamente sobre o Log Estendido. Esta verifica\u00e7\u00e3o deve ser feita somente se a rede autorizadora da transa\u00e7\u00e3o \u00e9 uma rede do Linx TEF, pois para as transa\u00e7\u00f5es feitas com redes no Linx TEF 5 o log estendido n\u00e3o \u00e9 gerado.</p> <p>Implementar a chamada \u00e0 fun\u00e7\u00e3o TransacaoResgatePremio , para fazer o resgate dos pr\u00eamios.</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#transacoes-pbm","title":"Transa\u00e7\u00f5es PBM","text":"<pre><code>int DIRETIVA_CALLBACK ConsultaParametrosPBM(char *pNumeroCupom, char *pQuantidadeRedes, \n                                            char *pDadosRedes, char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK ConsultaProdutosPBM(char *pNumeroCupom, char *pRedePBM, char *pTrilha1, \n                                          char *pTrilha2, char *pDigitado, char *pAutorizacao, \n                                          char *pDadosCRM, char *pTipoVenda, char *pValorTotalMedicamentos, \n                                          char *pValorVista, char *pValorCartao, char *pCodigoCredenciado, \n                                          char *pQuantidadeMedicamentos, char *pMedicamentos, char *pReservado, \n                                          char *pNumeroControle, char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoVendaPBM(char *pValorTotalMedicamentos, char *pNumeroCupom, char *pRedePBM, \n                                        char *pTrilha1, char *pTrilha2, char *pDigitado, char *pAutorizacao, \n                                        char *pNSUConsulta, char *pDadosCRM, char *pTipoVenda, \n                                        char *pValorVista, char *pValorCartao, char *pCodigoCredenciado, \n                                        char *pRegraNegocio, char *pQuantidadeMedicamentos, char *pMedicamentos, \n                                        char *pReservado, char *pNumeroControle, char *pNumeroControleRede, \n                                        char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK ConfirmaVendaPBM(char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoReimpressaoVendaPBM()\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoCancelamentoVendaPBM(char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoElegibilidadePBM(char *pNumeroCupom, char *pRedePBM, char *pMatricula,\n                                                char *pDadosElegibilidade, char *pNumeroControle, \n                                                char *pNumeroControleRede, char *pNomeCliente, \n                                                char *pNomeMedico, char *pInformaDependente, \n                                                char *pListaDependentes, char *pReservado, \n                                                char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoPreAutorizacaoPBM(char *pNumeroCupom, char *pRedePBM, \n                                                 char *pAutorizacaoElegibilidade,\n                                                 char *pDadosFarmaceutico, char *pQuantidadeMedicamentos, \n                                                 char *pMedicamentos, char *pNumeroControle, \n                                                 char *pNumeroControleRede, char *pReservado, \n                                                 char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoCancelamentoPreAutorizacaoPBM(char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK ConsultaParametrosPBM_TeleMarketing(char *pNumeroEmpresa, char *pMultiLoja, \n                                                          char *pNumeroLoja, char *pNumeroPDV, \n                                                          char *pNumeroCupom, char *pQuantidadeRedes, \n                                                          char *pDadosRedes, char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK ConsultaProdutosPBM_TeleMarketing(char *pNumeroEmpresa, char *pMultiLoja, \n                                                        char *pNumeroLoja, char *pNumeroPDV, \n                                                        char *pNumeroCupom, char *pRedePBM, \n                                                        char *pTrilha1, char *pTrilha2, char *pDigitado, \n                                                        char *pAutorizacao, char *pDadosCRM, \n                                                        char *pTipoVenda, char *pValorTotalMedicamentos, \n                                                        char *pValorVista, char *pValorCartao, \n                                                        char *pCodigoCredenciado, char *pQuantidadeMedicamentos, \n                                                        char *pMedicamentos, char *pReservado, \n                                                        char *pNumeroControle, char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoVendaPBM_TeleMarketing(char *pNumeroEmpresa, char *pMultiLoja, \n                                                      char *pNumeroLoja, char *pNumeroPDV, \n                                                      char *pValorTotalMedicamentos, char *pNumeroCupom, \n                                                      char *pRedePBM, char *pTrilha1, char *pTrilha2, \n                                                      char *pDigitado, char *pAutorizacao, char *pNSUConsulta, \n                                                      char *pDadosCRM, char *pTipoVenda, char *pValorVista, \n                                                      char *pValorCartao, char *pCodigoCredenciado, \n                                                      char *pRegraNegocio, char *pQuantidadeMedicamentos, \n                                                      char *pMedicamentos, char *pReservado, char *pNumeroControle, \n                                                      char *pNumeroControleRede, char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoCancelamentoVendaPBM_TeleMarketing(char *pNumeroEmpresa, char *pMultiLoja,\n                                                                  char *pNumeroLoja, char *pNumeroPDV, \n                                                                  char *pTrilha1, char *pTrilha2, \n                                                                  char *pDigitado, char *pReservado, \n                                                                  char *pNumeroControle, \n                                                                  char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoAberturaVendaPBM_TeleMarketing(char *pNumeroEmpresa, char *pMultiLoja, \n                                                              char *pNumeroLoja, char *pNumeroPDV, \n                                                              char *pRedePBM, char *pTrilha1, \n                                                              char *pTrilha2, char *pDigitado, \n                                                              char *pReservado, char *pPedirDadosComplementares, \n                                                              char *pDadosComplementares, \n                                                              char *pInfoDadosComplementares, \n                                                              char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoVendaProdutoPBM_TeleMarketing(char *pNumeroEmpresa, char *pMultiLoja,\n                                                             char *pNumeroLoja, char *pNumeroPDV, \n                                                             char *pRedePBM, char *pTrilha1, \n                                                             char *pTrilha2, char *pDigitado, \n                                                             char *pMedicamento, char *pReservado, \n                                                             char *pPedirDadosComplementares, \n                                                             char *pDadosComplementares, \n                                                             char *pInfoDadosComplementares, \n                                                             char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoFechamentoVendaPBM_TeleMarketing(char *pNumeroEmpresa, char *pMultiLoja, \n                                                                char *pNumeroLoja, char *pNumeroPDV, \n                                                                char *pRedePBM, char *pTrilha1, \n                                                                char *pTrilha2, char *pDigitado, \n                                                                char *pConfirmacao, char *pReservado, \n                                                                char *pAutorizacao, char *pNumeroControle, \n                                                                char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoElegibilidadePBM_TeleMarketing(char *pNumeroEmpresa, char *pMultiLoja, \n                                                              char *pNumeroLoja, char *pNumeroPDV, \n                                                              char *pNumeroCupom, char *pRedePBM, \n                                                              char *pMatricula, char *pDadosElegibilidade, \n                                                              char *pNumeroControle, char *pNumeroControleRede, \n                                                              char *pNomeCliente, char *pNomeMedico, \n                                                              char *pInformaDependente, char *pListaDependentes, \n                                                              char *pReservado, char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoPreAutorizacaoPBM_TeleMarketing(char *pNumeroEmpresa, char *pMultiLoja, \n                                                               char *pNumeroLoja, char *pNumeroPDV, \n                                                               char *pNumeroCupom, char *pRedePBM, \n                                                               char *pAutorizacaoElegibilidade, \n                                                               char *pDadosFarmaceutico, \n                                                               char *pQuantidadeMedicamentos, \n                                                               char *pMedicamentos, char *pNumeroControle, \n                                                               char *pNumeroControleRede, char *pReservado, \n                                                               char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoCancelamentoPreAutorizacaoPBM_TeleMarketing(char *pNumeroEmpresa, \n                                                                           char *pMultiLoja, \n                                                                           char *pNumeroLoja, \n                                                                           char *pNumeroPDV, \n                                                                           char *pMatricula, \n                                                                           char *pReservado, \n                                                                           char *pNumeroControle, \n                                                                           char *pMensagemOperador)\n</code></pre> <p>As transa\u00e7\u00f5es com a rede \"PBM Funcional\", onde retorna os par\u00e2metros da rede \"DadosRedes=[49000PBM Funcional SS ]\", significa que a mesma necessita do \"C\u00f3digo de Autoriza\u00e7\u00e3o\u201d\" e \"N\u00famero do Cart\u00e3o\", conforme estrutura retornado neste par\u00e2metro.</p> <p>Ainda sobre a rede \u201cPBM Funcional\u201d, referente ao \"N\u00famero do Cart\u00e3o\", o mesmo deve ser solicitado ao operador \"campo com 17 d\u00edgitos\", e enviado no par\u00e2metro \" pTrilha2 \" contendo somente os 17 d\u00edgitos coletados pelo operador.</p> <p>As solicita\u00e7\u00f5es de transa\u00e7\u00e3o de Consulta das Redes Parametrizadas, de Consulta de Produtos, Transa\u00e7\u00e3o de Venda PBM, Confirma\u00e7\u00e3o de Venda PBM, Reimpress\u00e3o de Venda PBM e Cancelamento de Venda PBM s\u00e3o realizadas atrav\u00e9s das chamadas \u00e0s fun\u00e7\u00f5es ConsultaParametrosPBM , ConsultaProdutosPBM , TransacaoVendaPBM , ConfirmaVendaPBM , TransacaoReimpressaoVendaPBM e TransacaoCancelamentoVendaPBM.</p> <p>O NumeroControle , inclu\u00eddo na resposta da fun\u00e7\u00e3o de consulta de produtos, dever\u00e1 ser armazenado pelo sistema de automa\u00e7\u00e3o, pois na fun\u00e7\u00e3o de venda este n\u00famero dever\u00e1 obrigatoriamente, ser utilizado, para informar o n\u00famero da consulta em que os produtos foram obtidos. No caso do NumeroControle obtido no retorno da fun\u00e7\u00e3o de venda, dever\u00e1 ser armazenado pelo sistema de automa\u00e7\u00e3o para efetivar a confirma\u00e7\u00e3o da venda.</p> <p>Ap\u00f3s a impress\u00e3o do comprovante pela automa\u00e7\u00e3o comercial, sendo esta com sucesso, deve-se realizar a confirma\u00e7\u00e3o da transa\u00e7\u00e3o atrav\u00e9s da fun\u00e7\u00e3o ConfirmaVendaPBM informando o n\u00famero do NSU da transa\u00e7\u00e3o que deseja confirmar. Em seguida, para encerrar a opera\u00e7\u00e3o deve ser chamada a fun\u00e7\u00e3o FinalizaTransacao (ver item 3.1.3.11).</p> <p>Atrav\u00e9s da fun\u00e7\u00e3o TransacaoReimpressaoVendaPBM poder\u00e1 ser reimpresso o comprovante da \u00faltima venda PBM emitida com sucesso. Caso a fun\u00e7\u00e3o seja executada com sucesso, o arquivo ULTIMOPBM.PRN ser\u00e1 disponibilizado no diret\u00f3rio parametrizado para os cupons.</p> <p>As fun\u00e7\u00f5es de Consulta de Par\u00e2metros e Consulta de Produtos devem ser acionadas antes de iniciar-se uma venda, pois ao efetuar a venda o operador dever\u00e1 optar por utilizar um produto da rede selecionada ou por um produto da pr\u00f3pria loja. Esta \u201csele\u00e7\u00e3o\u201d \u00e9 importante para determinar se o sistema de automa\u00e7\u00e3o comercial dever\u00e1 chamar a fun\u00e7\u00e3o de venda PBM ou n\u00e3o. No caso de efetuar uma venda PBM, todos os par\u00e2metros obtidos atrav\u00e9s da fun\u00e7\u00e3o de consulta PBM dever\u00e3o ser passados na fun\u00e7\u00e3o de venda, de acordo com a quantidade vendida. Estes dados dever\u00e3o estar coerentes com os dados da consulta, caso contr\u00e1rio, a venda corre o risco de n\u00e3o ser aprovada pela rede PBM selecionada.</p> <p>Atrav\u00e9s da fun\u00e7\u00e3o TransacaoCancelamentoVendaPBM pode-se efetuar o cancelamento de uma venda PBM. O NumeroControle da venda a ser cancelada deve ser informado. Al\u00e9m disso, se a rede PBM exigir, poder\u00e1 ser necess\u00e1rio a leitura do cart\u00e3o do benefici\u00e1rio para efetuar o cancelamento.</p> <p>Os campos est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o MultiLoja 01 P 01 Caracter [\u2018S\u2019,\u2019N\u2019] NumeroEmpresa 04 P 04 inteiros NumeroLoja 04 P 04 inteiros NumeroPDV 03 P 03 inteiros [001\u2026356] InfoDadosComplementares 64 A Informa\u00e7\u00e3o de coleta de campos opcionais da tela de abertura de venda PBM. Os par\u00e2metros dos 2 campos t\u00eam o seguinte formato:\u2022 TAAMMXX...XXTAAMMXX...XX\u2022 T : tipo do campo - N (num\u00e9rico), A (alfanum\u00e9rico) ou F (op\u00e7\u00e3o sim ou n\u00e3o - Y/N)\u2022 AA : tamanho m\u00ednimo do campo (1 at\u00e9 50)\u2022 MM : tamanho m\u00e1ximo do campo (1 at\u00e9 50)\u2022 X : nome do campo para apresenta\u00e7\u00e3o na tela (at\u00e9 20 bytes)Os dois campos s\u00e3o opcionais. Se nenhum campo estiver preenchido, n\u00e3o haver\u00e1 a coleta. Exemplo:\u2022 N0808CEP N1111CPF DO PORTADOR\u2022 Neste exemplo, haver\u00e1 a captura de 2 campos, sendo que o primeiro \u00e9 o CEP com 8 d\u00edgitos (N=num\u00e9rico) e o segundo o CPF com 11 d\u00edgitos. DadosComplementares 128A Dados complementares coletados conforme os campos da estrutura InfoDadosComplementares . No exemplo acima, os dados poderiam ficar:\u2022 08999999991199999999999, isto \u00e9, CEP 99999999 com 8 d\u00edgitos e CPF 99999999999 com 11 d\u00edgitos. PedirDadosComplementares 01 A Se a fun\u00e7\u00e3o retornar erro, analisar este campo para verificar se \u00e9 necess\u00e1rio coletar os dados complementares e chamar novamente a fun\u00e7\u00e3o.\u2022 [ S ] Coletar dados complementares\u2022 [ N ] N\u00e3o coletar dados complementares ValorTotalMedicamentos 12N Valor total dos medicamentos do cupom na venda ou valor total dos medicamentos retornados na consulta NumeroCupom 06N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) QuantidadeRedes 02N Quantidade de redes cadastradas DadosRedesFormato:Numero[05]Nome[20]ColetaCartao[01]ColetaAutorizacao[01]Filler[13] 560P Par\u00e2metro que retorna os dados das redes cadastradas. Os campos ColetaCartao e ColetaAutorizacao indicam qual informa\u00e7\u00e3o deve ser coletada pelo sistema de automa\u00e7\u00e3o comercial. Podem ser retornados at\u00e9 14 redes no formato especificado Especifica\u00e7\u00e3o de alguns campos :Campo ColetaCartao = \u2022 [ S ] Coletar cart\u00e3o\u2022 [ N ] N\u00e3o coletar cart\u00e3oCampo ColetaAutorizacao =\u2022 [ S ] Coletar n\u00famero de autoriza\u00e7\u00e3o\u2022 [ N ] N\u00e3o coletar n\u00famero de autoriza\u00e7\u00e3o RedePBM 05N C\u00f3digo da rede PBM selecionada Trilha1 76A Trilha1 do cart\u00e3o Trilha2 37A Trilha2 do cart\u00e3o Digitado 01N \u2022 [ 0 ] Indica que a trilha2 do cart\u00e3o foi obtido atrav\u00e9s de leitura em pinpad criptografado\u2022 [ 1 ] Indica que a trilha2 do cart\u00e3o foi digitado Autoriza\u00e7\u00e3o 12N N\u00famero da autoriza\u00e7\u00e3o coletado pelo sistema de automa\u00e7\u00e3o NSUConsulta 06N N\u00famero de controle obtido na consulta de produtos DadosCRMFormato:CRM[12]UF_CRM[02] 14P Dados de identifica\u00e7\u00e3o do CRM consultado DadosElegibilidadeFormato:CodigoOperadorVita[09]PlanoSaude[06]NumeroDependente[02]TipoProfissional[01]UF_CRM_CRO[02]NumeroCRM_CRO[09]DataReceita[06]DescontoEmFolha[01] 30P Deve ser coletado pelo sistema de automa\u00e7\u00e3o os dados da estrutura.Especifica\u00e7\u00e3o de alguns campos :\u2022 Campo CodigoOperadorVita =\u2022 Campo PlanoSaude = C\u00f3digo do plano de sa\u00fade\u2022 Campo TipoProfissional = [ 0 ] CRM [ 1 ] CRO\u2022 Campo DescontoEmFolha = [ S ] Sim [ N ] N\u00e3o NomeCliente 40P Retornado pela fun\u00e7\u00e3o TransacaoElegibilidadePBM NomeMedico 40P Retornado pela fun\u00e7\u00e3o TransacaoElegibilidadePBM InformaDependente 01P \u2022 [ S ]Sim [ N ]N\u00e3oImportante : se a fun\u00e7\u00e3o retornar status 11, verificar se foi retornado \u201cS\u201d neste par\u00e2metro. Neste caso, chamar a fun\u00e7\u00e3o novamente informando o n\u00famero do dependente na estrutura do par\u00e2metro DadosElegibilidade ListaDependentesFormato:N\u00famero do dependente[02]Nome do dependente[40] 504P Lista de at\u00e9 12 registros AutorizacaoElegibilidade 12P Deve ser informado a Autoriza\u00e7\u00e3o retornada na transa\u00e7\u00e3o de elegibilidade DadosFarmaceuticoFormato:UF_CRF[02]NumeroCRF[12] 14P TipoVenda 01N \u2022 [ 0 ]Vista [ 1 ] Cart\u00e3o ValorVista 12N Valor a pagar \u00e0 vista para consulta e valor pago \u00e0 vista para a fun\u00e7\u00e3o de venda ValorCart\u00e3o 12N Valor a pagar com cart\u00e3o para consulta e valor pago com cart\u00e3o para a fun\u00e7\u00e3o de venda CodigoCredenciado 15N C\u00f3digo do credenciado RegraNegocio 08N C\u00f3digo da regra de neg\u00f3cio (ePharma) QuantidadeMedicamentos 02N Quantidade de medicamentos retornados no campoMedicamentos para a fun\u00e7\u00e3o de consulta e quantidade de medicamentos vendidos para a fun\u00e7\u00e3o de venda MedicamentosFormato:DataReceita[08]IDCRM_CRO[01]CRM[12]UF_CRM[02]TipoMedicamento[02]C\u00f3digo[13]Descri\u00e7\u00e3o[15]CondicaoVenda[01]PrecoMaxConsumidor[08]PrecoFabricaUnitario[08]PrecoUnitarioVendaCons[08]PrecoAquisicaoUnitario[08]PrecoRepasseVarejo[08]MotivoRejeicao[02]QtdReceitada[04]QtdAutorizadaSolicitada[04]Referencia[02]IndicadorVenda[01]TipoEmbalagem[01]Desconto[05]Controle[10]Reembolso[08]Comiss\u00e3o[05]UsoContinuo[01]Filler[05] *P Dados dos medicamentos fornecidos para o sistema de automa\u00e7\u00e3o na fun\u00e7\u00e3o de consulta e dados dos medicamentos vendidos da rede selecionada para a fun\u00e7\u00e3o de venda. Podem ser retornados (pela fun\u00e7\u00e3o de consulta) ou informados (para a fun\u00e7\u00e3o de venda) at\u00e9 o n\u00famero de medicamentos informado no campo QuantidadeMedicamentos.\u2022 * o tamanho deste buffer deve ser calculado da seguinte forma: QuantidadeMedicamentos * 142\u2022 142 = tamanho da estrutura de dados para um medicamentoEspecifica\u00e7\u00e3o de alguns campos :\u2022 Campo IDCRM_CRO = [ 0 ] CRM [ 1 ] CRO\u2022 Campo TipoMedicamento =\u2022 [ 01 ] Medicamento\u2022 [ 02 ] Manipula\u00e7\u00e3o\u2022 [ 03 ] Manip. Especial\u2022 [ 04 ] Perfumaria\u2022 Campo CondicaoVenda =\u2022 [ 0 ] obrigat\u00f3rio utilizar pre\u00e7o f\u00e1brica\u2022 [ 1 ] permite vender com pre\u00e7o inferior\u2022 Campo IndicadorVenda =\u2022 [ 0 ] produto venda cart\u00e3o\u2022 [ 1 ] produto venda vista\u2022 Campo TipoEmbalagem = unit\u00e1rio ou parcial\u2022 Campo Controle = campo para uso restrito\u2022 Campo UsoContinuo = [ S , N ]Observa\u00e7\u00f5es :\u2022 [ 1 ] os campos Reembolso e Comiss\u00e3o foram inclu\u00eddos poiss\u00e3o retornados pela VidaLink\u2022 [ 2 ] o campo UsoContinuo \u00e9 utilizado pela PreSaude\u2022 [ 3 ] no campo QtdAutorizadaSolicitada deve ser informado a quantidade solicitada para a PrevSaude ou quantidadeautorizada para as demais PBMs. Reservado 128P Campo reservadoTransacaoAberturaVendaPBM_TeleMarketing : esta fun\u00e7\u00e3o retornar\u00e1 neste par\u00e2metro o n\u00famero da autoriza\u00e7\u00e3o para esta transa\u00e7\u00e3o. Tamanho de 12 bytes. Confirmacao 01A Indica se a transa\u00e7\u00e3o de venda de produtos PBM deve ser confirmada ou n\u00e3o.\u2022 [ S ] Confirmar a opera\u00e7\u00e3o\u2022 [ N ] N\u00e3o confirmar a opera\u00e7\u00e3o NumeroControle 06 N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroControleRede 12 N NSU da Rede Autorizadora (n\u00famero seq\u00fcencial \u00fanico retornado pela rede que aprovou a venda) MensagemOperador 64 P Mensagem retornada pelo Linx TEF indicando o motivo da recusa da transa\u00e7\u00e3o. Deve ser apresentada ao operador quando a transa\u00e7\u00e3o for rejeitada 02 I \u2022 [ 00 ] Transa\u00e7\u00e3o autorizada\u2022 [ 11 ] Transa\u00e7\u00e3o n\u00e3o efetuada <p>Obs.: todos campos que cont\u00e9m diversos par\u00e2metros devem ser passados conforme seus respectivos tamanhos. Os campos num\u00e9ricos devem vir com zeros \u00e0 esquerda (sem ponto ou v\u00edrgula), enquanto que os alfanum\u00e9ricos devem vir com espa\u00e7os \u00e0 direita.</p> <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> <p>[ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. Apresentar ao usu\u00e1rio o conte\u00fado do campo MotivoRejeicao (retornado pela operadora). No campo MensagemOperador cont\u00e9m a mensagem retornada pelo Linx TEF.</p> <p>Observa\u00e7\u00e3o : Para cada conjunto de chamadas as fun\u00e7\u00f5es de TeleMarketing ( ConsultaParametrosPBM_TeleMarketing , ConsultaProdutosPBM_TeleMarketing, TransacaoVendaPBM_TeleMarketing, TransacaoAberturaVendaPBM_Telemarketing, TransacaoVendaProdutoPBM_TeleMarketing, TransacaoFechamentoVendaPBM_TeleMarketing ) deve ser informado um n\u00famero de PDV diferente (obedecendo a faixa de PDVs definida na especifica\u00e7\u00e3o dos par\u00e2metros). Isto \u00e9 necess\u00e1rio para que o Linx TEF possa diferenciar as transa\u00e7\u00f5es que est\u00e3o ocorrendo simultaneamente. Um exemplo de ocorr\u00eancia desta situa\u00e7\u00e3o \u00e9 na utiliza\u00e7\u00e3o desta fun\u00e7\u00e3o atrav\u00e9s de um servidor Web, que pode ter v\u00e1rios usu\u00e1rios realizando acesso simult\u00e2neo.</p> <p>Observa\u00e7\u00e3o para transa\u00e7\u00f5es de pr\u00e9-venda SevenPDV : a autoriza\u00e7\u00e3o das redes tratadas pela PBM SevenPDV deve seguir o seguinte fluxo de chamadas de fun\u00e7\u00f5es:</p> <p>TransacaoAberturaVendaPBM_TeleMarketing : fun\u00e7\u00e3o para abrir a venda. Se no retorno a fun\u00e7\u00e3o indicar que devem ser pedidos dados complementares, dever\u00e1 ser analisado o campo de retorno pInfoDadosComplementares para buscar a defini\u00e7\u00e3o dos campos a serem coletados. A seguir, a fun\u00e7\u00e3o TransacaoAberturaVendaPBM_TeleMarketing dever\u00e1 ser chamada novamente com a informa\u00e7\u00e3o dos dados complementares. Caso a tela de coleta dos dados complementares do portador for exibida mas o operador n\u00e3o entrou com os dados, a palavra VAZIO dever\u00e1 ser informada no campo pDadosComplementares .</p> <p>TransacaoVendaProdutoPBM_TeleMarketing : transa\u00e7\u00e3o para incluir o produto na autoriza\u00e7\u00e3o que est\u00e1 sendo feita simultaneamente \u00e0 venda. Na estrutura do medicamento, dever\u00e3o ser informados os campos Codigo , PrecoMaxConsumidor , PrecoUnitarioVendaCons , QuantidadeAutorizada e TipoEmbalagem. Os campos retornados na estrutura de medicamento s\u00e3o retornados os campos QuantidadeAutorizada , PrecoMaxConsumidor , PrecoUnitarioVendaCons , PrecoRepasseVarejo , Desconto e MotivoRejeicao.</p> <p>TransacaoFechamentoVendaPBM_TeleMarketing : fun\u00e7\u00e3o para finalizar a venda PBM. Se a venda foi finalizada com sucesso, dever\u00e1 passar o par\u00e2metro pConfirma\u00e7ao com o valor \"S\". Neste caso, ao final da execu\u00e7\u00e3o da fun\u00e7\u00e3o ser\u00e1 disponibilizado o comprovante da opera\u00e7\u00e3o para ser impresso. Se a venda n\u00e3o deve ser finalizada, passar no par\u00e2metro o valor \"N\".</p> <p>Observa\u00e7\u00e3o : para transa\u00e7\u00f5es de telemarketing em ambientes com m\u00faltiplas threads simult\u00e2neas, dever\u00e1 ser utilizada a DLL DPOSDRVTM.DLL.</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#transacao-cheque","title":"Transa\u00e7\u00e3o Cheque","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoCheque(char *pValorTransacao, char *pNumeroCupom, char *pNumeroControle,\n                                      char *pQuantidadeCheques, char *pPeriodicidadeCheques, \n                                      char *pDataPrimeiroCheque, char *pCarenciaPrimeiroCheque)\n</code></pre> <p>A solicita\u00e7\u00e3o de transa\u00e7\u00e3o com cheque \u00e9 realizada atrav\u00e9s da chamada \u00e0 fun\u00e7\u00e3o TransacaoCheque , com a passagem dos seguintes par\u00e2metros opcionais:</p> <p>QuantidadeCheques</p> <p>PeriodicidadeCheques</p> <p>DataPrimeiroCheque</p> <p>CarenciaPrimeiroCheque</p> <p>Se for retornado um comprovante a ser impresso, a confirma\u00e7\u00e3o e a finaliza\u00e7\u00e3o da transa\u00e7\u00e3o ser\u00e3o necess\u00e1rias. Para saber se um comprovante foi retornado, ap\u00f3s a execu\u00e7\u00e3o com sucesso da fun\u00e7\u00e3o dever\u00e1 ser pesquisado no diret\u00f3rio de libera\u00e7\u00e3o de cupons o arquivo correspondente ao n\u00famero de controle retornado na fun\u00e7\u00e3o.</p> <p>Na resposta da chamada \u00e0 fun\u00e7\u00e3o ser\u00e1 devolvido o , indicando o resultado da transa\u00e7\u00e3o.</p> <p>Os campos est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o ValorTransacao 12N 10 inteiros, 2 decimais NumeroCupom 06N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) QuantidadeCheques 02N Quantidade de cheques da transa\u00e7\u00e3o PeriodicidadeCheques 03N Periodicidade, em dias, entre os cheques. [ 000 ] indica periodicidade vari\u00e1vel (livre) a ser coletada. DataPrimeiroCheque 08N Data do dep\u00f3sito do primeiro cheque, no formato &lt;ddmmaaaa&gt; CarenciaPrimeiroCheque 03N Car\u00eancia, em dias, para o dep\u00f3sito do primeiro cheque 02I [ 00 ] Transa\u00e7\u00e3o autorizada [ 11 ] Transa\u00e7\u00e3o n\u00e3o autorizada <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o e que os cheques envolvidos foram impressos com sucesso.</p> <p>[ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. O sistema de automa\u00e7\u00e3o deve retornar \u00e0 rotina de recebimento de valores, pois a transa\u00e7\u00e3o solicitada n\u00e3o foi autorizada, n\u00e3o sendo v\u00e1lida como forma de pagamento.</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#cheque-completa","title":"Cheque Completa","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoChequeCompleta(char *pValorTransacao, char *pNumeroCupomVenda, \n                                              char *pNumeroControle, char *pQuantidadeCheques, \n                                              char *pPeriodicidadeCheques, char *pDataPrimeiroCheque, \n                                              char *pCarenciaPrimeiroCheque, char *pTipoDocumento, \n                                              char *pNumeroDocumento, char *pQuantidadeCheques, \n                                              char *pSequenciaCheque, char *pCamaraCompensacao, \n                                              char *pNumeroBanco, char *pNumeroAgencia, \n                                              char *pNumeroContaCorrente, char *pNumeroCheque, \n                                              char *pDataDeposito, char *pValorCheque, \n                                              char *pDataNascimentoCliente, char *pTelefoneCliente, \n                                              char *pCMC7, char *pPermiteAlteracao, char *pReservado)\n</code></pre> <p>Quando a automa\u00e7\u00e3o comercial necessitar de detalhes mais precisos da transa\u00e7\u00e3o, de cheque, pode ser usada a solicita\u00e7\u00e3o de transa\u00e7\u00e3o com cheque completa, atrav\u00e9s da chamada \u00e0 fun\u00e7\u00e3o TransacaoChequeCompleta. Os par\u00e2metros opcionais dessa fun\u00e7\u00e3o s\u00e3o os seguintes:</p> <p>QuantidadeCheques</p> <p>PeriodicidadeCheques</p> <p>DataPrimeiroCheque</p> <p>CarenciaPrimeiroCheque</p> <p>TipoDocumento</p> <p>NumeroDocumento</p> <p>QuantidadeCheques</p> <p>SequenciaCheque</p> <p>CamaraCompensacao</p> <p>NumeroBanco</p> <p>NumeroAgencia</p> <p>NumeroContaCorrente</p> <p>NumeroCheque</p> <p>DataDeposito</p> <p>ValorCheque</p> <p>DataNascimentoCliente</p> <p>TelefoneCliente</p> <p>CMC7</p> <p>PermiteAlteracao</p> <p>Reservado</p> <p>Se for retornado um comprovante a ser impresso, a confirma\u00e7\u00e3o e a finaliza\u00e7\u00e3o da transa\u00e7\u00e3o ser\u00e3o necess\u00e1rias. Para saber se um comprovante foi retornado, ap\u00f3s a execu\u00e7\u00e3o com sucesso da fun\u00e7\u00e3o dever\u00e1 ser pesquisado no diret\u00f3rio de libera\u00e7\u00e3o de cupons o arquivo correspondente ao n\u00famero de controle retornado na fun\u00e7\u00e3o.</p> <p>Na resposta da chamada \u00e0 fun\u00e7\u00e3o ser\u00e1 devolvido o , indicando o resultado da transa\u00e7\u00e3o.</p> Campo Tamanho Descri\u00e7\u00e3o ValorTransacao 12N 10 inteiros, 2 decimais NumeroCupom 06N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) QuantidadeCheques 02N Quantidade de cheques da transa\u00e7\u00e3o PeriodicidadeCheques 03N Periodicidade, em dias, entre os cheques. O valor [ 000 ] indica periodicidade vari\u00e1vel (livre) a ser coletada. DataPrimeiroCheque 08N Data do dep\u00f3sito do primeiro cheque, no formato &lt;ddmmaaaa&gt; CarenciaPrimeiroCheque 03N Car\u00eancia, em dias, para o dep\u00f3sito do primeiro cheque TipoDocumento 01N \u2022 [ 1 ] CPF\u2022 [ 2 ] CNPJ NumeroDocumento 14N CPF ou CNPJ QuantidadeCheques 02N Quantidade de cheques da transa\u00e7\u00e3o ( obrigat\u00f3rio para consulta de m\u00faltiplos cheques ) SequenciaCheque 02N N\u00famero de seq\u00fc\u00eancia do cheque ( obrigat\u00f3rio para consulta de m\u00faltiplos cheques ) CamaraCompensacao 03N C\u00e2mara de compensa\u00e7\u00e3o NumeroBanco 03N N\u00famero do banco NumeroAgencia 04N N\u00famero da agencia NumeroContaCorrente 10N N\u00famero da conta-corrente NumeroCheque 07N N\u00famero do cheque com D\u00edgito verificador DataDeposito 08N &lt;ddmmaaaa&gt; ValorCheque 12N 10 inteiros, 2 decimais DataNascimentoCliente 08N &lt;ddmmaaaa&gt; TelefoneCliente 12A Telefone somente com caracteres num\u00e9ricos CMC7 50A Conte\u00fado da trilha CMC-7 PermiteAlteracao 01A [ S ] Permite alterar valores informados (exceto ValorTransacao) [ N ] N\u00e3o Permite alterar valores informados Reservado 51A [ Especifica\u00e7\u00e3o ] [ 01..01 ] Reservado [ 02..13 ] Valor m\u00e1ximo permitido para a transa\u00e7\u00e3o [ 14..14 ] [ S ] Consultar Cheque [ N ] N\u00e3o consultar [ 15..15 ] D\u00edgito C1 do cheque coletado [ 16..16 ] D\u00edgito C2 do cheque coletado [ 17..17 ] D\u00edgito C3 do cheque coletado [ 18..23 ] Cliente Desde, no formato 02I \u2022 [ 00 ] Transa\u00e7\u00e3o autorizada\u2022 [ 11 ] Transa\u00e7\u00e3o n\u00e3o autorizada <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o e que os cheques envolvidos foram impressos com sucesso.</p> <p>[ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. O sistema de automa\u00e7\u00e3o deve retornar \u00e0 rotina de recebimento de valores, pois a transa\u00e7\u00e3o solicitada n\u00e3o foi autorizada, n\u00e3o sendo v\u00e1lida como forma de pagamento.</p> <p>Habilitando a Consulta de M\u00faltiplos Cheques</p> <p>Para realizar a consulta de m\u00faltiplos cheques em uma mesma transa\u00e7\u00e3o com a rede verificadora, \u00e9 necess\u00e1rio que o Paykit esteja parametrizado para efetuar tal procedimento. Esta parametriza\u00e7\u00e3o deve ser realizada no Linx TEF e \u00e9 armazenado no arquivo CHEQUE.TEF. Este arquivo dever\u00e1 ser copiado para o diret\u00f3rio do Paykit. Al\u00e9m disso, s\u00f3 \u00e9 permitido a consulta de m\u00faltiplos cheques para cheques da mesma conta. Se for realizado recebimentos de cheque de contas diferentes, ser\u00e1 enviado para a rede uma transa\u00e7\u00e3o de consulta para cada cheque, independente da parametriza\u00e7\u00e3o definida.</p> <p>Este tipo de consulta \u00e9 v\u00e1lido somente quando o automa\u00e7\u00e3o comercial realiza a consulta atrav\u00e9s da chamada da fun\u00e7\u00e3o TransacaoChequeCompleta informando os campos referentes \u00e0 seq\u00fc\u00eancia e a quantidade de cheques. A consulta do(s) cheque(s) ser\u00e1 enviada ao Linx TEF ap\u00f3s a coleta do \u00faltimo cheque (campo pSequenciaCheque igual ao campo pQuantidadeCheques ). Para isto, o automa\u00e7\u00e3o comercial dever\u00e1 realizar uma chamada da fun\u00e7\u00e3o TransacaoChequeCompleta para cada cheque a ser processado, acumulando o campo pSequenciaCheque at\u00e9 atingir a quantidade de cheques informado (campo pQuantidadeCheques ).</p> <p>Observa\u00e7\u00e3o : a consulta de m\u00faltiplos cheques est\u00e1 limitado em 24 cheques na mesma transa\u00e7\u00e3o de consulta com a rede.</p> <p>Importante : esta funcionalidade depende da institui\u00e7\u00e3o verificadora cadastrada. Nem todas possuem este recurso. Portanto, deve-se consultar a rede se h\u00e1 disponibilidade deste servi\u00e7o.</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#consultando-cheques-garantidos","title":"Consultando Cheques Garantidos","text":"<pre><code>int DIRETIVA_CALLBACK ConsultaChequesGarantidos(char *pTipoDocumento, char *pNumeroDocumento, \n                                                char *pDataInicialConsulta, char *pDataFinalConsulta, \n                                                char *pNumeroControle)\n</code></pre> <p>Para realizar a consulta dos cheques que foram garantidos pela rede autorizadora, deve-se realizar chamada \u00e0 fun\u00e7\u00e3o ConsultaChequesGarantidos . Esta fun\u00e7\u00e3o s\u00f3 est\u00e1 dispon\u00edvel caso a garantia de cheques esteja habilitada. Esta parametriza\u00e7\u00e3o deve ser realizada no Linx TEF e \u00e9 armazenado no arquivo CHEQUE.TEF. Este arquivo dever\u00e1 ser copiado para o diret\u00f3rio do Paykit. A seguir, est\u00e3o detalhados os par\u00e2metros utilizados na chamada da fun\u00e7\u00e3o.</p> Campo Tamanho Descri\u00e7\u00e3o TipoDocumento 01N \u2022 [ 1 ] CPF\u2022 [ 2 ] CNPJ NumeroDocumento 14N CPF ou CNPJ NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) DataInicialConsulta 08N DDMMAAAA DataFinalConsulta 08N DDMMAAAA 02I \u2022 [ 00 ] Transa\u00e7\u00e3o autorizada\u2022 [ 11 ] Transa\u00e7\u00e3o n\u00e3o autorizada <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> <p>[ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#especificacao-solicita-funcoes","title":"Especifica\u00e7\u00e3o Solicita Fun\u00e7\u00f5es","text":"<p>Os campos est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o ValorTransacao 12N 10 inteiros, 2 decimais NumeroCupom 06N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) TipoCartao 01N Indica o tipo de cart\u00e3o que deseja consultar o saldo [ 1 ] Cr\u00e9dito [ 2 ] D\u00e9bito [ 3 ] Private [ 4 ] CPF (1) [ 5 ] CNPJ (\u00b9) TipoTransacao 01N \u2022 [ 0 ] Consulta Saque [ 1 ] Saque TipoOperacao 01N \u2022 [ 1 ] Nacional [ 2 ] Internacional DocEmissor 11A N\u00famero do Documento do Destinat\u00e1rio (CPF ou passaporte) DocDestinatario 11A N\u00famero do Documento do Destinat\u00e1rio (CPF ou passaporte) CodigoPIN 11A N\u00famero do Documento recebido via SMS PlanoPagamento 03N C\u00f3digo do plano de pagamento NumeroParcelas 02N N\u00famero de parcelas PermiteAlteracao 01A [ S ] Permite alterar valores informados (exceto ValorTransacao) [ N ] N\u00e3o permite alterar valores informados Reservado 158A [ Especifica\u00e7\u00e3o \u2013 TransacaoCancelamentoPagamento ]\u2022 [ 1..1 ] Valor\u2022 - [ 0 ] indica cancelamento de pagamento feito com Cart\u00e3o;\u2022 - [ 1 ] indica cancelamento de pagamento feito com Crach\u00e1;\u2022 - [ 2 ] indica cancelamento de pagamento d\u00e9bito Wappa;\u2022 - [ 3 ] indica cancelamento de pagamento feito com cart\u00e3o Qualidade\u2022 - [ 4 ] indica cancelamento de pagamento feito com cart\u00e3o MettaCard\u2022 - [ 5 ] indica cancelamento de pagamento feito com cart\u00e3o Ecopag\u2022 - [ Q ] indica cancelamento de pagamento feito com QR Code\u2022 [ 2..9 ] Data da transa\u00e7\u00e3o a ser cancelada, no formato AAAAMMDD\u2022 [ Especifica\u00e7\u00e3o do Retorno ]\u2022 C\u00f3digo poss\u00edveis :\u2022 [ 01 ] Dados Venda Crach\u00e1\u2022 [ Especifica\u00e7\u00e3o dos Dados Venda Crach\u00e1 ]\u2022 [ 01..09 ] CodigoAutorizacao\u2022 [ 10..59 ] NomeFuncionario\u2022 [ 60..71 ] ValorDesconto\u2022 [ 72..76 ] PercentualDesconto[Especifica\u00e7\u00e3o dos Dados \u2013 Opera\u00e7\u00e3o Saque]\u2022 [ 01 ] N\u00famero da Rede Autorizadora[ Especifica\u00e7\u00e3o dos Dados \u2013 Opera\u00e7\u00e3o Consulta Saldo ][ 01..01 ]Indicador de consulta com crach\u00e1\u2022 - [0] para consulta norma\u2022 - [1] para consulta com crach\u00e1\u2022 [ 02..15 ] CPF ou CNPJ do cliente (espa\u00e7os a direita se CPF) 02I \u2022 [ 00 ] Transa\u00e7\u00e3o autorizada\u2022 [ 11 ] Transa\u00e7\u00e3o n\u00e3o efetuada Planos 1..999A [ Especifica\u00e7\u00e3o dos Dados \u2013 Consulta Planos ]\u2022 [ 01..008 ] Data Nascimento Portador do Cart\u00e3o(DDMMAAAA)\u2022 [ 09..058 ] NomePortador do Cart\u00e3o\u2022 [ 59..059 ] Fixo P-indicador de Consulta de Planos\u2022 [ 60..999 ] Planos (para cada c\u00f3digo de processamento o bloco abaixo se repetira)\u2022 [ N06 ] CodigoProcessamento\u2022 [ N05 ] DataPrimeiraParcela(AADDD ** )\u2022 [ N01 ] FlagJuros\u2022 [ N01 ] FlagPulaCicloOs campos descritos abaixo podem repetir para demonstrar a quantidade de parcelas do tipo de plano:\u2022 [ N02 ] NumeroDaParcela\u2022 [ N08 ] ValorPrimeiraParcela\u2022 [ N08 ] ValorDemaisParcelas\u2022 [ N05 ] TaxaJuros\u2022 [ N05 ] CETAnual\u2022 [ N01 ] \u201c;\u201d(FinalizadorDeCodigoProcessamento) <p>** quantidade de dias do ano informado at\u00e9 a data atual</p> <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> <p>[ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#funcoes-para-vale-gas","title":"Fun\u00e7\u00f5es para Vale G\u00e1s","text":"<p>As seguintes fun\u00e7\u00f5es foram desenvolvidas para realizar o processamento do Vale G\u00e1s.</p> <p>Os campos das fun\u00e7\u00f5es est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o ValorTransacao 12N 10 inteiros, 2 decimais NumeroCupom 06N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroValeGas 15N 15 inteiros MensagemOperador 64P Mensagem de retorno do Linx TEF"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#transacao-vale-gas","title":"Transa\u00e7\u00e3o Vale G\u00e1s","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoeValeGas(char *pValorTransacao, char *pNumeroCupom,\n    char *pNumeroControle, char *pNumeroValeGas)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#consulta-tabelas-vale-gas","title":"Consulta Tabelas Vale G\u00e1s","text":"<pre><code>int DIRETIVA_CALLBACK ConsultaTabelasValeGas(char *pNumeroControle, char *pMensagemOperador)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#cancelamento-padrao","title":"Cancelamento Padr\u00e3o","text":"<pre><code>int DIRETIVA_CALLBACK CancelamentoPadrao(char *pNumeroControle)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/PagamentoDeContasCielo/","title":"Pagamento de Contas (CIELO)","text":""},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/PagamentoDeContasCielo/#pagamento-contas-cielo","title":"Pagamento Contas Cielo","text":"<p>A fun\u00e7\u00e3o atualmente disponibilizada \u00e9:</p> <pre><code>int DIRETIVA_CALLBACK TransacaoPagamentoContasVisanet(char *pTipoConta, char *pCodigoBarras, \n    char *pFormaPagamento, char *pTrilhaCartao, char *pValorTransacao, char *pNumeroCupom, \n    char *pNumeroControle)\n</code></pre> <p>Atrav\u00e9s da fun\u00e7\u00e3o TransacaoPagamentoContasVisanet \u00e9 poss\u00edvel realizar o pagamento de contas desde que esta seja autorizada pela Cielo (a rede Cielo antigamente era chamada Visanet). Caso a transa\u00e7\u00e3o seja autorizada, ser\u00e1 disponibilizado no diret\u00f3rio parametrizado para os cupons um arquivo contendo as informa\u00e7\u00f5es. O automa\u00e7\u00e3o comercial dever\u00e1 imprimir o comprovante presente no arquivo.</p> <p>O nome desse arquivo tem o formato NNNNNN.PPP, onde NNNNNN \u00e9 o NumeroControle e PPP \u00e9 o n\u00famero do terminal configurado.</p> <p>Na resposta da chamada \u00e0 fun\u00e7\u00e3o ser\u00e3o preenchidos os campos TipoConta , CodigoBarras , FormaPagamento , TrilhaCartao , NumeroControle , e ser\u00e1 devolvido o , indicando o resultado da transa\u00e7\u00e3o.</p> <p>Os campos das fun\u00e7\u00f5es est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o TipoConta 01N Tipo do documento pago\u2022 [ 0 ] T\u00edtulo lido\u2022 [ 1 ] T\u00edtulo digitado\u2022 [ 2 ] Conv\u00eanio lido\u2022 [ 3 ] Conv\u00eanio digitado CodigoBarras 44N C\u00f3digo de barras ou linha digit\u00e1vel do documento FormaPagamento 02N Forma de pagamento utilizada\u2022 [ 03 ] Cart\u00e3o de d\u00e9bito TrilhaCartao 37A ValorTransacao 12N 10 inteiros, 2 decimais NumeroCupom 06N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico)"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/RecargaDeCelular/","title":"Recarga de Celular","text":""},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/RecargaDeCelular/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>Estas fun\u00e7\u00f5es foram desenvolvidas para permitir a realiza\u00e7\u00e3o de recarga de celular pr\u00e9-pago.</p> <p>Atrav\u00e9s da fun\u00e7\u00e3o ConsultaValoresPrePago \u00e9 poss\u00edvel saber as operadoras de cart\u00e3o conveniadas e seus respectivos planos de recarga. Caso a transa\u00e7\u00e3o seja autorizada, ser\u00e1 disponibilizado no diret\u00f3rio parametrizado para os cupons um arquivo contendo as informa\u00e7\u00f5es. O automa\u00e7\u00e3o comercial poder\u00e1 imprimir e/ou apresentar na tela as informa\u00e7\u00f5es contidas no arquivo. Esta fun\u00e7\u00e3o n\u00e3o exige confirma\u00e7\u00e3o.</p> <p>A transa\u00e7\u00e3o de recarga TransacaoRecargaCelular permite a execu\u00e7\u00e3o da recarga propriamente dita. Nesta deve ser selecionado a operadora e o plano desejados. Ao contr\u00e1rio da fun\u00e7\u00e3o de consulta, nesta transa\u00e7\u00e3o o comprovante de recarga deve ser impresso e a confirma\u00e7\u00e3o dever\u00e1 ser realizada com o NumeroControle retornado pela transa\u00e7\u00e3o. Neste caso, deve-se chamar as fun\u00e7\u00f5es ConfirmaCartaoCredito e FinalizaTransacao.</p> <p>Os campos das fun\u00e7\u00f5es est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o CodigoArea 02N 02 inteiros NumeroTelefone 08N 08 inteiros NumeroControle 06P 06 inteiros MensagemOperador 64P Mensagem de retorno do Linx TEF"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/RecargaDeCelular/#consulta-valores-prepago","title":"Consulta Valores PrePago","text":"<pre><code>int DIRETIVA_CALLBACK ConsultaValoresPrePago(char *pNumeroControle, char *pMensagemOperador)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/RecargaDeCelular/#recarga-celular","title":"Recarga Celular","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoRecargaCelular(char *pCodigoArea, char *pNumeroTelefone, char *pNumeroControle)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/TransacoesEspecificas/","title":"Transa\u00e7\u00f5es Espec\u00edficas (Redecard/Cielo/Banrisul/GetNet)","text":""},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/TransacoesEspecificas/#funcoes-especificas-especificacao-redecardcielobanrisulgetnet","title":"Fun\u00e7\u00f5es Espec\u00edficas (Espec\u00edfica\u00e7\u00e3o Redecard/Cielo/Banrisul/GetNet)","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoCartaoCreditoIATA(char *pValorTransacao, char *pNumeroCupom, \n                                                 char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoCartaoPrivateLabel(char *pValorTransacao, char *pNumeroCupom, \n                                                  char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoSaqueRedecard(char *pValorTransacao, char *pNumeroCupom, \n                                             char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK EstornoPreAutorizacaoRedecard(char *pValorTransacao, char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoSimulacaoPrivateLabel(char *pValorTransacao, char *pNumeroCupom, \n                                                     char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoPagamentoPrivateLabel(char *pValorTransacao, char *pNumeroCupom, \n                                                     char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoCartaoCompraSaqueCompleta(char *pValorCompra, char *pValorSaque, \n                                                         char *pNumeroCupom, char *pNumeroControle, \n                                                         char *pPermiteAlteracao)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoCDC1MIN(char *pValorTransacao, char *pNumeroCupom, \n                                       char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoSIMparcelado(char *pValorTransacao, char *pNumeroCupom, \n                                            char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK IdentificacaoAutomacaoComercial(char *pNomeAutomacao, char *pVersaoAutomacao, \n                                                      char *pReservado)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoInjecaoChaves(char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoAcrescimoPreAutorizacao(char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoConsultaPreAutorizacao(char *pNumeroControle)\n</code></pre> <p>As solicita\u00e7\u00f5es de transa\u00e7\u00e3o de Estorno de Pr\u00e9-Autoriza\u00e7\u00e3o de pagamento com Cart\u00e3o de Cr\u00e9dito, de Saque, de Pagamento com Cart\u00e3o de Cr\u00e9dito IATA e Cart\u00e3o Private Label s\u00e3o realizadas atrav\u00e9s das chamadas \u00e0s fun\u00e7\u00f5es EstornoPreAutorizacaoRedecard , TransacaoSaqueRedecard , TransacaoCartaoCreditoIATA, TransacaoCartaoPrivateLabel , TransacaoCartaoCompraSaque, TransacaoCDC1MIN e TransacaoSIMparcelado.</p> <p>O NumeroControle , inclu\u00eddo na resposta, dever\u00e1 ser armazenado pelo sistema de automa\u00e7\u00e3o, pois na fun\u00e7\u00e3o de confirma\u00e7\u00e3o este n\u00famero ser\u00e1, obrigatoriamente, utilizado, tanto nas fun\u00e7\u00f5es de pagamento como na de Saque e Estorno.</p> <p>As fun\u00e7\u00f5es de Estorno e Saque devem ser disponibilizadas via \"menu\", ou seja, o PDV n\u00e3o pode estar efetuando uma venda (assim como as fun\u00e7\u00f5es de cancelamento de pagamento e reimpress\u00e3o). J\u00e1 as fun\u00e7\u00f5es de pagamento (Cart\u00e3o Cr\u00e9dito IATA e Private Label) devem estar disponibilizadas como formas de pagamento do PDV.</p> <p>As fun\u00e7\u00f5es TransacaoCDC1MIN e TransacaoSIMparcelado s\u00e3o espec\u00edficas da rede Banrisul.</p> <p>O PDV dever\u00e1 realizar, respectivamente, chamada \u00e0s fun\u00e7\u00f5es IdentificacaoAutomacaoComercial e TransacaoEstatistica toda a vez que for inicializado.</p> <p>A fun\u00e7\u00e3o TransacaoPagamentoPrivateLabel \u00e9 a transa\u00e7\u00e3o dispon\u00edvel para efetuar o pagamento de fatura de cart\u00f5es private.</p> <p>A fun\u00e7\u00e3o de Inje\u00e7\u00e3o de Chaves poder ser chamada ou executada automaticamente (no caso de executar uma transa\u00e7\u00e3o com a Redecard e existir chave DUKPT na tabela de criptografia da Redecard e o pinpad n\u00e3o possuir esta chave carregada).</p> <p>A fun\u00e7\u00e3o TransacaoAcrescimoPreAutorizacao realiza acr\u00e9scimo de valor na Pr\u00e9-Autoriza\u00e7\u00e3o (ou seja, altera\u00e7\u00e3o de valor em uma pr\u00e9-autoriza\u00e7\u00e3o existente, na qual se deseja aumentar seu valor) pode ser executada com a fun\u00e7\u00e3o TransacaoAcrescimoPreAutorizacao.</p> <p>Uma consulta de Pr\u00e9-Autoriza\u00e7\u00f5es pode ser executada com a fun\u00e7\u00e3o TransacaoConsultaPreAutorizacao.</p> <p>A defini\u00e7\u00e3o das campos das fun\u00e7\u00f5es est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o ValorTransacao 12N \u2022 10 inteiros, 2 decimais NumeroCupom 06N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) NomeAutomacao 20A Identifica\u00e7\u00e3o da automa\u00e7\u00e3o comercial VersaoAutomacao 20A Vers\u00e3o da automa\u00e7\u00e3o comercial Reservado 256A Capacidades da automa\u00e7\u00e3o comercial:\u2022 [1..1] Tratamento plataforma promocional Cielo\u2022 [0]: automa\u00e7\u00e3o n\u00e3o est\u00e1 preparada para tratar a plataforma promocional Cielo\u2022 [1]: automa\u00e7\u00e3o est\u00e1 preparada para tratar plataforma promocional Cielo\u2022 [2..2] Tratamento QR Code\u2022 [0]: automa\u00e7\u00e3o n\u00e3o est\u00e1 preparada para transa\u00e7\u00e3o de QR Code\u2022 [1]: automa\u00e7\u00e3o est\u00e1 preparada para transa\u00e7\u00e3o QR Code\u2022 [3..3] Tratamento QR Code no cancelamento\u2022 [0]: automa\u00e7\u00e3o n\u00e3o est\u00e1 informando se o cancelamento pode ser com QR Code\u2022 [1]: automa\u00e7\u00e3o est\u00e1 indicando que o cancelamento \u00e9 de QR Code 02I [ 00 ] Transa\u00e7\u00e3oautorizada[ 11 ] Transa\u00e7\u00e3o n\u00e3o efetuada <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> <p>[ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. O sistema de automa\u00e7\u00e3o deve retornar \u00e0 rotina de recebimento de valores, pois a transa\u00e7\u00e3o solicitada n\u00e3o foi autorizada, n\u00e3o sendo v\u00e1lida como forma de pagamento.</p> <p>Quanto \u00e0 estrutura dos logs de retorno, cada transa\u00e7\u00e3o possui estrutura diferente:</p> <p>EstornoPreAutorizacaoRedecard : id\u00eantica ao layout de cancelamento de pagamento.</p> <p>TransacaoSaqueRedecard : n\u00e3o gera log de transa\u00e7\u00e3o.</p> <p>TransacaoCartaoCreditoIATA : id\u00eantica ao layout de pagamento com cart\u00e3o de cr\u00e9dito.</p> <p>TransacaoCartaoPrivateLabel : layout do log do Cart\u00e3o Private Label.</p> <p>TransacaoCartaoCompraSaque : n\u00e3o gera log de transa\u00e7\u00e3o.</p> <p>TransacaoCartaoCompraSaqueCompleta : n\u00e3o gera log de transa\u00e7\u00e3o.</p> <p>Fun\u00e7\u00f5es de Venda PBM ( Pharmacy Benefit Management )</p> <pre><code>int DIRETIVA_CALLBACK ConsultaParametrosPBM(char *pNumeroCupom, char *pQuantidadeRedes,\n                                            char *pDadosRedes, char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK ConsultaProdutosPBM(char *pNumeroCupom, char *pRedePBM, char *pTrilha1,\n                                          char *pTrilha2, char *pDigitado, char *pAutorizacao,\n                                          char *pDadosCRM, char *pTipoVenda, char *pValorTotalMedicamentos,\n                                          char *pValorVista, char *pValorCartao, char *pCodigoCredenciado,\n                                          char *pQuantidadeMedicamentos, char *pMedicamentos, \n                                          char *pReservado, char *pNumeroControle, char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoVendaPBM(char *pValorTotalMedicamentos, char *pNumeroCupom, char *pRedePBM, \n                                        char *pTrilha1, char *pTrilha2, char *pDigitado, char *pAutorizacao, \n                                        char *pNSUConsulta, char *pDadosCRM, char *pTipoVenda,\n                                        char *pValorVista, char *pValorCartao, char *pCodigoCredenciado,\n                                        char *pRegraNegocio, char *pQuantidadeMedicamentos, char *pMedicamentos,\n                                        char *pReservado, char *pNumeroControle, char *pNumeroControleRede, \n                                        char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK ConfirmaVendaPBM(char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoReimpressaoVendaPBM()\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoCancelamentoVendaPBM(char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoElegibilidadePBM(char *pNumeroCupom, char *pRedePBM, char *pMatricula,\n                                                char *pDadosElegibilidade, char *pNumeroControle, \n                                                char *pNumeroControleRede, char *pNomeCliente,\n                                                char *pNomeMedico, char *pInformaDependente, \n                                                char *pListaDependentes, char *pReservado, \n                                                char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoPreAutorizacaoPBM(char *pNumeroCupom, char *pRedePBM, \n                                                 char *pAutorizacaoElegibilidade, char *pDadosFarmaceutico,\n                                                 char *pQuantidadeMedicamentos, char *pMedicamentos, \n                                                 char *pNumeroControle, char *pNumeroControleRede, \n                                                 char *pReservado, char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoCancelamentoPreAutorizacaoPBM(char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK ConsultaParametrosPBM_TeleMarketing(char *pNumeroEmpresa, char *pMultiLoja,\n                                                          char *pNumeroLoja, char *pNumeroPDV,\n                                                          char *pNumeroCupom, char *pQuantidadeRedes, \n                                                          char *pDadosRedes, char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK ConsultaProdutosPBM_TeleMarketing(char *pNumeroEmpresa, char *pMultiLoja, \n                                                        char *pNumeroLoja, char *pNumeroPDV, \n                                                        char *pNumeroCupom, char *pRedePBM, \n                                                        char *pTrilha1, char *pTrilha2, \n                                                        char *pDigitado, char *pAutorizacao,\n                                                        char *pDadosCRM, char *pTipoVenda, \n                                                        char *pValorTotalMedicamentos, char *pValorVista, \n                                                        char *pValorCartao, char *pCodigoCredenciado,\n                                                        char *pQuantidadeMedicamentos, char *pMedicamentos,\n                                                        char *pReservado, char *pNumeroControle, \n                                                        char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoVendaPBM_TeleMarketing(char *pNumeroEmpresa, char *pMultiLoja, \n                                                      char *pNumeroLoja, char *pNumeroPDV, \n                                                      char *pValorTotalMedicamentos, char *pNumeroCupom, \n                                                      char *pRedePBM, char *pTrilha1, char *pTrilha2,\n                                                      char *pDigitado, char *pAutorizacao, char *pNSUConsulta,\n                                                      char *pDadosCRM, char *pTipoVenda, char *pValorVista, \n                                                      char *pValorCartao, char *pCodigoCredenciado,\n                                                      char *pRegraNegocio, char *pQuantidadeMedicamentos, \n                                                      char *pMedicamentos, char *pReservado, char *pNumeroControle, \n                                                      char *pNumeroControleRede, char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoCancelamentoVendaPBM_TeleMarketing(char *pNumeroEmpresa, char *pMultiLoja,\n                                                                  char *pNumeroLoja, char *pNumeroPDV, \n                                                                  char *pTrilha1, char *pTrilha2, \n                                                                  char *pDigitado, char *pReservado, \n                                                                  char *pNumeroControle, char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoAberturaVendaPBM_TeleMarketing(char *pNumeroEmpresa, char *pMultiLoja,\n                                                              char *pNumeroLoja, char *pNumeroPDV, \n                                                              char *pRedePBM, char *pTrilha1, \n                                                              char *pTrilha2, char *pDigitado, \n                                                              char *pReservado, char *pPedirDadosComplementares, \n                                                              char *pDadosComplementares, char *pInfoDadosComplementares, \n                                                              char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoVendaProdutoPBM_TeleMarketing(char *pNumeroEmpresa, char *pMultiLoja,\n                                                             char *pNumeroLoja, char *pNumeroPDV, \n                                                             char *pRedePBM, char *pTrilha1, \n                                                             char *pTrilha2, char *pDigitado, \n                                                             char *pMedicamento, char *pReservado, \n                                                             char *pPedirDadosComplementares, \n                                                             char *pDadosComplementares, \n                                                             char *pInfoDadosComplementares, \n                                                             char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoFechamentoVendaPBM_TeleMarketing(char *pNumeroEmpresa, char *pMultiLoja,\n                                                                char *pNumeroLoja, char *pNumeroPDV, \n                                                                char *pRedePBM, char *pTrilha1, \n                                                                char *pTrilha2, char *pDigitado, \n                                                                char *pConfirmacao, char *pReservado,\n                                                                char *pAutorizacao, char *pNumeroControle, \n                                                                char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoElegibilidadePBM_TeleMarketing(char *pNumeroEmpresa, char *pMultiLoja,\n                                                              char *pNumeroLoja, char *pNumeroPDV,\n                                                              char *pNumeroCupom, char *pRedePBM, \n                                                              char *pMatricula, char *pDadosElegibilidade, \n                                                              char *pNumeroControle, char *pNumeroControleRede, \n                                                              char *pNomeCliente, char *pNomeMedico, \n                                                              char *pInformaDependente, char *pListaDependentes, \n                                                              char *pReservado, char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoPreAutorizacaoPBM_TeleMarketing(char *pNumeroEmpresa, char *pMultiLoja,\n                                                               char *pNumeroLoja, char *pNumeroPDV, \n                                                               char *pNumeroCupom, char *pRedePBM, \n                                                               char *pAutorizacaoElegibilidade, \n                                                               char *pDadosFarmaceutico, \n                                                               char *pQuantidadeMedicamentos, \n                                                               char *pMedicamentos, char *pNumeroControle, \n                                                               char *pNumeroControleRede, char *pReservado, \n                                                               char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoCancelamentoPreAutorizacaoPBM_TeleMarketing(char *pNumeroEmpresa,\n                                                                           char *pMultiLoja, \n                                                                           char *pNumeroLoja, \n                                                                           char *pNumeroPDV, \n                                                                           char *pMatricula, \n                                                                           char *pReservado, \n                                                                           char *pNumeroControle,\n                                                                           char *pMensagemOperador)\n</code></pre> <p>As transa\u00e7\u00f5es com a rede \"PBM Funcional\", onde retorna os par\u00e2metros da rede \"DadosRedes=[49000PBM Funcional SS ]\", significa que a mesma necessita do \"C\u00f3digo de Autoriza\u00e7\u00e3o\u201d\" e \"N\u00famero do Cart\u00e3o\", conforme estrutura retornado neste par\u00e2metro.</p> <p>Ainda sobre a rede \u201cPBM Funcional\u201d, referente ao \"N\u00famero do Cart\u00e3o\", o mesmo deve ser solicitado ao operador \"campo com 17 d\u00edgitos\", e enviado no par\u00e2metro \" pTrilha2 \" contendo somente os 17 d\u00edgitos coletados pelo operador.</p> <p>As solicita\u00e7\u00f5es de transa\u00e7\u00e3o de Consulta das Redes Parametrizadas, de Consulta de Produtos, Transa\u00e7\u00e3o de Venda PBM, Confirma\u00e7\u00e3o de Venda PBM, Reimpress\u00e3o de Venda PBM e Cancelamento de Venda PBM s\u00e3o realizadas atrav\u00e9s das chamadas \u00e0s fun\u00e7\u00f5es ConsultaParametrosPBM , ConsultaProdutosPBM , TransacaoVendaPBM , ConfirmaVendaPBM , TransacaoReimpressaoVendaPBM e TransacaoCancelamentoVendaPBM.</p> <p>O NumeroControle , inclu\u00eddo na resposta da fun\u00e7\u00e3o de consulta de produtos, dever\u00e1 ser armazenado pelo sistema de automa\u00e7\u00e3o, pois na fun\u00e7\u00e3o de venda este n\u00famero dever\u00e1 obrigatoriamente, ser utilizado, para informar o n\u00famero da consulta em que os produtos foram obtidos. No caso do NumeroControle obtido no retorno da fun\u00e7\u00e3o de venda, dever\u00e1 ser armazenado pelo sistema de automa\u00e7\u00e3o para efetivar a confirma\u00e7\u00e3o da venda.</p> <p>Ap\u00f3s a impress\u00e3o do comprovante pela automa\u00e7\u00e3o comercial, sendo esta com sucesso, deve-se realizar a confirma\u00e7\u00e3o da transa\u00e7\u00e3o atrav\u00e9s da fun\u00e7\u00e3o ConfirmaVendaPBM informando o n\u00famero do NSU da transa\u00e7\u00e3o que deseja confirmar. Em seguida, para encerrar a opera\u00e7\u00e3o deve ser chamada a fun\u00e7\u00e3o FinalizaTransacao (ver item 3.1.3.11).</p> <p>Atrav\u00e9s da fun\u00e7\u00e3o TransacaoReimpressaoVendaPBM poder\u00e1 ser reimpresso o comprovante da \u00faltima venda PBM emitida com sucesso. Caso a fun\u00e7\u00e3o seja executada com sucesso, o arquivo ULTIMOPBM.PRN ser\u00e1 disponibilizado no diret\u00f3rio parametrizado para os cupons.</p> <p>As fun\u00e7\u00f5es de Consulta de Par\u00e2metros e Consulta de Produtos devem ser acionadas antes de iniciar-se uma venda, pois ao efetuar a venda o operador dever\u00e1 optar por utilizar um produto da rede selecionada ou por um produto da pr\u00f3pria loja. Esta \u201csele\u00e7\u00e3o\u201d \u00e9 importante para determinar se o sistema de automa\u00e7\u00e3o comercial dever\u00e1 chamar a fun\u00e7\u00e3o de venda PBM ou n\u00e3o. No caso de efetuar uma venda PBM, todos os par\u00e2metros obtidos atrav\u00e9s da fun\u00e7\u00e3o de consulta PBM dever\u00e3o ser passados na fun\u00e7\u00e3o de venda, de acordo com a quantidade vendida. Estes dados dever\u00e3o estar coerentes com os dados da consulta, caso contr\u00e1rio, a venda corre o risco de n\u00e3o ser aprovada pela rede PBM selecionada.</p> <p>Atrav\u00e9s da fun\u00e7\u00e3o TransacaoCancelamentoVendaPBM pode-se efetuar o cancelamento de uma venda PBM. O NumeroControle da venda a ser cancelada deve ser informado. Al\u00e9m disso, se a rede PBM exigir, poder\u00e1 ser necess\u00e1rio a leitura do cart\u00e3o do benefici\u00e1rio para efetuar o cancelamento.</p> <p>Os campos est\u00e3o abaixo caracterizados.</p> <p>Continua na p\u00e1gina 43/33</p> Campo Tamanho Descri\u00e7\u00e3o MultiLoja 01 P 01 Caracter [\u2018S\u2019,\u2019N\u2019] NumeroEmpresa 04 P 04 inteiros NumeroLoja 04 P 04 inteiros NumeroPDV 03 P 03 inteiros [001\u2026356] InfoDadosComplementares 64 A Informa\u00e7\u00e3o de coleta de campos opcionais da tela de abertura de venda PBM. Os par\u00e2metros dos 2 campos t\u00eam o seguinte formato:\u2022 TAAMMXX...XXTAAMMXX...XX\u2022 T : tipo do campo - N (num\u00e9rico), A (alfanum\u00e9rico) ou F (op\u00e7\u00e3o sim ou n\u00e3o - Y/N)\u2022 AA : tamanho m\u00ednimo do campo (1 at\u00e9 50)\u2022 MM : tamanho m\u00e1ximo do campo (1 at\u00e9 50)\u2022 X : nome do campo para apresenta\u00e7\u00e3o na tela (at\u00e9 20 bytes)Os dois campos s\u00e3o opcionais. Se nenhum campo estiver preenchido, n\u00e3o haver\u00e1 a coleta. Exemplo:\u2022 N0808CEP N1111CPF DO PORTADOR\u2022 Neste exemplo, haver\u00e1 a captura de 2 campos, sendo que o primeiro \u00e9 o CEP com 8 d\u00edgitos (N=num\u00e9rico) e o segundo o CPF com 11 d\u00edgitos. DadosComplementares 128A Dados complementares coletados conforme os campos da estrutura InfoDadosComplementares . No exemplo acima, os dados poderiam ficar:\u2022 08999999991199999999999, isto \u00e9, CEP 99999999 com 8 d\u00edgitos e CPF 99999999999 com 11 d\u00edgitos. PedirDadosComplementares 01 A Se a fun\u00e7\u00e3o retornar erro, analisar este campo para verificar se \u00e9 necess\u00e1rio coletar os dados complementares e chamar novamente a fun\u00e7\u00e3o.\u2022 [ S ] Coletar dados complementares\u2022 [ N ] N\u00e3o coletar dados complementares ValorTotalMedicamentos 12N Valor total dos medicamentos do cupom na venda ou valor total dos medicamentos retornados na consulta NumeroCupom 06N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) QuantidadeRedes 02N Quantidade de redes cadastradas DadosRedesFormato:Numero[05]Nome[20]ColetaCartao[01]ColetaAutorizacao[01]Filler[13] 560P Par\u00e2metro que retorna os dados das redes cadastradas. Os campos ColetaCartao e ColetaAutorizacao indicam qual informa\u00e7\u00e3o deve ser coletada pelo sistema de automa\u00e7\u00e3o comercial. Podem ser retornados at\u00e9 14 redes no formato especificado Especifica\u00e7\u00e3o de alguns campos :Campo ColetaCartao = \u2022 [ S ] Coletar cart\u00e3o\u2022 [ N ] N\u00e3o coletar cart\u00e3oCampo ColetaAutorizacao =\u2022 [ S ] Coletar n\u00famero de autoriza\u00e7\u00e3o\u2022 [ N ] N\u00e3o coletar n\u00famero de autoriza\u00e7\u00e3o RedePBM 05N C\u00f3digo da rede PBM selecionada Trilha1 76A Trilha1 do cart\u00e3o Trilha2 37A Trilha2 do cart\u00e3o Digitado 01N \u2022 [ 0 ] Indica que a trilha2 do cart\u00e3o foi obtido atrav\u00e9s de leitura em pinpad criptografado\u2022 [ 1 ] Indica que a trilha2 do cart\u00e3o foi digitado Autoriza\u00e7\u00e3o 12N N\u00famero da autoriza\u00e7\u00e3o coletado pelo sistema de automa\u00e7\u00e3o NSUConsulta 06N N\u00famero de controle obtido na consulta de produtos DadosCRMFormato:CRM[12]UF_CRM[02] 14P Dados de identifica\u00e7\u00e3o do CRM consultado DadosElegibilidadeFormato:CodigoOperadorVita[09]PlanoSaude[06]NumeroDependente[02]TipoProfissional[01]UF_CRM_CRO[02]NumeroCRM_CRO[09]DataReceita[06]DescontoEmFolha[01] 30P Deve ser coletado pelo sistema de automa\u00e7\u00e3o os dados da estrutura.Especifica\u00e7\u00e3o de alguns campos :\u2022 Campo CodigoOperadorVita =\u2022 Campo PlanoSaude = C\u00f3digo do plano de sa\u00fade\u2022 Campo TipoProfissional = [ 0 ] CRM [ 1 ] CRO\u2022 Campo DescontoEmFolha = [ S ] Sim [ N ] N\u00e3o NomeCliente 40P Retornado pela fun\u00e7\u00e3o TransacaoElegibilidadePBM NomeMedico 40P Retornado pela fun\u00e7\u00e3o TransacaoElegibilidadePBM InformaDependente 01P \u2022 [ S ]Sim [ N ]N\u00e3oImportante : se a fun\u00e7\u00e3o retornar status 11, verificar se foi retornado \u201cS\u201d neste par\u00e2metro. Neste caso, chamar a fun\u00e7\u00e3o novamente informando o n\u00famero do dependente na estrutura do par\u00e2metro DadosElegibilidade ListaDependentesFormato:N\u00famero do dependente[02]Nome do dependente[40] 504P Lista de at\u00e9 12 registros AutorizacaoElegibilidade 12P Deve ser informado a Autoriza\u00e7\u00e3o retornada na transa\u00e7\u00e3o de elegibilidade DadosFarmaceuticoFormato:UF_CRF[02]NumeroCRF[12] 14P TipoVenda 01N \u2022 [ 0 ]Vista [ 1 ] Cart\u00e3o ValorVista 12N Valor a pagar \u00e0 vista para consulta e valor pago \u00e0 vista para a fun\u00e7\u00e3o de venda ValorCart\u00e3o 12N Valor a pagar com cart\u00e3o para consulta e valor pago com cart\u00e3o para a fun\u00e7\u00e3o de venda CodigoCredenciado 15N C\u00f3digo do credenciado RegraNegocio 08N C\u00f3digo da regra de neg\u00f3cio (ePharma) QuantidadeMedicamentos 02N Quantidade de medicamentos retornados no campoMedicamentos para a fun\u00e7\u00e3o de consulta e quantidade de medicamentos vendidos para a fun\u00e7\u00e3o de venda MedicamentosFormato:DataReceita[08]IDCRM_CRO[01]CRM[12]UF_CRM[02]TipoMedicamento[02]C\u00f3digo[13]Descri\u00e7\u00e3o[15]CondicaoVenda[01]PrecoMaxConsumidor[08]PrecoFabricaUnitario[08]PrecoUnitarioVendaCons[08]PrecoAquisicaoUnitario[08]PrecoRepasseVarejo[08]MotivoRejeicao[02]QtdReceitada[04]QtdAutorizadaSolicitada[04]Referencia[02]IndicadorVenda[01]TipoEmbalagem[01]Desconto[05]Controle[10]Reembolso[08]Comiss\u00e3o[05]UsoContinuo[01]Filler[05] *P Dados dos medicamentos fornecidos para o sistema de automa\u00e7\u00e3o na fun\u00e7\u00e3o de consulta e dados dos medicamentos vendidos da rede selecionada para a fun\u00e7\u00e3o de venda. Podem ser retornados (pela fun\u00e7\u00e3o de consulta) ou informados (para a fun\u00e7\u00e3o de venda) at\u00e9 o n\u00famero de medicamentos informado no campo QuantidadeMedicamentos.\u2022 * o tamanho deste buffer deve ser calculado da seguinte forma: QuantidadeMedicamentos * 142\u2022 142 = tamanho da estrutura de dados para um medicamentoEspecifica\u00e7\u00e3o de alguns campos :\u2022 Campo IDCRM_CRO = [ 0 ] CRM [ 1 ] CRO\u2022 Campo TipoMedicamento =\u2022 [ 01 ] Medicamento\u2022 [ 02 ] Manipula\u00e7\u00e3o\u2022 [ 03 ] Manip. Especial\u2022 [ 04 ] Perfumaria\u2022 Campo CondicaoVenda =\u2022 [ 0 ] obrigat\u00f3rio utilizar pre\u00e7o f\u00e1brica\u2022 [ 1 ] permite vender com pre\u00e7o inferior\u2022 Campo IndicadorVenda =\u2022 [ 0 ] produto venda cart\u00e3o\u2022 [ 1 ] produto venda vista\u2022 Campo TipoEmbalagem = unit\u00e1rio ou parcial\u2022 Campo Controle = campo para uso restrito\u2022 Campo UsoContinuo = [ S , N ]Observa\u00e7\u00f5es :\u2022 [ 1 ] os campos Reembolso e Comiss\u00e3o foram inclu\u00eddos poiss\u00e3o retornados pela VidaLink\u2022 [ 2 ] o campo UsoContinuo \u00e9 utilizado pela PreSaude\u2022 [ 3 ] no campo QtdAutorizadaSolicitada deve ser informado a quantidade solicitada para a PrevSaude ou quantidadeautorizada para as demais PBMs. Reservado 128P Campo reservadoTransacaoAberturaVendaPBM_TeleMarketing : esta fun\u00e7\u00e3o retornar\u00e1 neste par\u00e2metro o n\u00famero da autoriza\u00e7\u00e3o para esta transa\u00e7\u00e3o. Tamanho de 12 bytes. Confirmacao 01A Indica se a transa\u00e7\u00e3o de venda de produtos PBM deve ser confirmada ou n\u00e3o.\u2022 [ S ] Confirmar a opera\u00e7\u00e3o\u2022 [ N ] N\u00e3o confirmar a opera\u00e7\u00e3o NumeroControle 06 N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroControleRede 12 N NSU da Rede Autorizadora (n\u00famero seq\u00fcencial \u00fanico retornado pela rede que aprovou a venda) MensagemOperador 64 P Mensagem retornada pelo Linx TEF indicando o motivo da recusa da transa\u00e7\u00e3o. Deve ser apresentada ao operador quando a transa\u00e7\u00e3o for rejeitada 02 I \u2022 [ 00 ] Transa\u00e7\u00e3o autorizada\u2022 [ 11 ] Transa\u00e7\u00e3o n\u00e3o efetuada <p>Obs.: todos campos que cont\u00e9m diversos par\u00e2metros devem ser passados conforme seus respectivos tamanhos. Os campos num\u00e9ricos devem vir com zeros \u00e0 esquerda (sem ponto ou v\u00edrgula), enquanto que os alfanum\u00e9ricos devem vir com espa\u00e7os \u00e0 direita.</p> <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> <p>[ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. Apresentar ao usu\u00e1rio o conte\u00fado do campo MotivoRejeicao (retornado pela operadora). No campo MensagemOperador cont\u00e9m a mensagem retornada pelo Linx TEF.</p> <p>Observa\u00e7\u00e3o : Para cada conjunto de chamadas as fun\u00e7\u00f5es de TeleMarketing ( ConsultaParametrosPBM_TeleMarketing , ConsultaProdutosPBM_TeleMarketing, TransacaoVendaPBM_TeleMarketing, TransacaoAberturaVendaPBM_Telemarketing, TransacaoVendaProdutoPBM_TeleMarketing, TransacaoFechamentoVendaPBM_TeleMarketing ) deve ser informado um n\u00famero de PDV diferente (obedecendo a faixa de PDVs definida na especifica\u00e7\u00e3o dos par\u00e2metros). Isto \u00e9 necess\u00e1rio para que o Linx TEF possa diferenciar as transa\u00e7\u00f5es que est\u00e3o ocorrendo simultaneamente. Um exemplo de ocorr\u00eancia desta situa\u00e7\u00e3o \u00e9 na utiliza\u00e7\u00e3o desta fun\u00e7\u00e3o atrav\u00e9s de um servidor Web, que pode ter v\u00e1rios usu\u00e1rios realizando acesso simult\u00e2neo.</p> <p>Observa\u00e7\u00e3o para transa\u00e7\u00f5es de pr\u00e9-venda SevenPDV : a autoriza\u00e7\u00e3o das redes tratadas pela PBM SevenPDV deve seguir o seguinte fluxo de chamadas de fun\u00e7\u00f5es:</p> <p>TransacaoAberturaVendaPBM_TeleMarketing : fun\u00e7\u00e3o para abrir a venda. Se no retorno a fun\u00e7\u00e3o indicar que devem ser pedidos dados complementares, dever\u00e1 ser analisado o campo de retorno pInfoDadosComplementares para buscar a defini\u00e7\u00e3o dos campos a serem coletados. A seguir, a fun\u00e7\u00e3o TransacaoAberturaVendaPBM_TeleMarketing dever\u00e1 ser chamada novamente com a informa\u00e7\u00e3o dos dados complementares. Caso a tela de coleta dos dados complementares do portador for exibida mas o operador n\u00e3o entrou com os dados, a palavra VAZIO dever\u00e1 ser informada no campo pDadosComplementares .</p> <p>TransacaoVendaProdutoPBM_TeleMarketing : transa\u00e7\u00e3o para incluir o produto na autoriza\u00e7\u00e3o que est\u00e1 sendo feita simultaneamente \u00e0 venda. Na estrutura do medicamento, dever\u00e3o ser informados os campos Codigo , PrecoMaxConsumidor , PrecoUnitarioVendaCons , QuantidadeAutorizada e TipoEmbalagem . Os campos retornados na estrutura de medicamento s\u00e3o retornados os campos QuantidadeAutorizada , PrecoMaxConsumidor , PrecoUnitarioVendaCons , PrecoRepasseVarejo , Desconto e MotivoRejeicao .</p> <p>TransacaoFechamentoVendaPBM_TeleMarketing : fun\u00e7\u00e3o para finalizar a venda PBM. Se a venda foi finalizada com sucesso, dever\u00e1 passar o par\u00e2metro pConfirma\u00e7ao com o valor \"S\". Neste caso, ao final da execu\u00e7\u00e3o da fun\u00e7\u00e3o ser\u00e1 disponibilizado o comprovante da opera\u00e7\u00e3o para ser impresso. Se a venda n\u00e3o deve ser finalizada, passar no par\u00e2metro o valor \"N\".</p> <p>Observa\u00e7\u00e3o : para transa\u00e7\u00f5es de telemarketing em ambientes com m\u00faltiplas threads simult\u00e2neas, dever\u00e1 ser utilizada a DLL DPOSDRVTM.DLL.</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Administrativas/","title":"Administrativas","text":""},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Administrativas/#reimpressao-cupom","title":"Reimpress\u00e3o Cupom","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoReimpressaoCupom()\n</code></pre> <p>As solicita\u00e7\u00f5es de transa\u00e7\u00e3o de Reimpress\u00e3o de Cupom \u00e9 realizada atrav\u00e9s da chamada \u00e0 fun\u00e7\u00e3o TransacaoReimpressaoCupom.</p> <p>Caso a fun\u00e7\u00e3o seja executada com sucesso, ser\u00e1 disponibilizado no diret\u00f3rio parametrizado (diret\u00f3rio de cupons) um arquivo denominado ULTIMO.PRN contendo o cupom da \u00faltima transa\u00e7\u00e3o de venda efetuada com sucesso.</p> <p>Na resposta da chamada \u00e0 fun\u00e7\u00e3o ser\u00e1 devolvido o , indicando o resultado da transa\u00e7\u00e3o.</p> <p>O campo est\u00e1 abaixo caracterizado.</p> Campo Tamanho Descri\u00e7\u00e3o 02I \u2022 [ 00 ] Transa\u00e7\u00e3o autorizada\u2022 [ 11 ] Transa\u00e7\u00e3o n\u00e3o efetuada <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> <p>[ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Administrativas/#funcao-para-reimpressao-completa-do-cupom","title":"Fun\u00e7\u00e3o para Reimpress\u00e3o Completa do Cupom","text":"<p>A fun\u00e7\u00e3o atualmente disponibilizada \u00e9:</p> <pre><code>int DIRETIVA_CALLBACK TransacaoReimpressaoCupomCompleta(char *pDataTransacao, \n    char *pNSUTransacao, char *pPermiteAlteracao, char *pReservado)\n</code></pre> <p>A fun\u00e7\u00e3o TransacaoReimpressaoCupomCompleta faz a reimpress\u00e3o completa do cupom permitindo passar os dados da transa\u00e7\u00e3o.</p> <p>Os campos das fun\u00e7\u00f5es est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o DataTransacao 10N DD/MM/AAAA NSUTransacao 6N N\u00famero Sequencial \u00danico NNNNNN PermiteAlteracao 1A S ou N Reservado 1N 0 ou 1: Indica se deve reimprimir a \u00faltima transa\u00e7\u00e3o caso ocorra problema"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Administrativas/#resumo-vendas","title":"Resumo Vendas","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoResumoVendas(char *pNumeroControle)\n</code></pre> <p>Para a transa\u00e7\u00e3o acima, pode-se utilizar a fun\u00e7\u00e3o ConfirmaCartaoCredito . Ap\u00f3s a execu\u00e7\u00e3o desta, deve-se chamar a fun\u00e7\u00e3o FinalizaTransacao, assim como \u00e9 feito nas transa\u00e7\u00f5es de cart\u00f5es de d\u00e9bito, cr\u00e9dito e voucher.</p> Campo Tamanho Descri\u00e7\u00e3o NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) Status 02I \u2022 [ 00 ] Transa\u00e7\u00e3o autorizada\u2022 [ 11 ] Transa\u00e7\u00e3o n\u00e3o efetuada"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/CancelamentoTransacao/","title":"Cancelamento Transa\u00e7\u00e3o","text":""},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/CancelamentoTransacao/#cancelamento-pagamento","title":"Cancelamento Pagamento","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoCancelamentoPagamento(char *pNumeroControle)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/CancelamentoTransacao/#cancelamento-pagamento-completa","title":"Cancelamento Pagamento Completa","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoCancelamentoPagamentoCompleta(char *pValorTransacao, char *pNumeroCupomVenda,\n                                                             char *pNumeroControle, char *pPermiteAlteracao, \n                                                             char *pReservado)\n</code></pre> <p>A fun\u00e7\u00e3o TransacaoCancelamentoPagamentoCompleta permite a realiza\u00e7\u00e3o do cancelamento de uma transa\u00e7\u00e3o de cart\u00e3o, com a diferen\u00e7a de permitir que o PDV informe o valor da transa\u00e7\u00e3o, n\u00famero do cupom, e se o operador pode alterar o NSU da transa\u00e7\u00e3o ou n\u00e3o. Para as transa\u00e7\u00f5es acima que necessitam de confirma\u00e7\u00e3o (Cancelamento de Pagamento, Pr\u00e9-Autoriza\u00e7\u00e3o, Consulta de Parcelas, Resumo de Vendas, Saque e Consulta Private Label), pode-se utilizar a fun\u00e7\u00e3o ConfirmaCartaoCredito . Ap\u00f3s a execu\u00e7\u00e3o desta, deve-se chamar a fun\u00e7\u00e3o FinalizaTransacao , assim como \u00e9 feito nas transa\u00e7\u00f5es de cart\u00f5es de d\u00e9bito, cr\u00e9dito e voucher.</p> <p>A fun\u00e7\u00e3o TransacaoCancelamentoPagamentoCompleta permite a realiza\u00e7\u00e3o do cancelamento de uma transa\u00e7\u00e3o de cart\u00e3o, com a diferen\u00e7a de permitir que o PDV informe o valor da transa\u00e7\u00e3o, n\u00famero do cupom, e se o operador pode alterar o NSU da transa\u00e7\u00e3o ou n\u00e3o.</p> Campo Tamanho Descri\u00e7\u00e3o ValorTransacao 12N 10 inteiros, 2 decimais NumeroCupom 06N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) PermiteAlteracao 01A [ S ] Permite alterar valores informados (exceto ValorTransacao) [ N ] N\u00e3o permite alterar valores informados Reservado 158A [ Especifica\u00e7\u00e3o \u2013 TransacaoCancelamentoPagamento ]\u2022 [ 1..1 ] Valor\u2022 - [ 0 ] indica cancelamento de pagamento feito com Cart\u00e3o;\u2022 - [ 1 ] indica cancelamento de pagamento feito com Crach\u00e1;\u2022 - [ 2 ] indica cancelamento de pagamento d\u00e9bito Wappa;\u2022 - [ 3 ] indica cancelamento de pagamento feito com cart\u00e3o Qualidade\u2022 - [ 4 ] indica cancelamento de pagamento feito com cart\u00e3o MettaCard\u2022 - [ 5 ] indica cancelamento de pagamento feito com cart\u00e3o Ecopag\u2022 - [ Q ] indica cancelamento de pagamento feito com QR Code\u2022 [ 2..9 ] Data da transa\u00e7\u00e3o a ser cancelada, no formato AAAAMMDD\u2022 02I \u2022 [ 00 ] Transa\u00e7\u00e3o autorizada\u2022 [ 11 ] Transa\u00e7\u00e3o n\u00e3o efetuada"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/CancelamentoTransacao/#cancelamento-corban","title":"Cancelamento Corban","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoCancelamentoCB(char *pTipoConta, char *pCodigoBarrasDigitado, \n    char *pCodigoBarrasLido, char *pValorDocumento, char *pNSUCartao, char *pNumeroControle)\n</code></pre> <p>Para mais informa\u00e7\u00f5es Clique aqui.</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/CartaoFrota/","title":"Cart\u00e3o Frota","text":""},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/CartaoFrota/#cartao-frota","title":"Cart\u00e3o Frota","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoCartaoFrota(char *pValorTransacao, char *pNumeroCupom, \n                                           char *pNumeroControle)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/CartaoFrota/#cartao-frota-completa","title":"Cart\u00e3o Frota Completa","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoCartaoFrotaCompleta(char *pValorTransacao, char *pNumeroCupom, \n                                                   char *pNumeroControle, char *pTipoProduto, \n                                                   char *pCodigoVeiculo, char *pCodigoCondutor, \n                                                   char *pQuilometragem, char *pDadosServicos, \n                                                   char *pPermiteAlteracao, char *pReservado)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/CartaoFrota/#confirmacao-cartao-frota","title":"Confirma\u00e7\u00e3o Cart\u00e3o Frota","text":"<pre><code>int DIRETIVA_CALLBACK ConfirmaCartaoFrota(char *pNumeroControle)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/CartaoFrota/#especificacao-cartao-frota","title":"Especifica\u00e7\u00e3o Cart\u00e3o Frota","text":"<p>Os campos est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o ValorTransacao 12N 10 inteiros, 2 decimais NumeroCupom 06N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) TipoProduto 01N [ 0 ] VCE [ 1 ] Pr\u00e9-Pago(MaxiFrota) [ 2 ] P\u00f3s-Pago(MaxiFrota). Deve ser informado zero '0' para as demais redes CodigoVeiculo 20N C\u00f3digo do ve\u00edculo (n\u00e3o utilizado para rede Ticket e TicketLog, informar zeros '0') CodigoCondutor 15A C\u00f3digo do condutor (3ia de 2 a 11 d\u00edgitos) Quilometragem 10N Od\u00f4metro do ve\u00edculo (Policard e 3ia m\u00e1ximo de 8 d\u00edgitos) DadosServicos*este par\u00e2metro \u00e9 limitado em 20 registros para os layouts 2 e 4 e 31 registros para os demais* os dados dos servi\u00e7os devem ser informados conforme a especifica\u00e7\u00e3o ao lado (de acordo com o tipo e tamanho especificado) Dados dos servi\u00e7os fornecidos pela automa\u00e7\u00e3o e que devem ser enviados \u00e0 rede administradora (se esta exigir). Tabelas de especifica\u00e7\u00e3o a seguir.Clique aqui para visualizar as tabelas PermiteAlteracao 01A \u2022 [ S ] Permite alterar valores informados (exceto ValorTransacao)\u2022 [ N ] N\u00e3o Permite alterar valores informados Reservado 255A \u2022 [1..11] CPF\u2022 [12..20] N\u00famero da Ordem Servi\u00e7o\u2022 [21..24] Placa do ve\u00edculo. (Utilizado na rede Ticket, nas demais redes informar zeros '0').\u2022 [25..33] Hor\u00edmetro ( Utilizado na rede Ticket e TicketLog.Enviar zeros '0' se transa\u00e7\u00e3o n\u00e3o utilizar este campo)\u2022 [34..34] Produto frota (Utilizado na rede Fit Card. Enviar zeros '0' se n\u00e3o utilizado)\u2022 [35..35] Indicativo de parametriza\u00e7\u00e3o para CPF E COD funcionario para br premia (0-N\u00e3o; 1-Sim), n\u00e3o utilizado TicketLog.\u2022 [36..38] C\u00f3digo Funcionario BRPREMIA, n\u00e3o utilizado TicketLog.\u2022 [39..45] Placa completa do ve\u00edculo no formato  sem separa\u00e7\u00e3o entre letras e numeros. Quando for informada uma placa v\u00e1lida a informa\u00e7\u00e3o [21..24] ser\u00e1 ignorada.\u2022 [46..50] C\u00f3digo da Rede, onde: 137-FitCard e 10000-Outras. (Rede TicketLog). Campo num\u00e9rico)\u2022 [51..60] Identifica\u00e7\u00e3o do ve\u00edculo na frota. (Campo num\u00e9rico)\u2022 [61..68] N\u00famero de registro do funcion\u00e1rio. (Campo num\u00e9rico)\u2022 [69..69] Tipo de operacao. 1 - Compra; 2 - Consulta Saldo; 3 - Recarga Status 02I \u2022 [ 00 ] Transa\u00e7\u00e3o autorizada\u2022 [ 11 ] Transa\u00e7\u00e3o n\u00e3o autorizada <p>DadosServicos - Especifica\u00e7\u00e3o</p> Campo Tamanho Descri\u00e7\u00e3o C\u00f3digoServi\u00e7o 03N 3 inteiros ValorUnit\u00e1rio 08N 6 Inteiros,2 Decimais Quantidade 08N 5 Inteiros,3 Decimais ValorTotal 12N 10 inteiros,2 decimais <p>DadosServicos - Especifica\u00e7\u00e3o Alternativa 1 (Ex: Rede3ia)</p> Campo Tamanho Descri\u00e7\u00e3o Especifica\u00e7\u00e3o 02A [@1] Tipo 1 C\u00f3digoServi\u00e7o 12N 12 inteiros Quantidade 08N 5 Inteiros, 3 Decimais ValorTotal 09N 7 inteiros, 2 decimais <p>DadosServicos - Especifica\u00e7\u00e3o Alternativa 2 (Ex: RedeTicket)</p> Campo Tamanho Descri\u00e7\u00e3o Especifica\u00e7\u00e3o 02A [@2] Tipo 2 RamoMercadoria 04N 4 Inteiros TipoMercadoria 04N 4 Inteiros C\u00f3digoMercadoria 05N 5 Inteiros Descri\u00e7\u00e3o Mercadoria 30A 30 caracteres (com espa\u00e7os a direita) Valor Unit\u00e1rio 08N 5 inteiros,2 Decimais Quantidade 08N 5 inteiros,2 Decimais Valor Total da mercadoria 12N 10 inteiros, 2 decimais Valor Desconto 12N 10 inteiros, 2 decimais Significado Campo Desconto 12N 0 = Valor em moeda,1 = Valor em percentagem (%) Valor Total com desconto 12N 10 inteiros, 2 Decimais <p>DadosServicos - Especifica\u00e7\u00e3o Alternativa 3 (Ex:Rede MaisAceito):</p> Campo Tamanho Descri\u00e7\u00e3o Especifica\u00e7\u00e3o 02A [@3] Tipo 3 C\u00f3digoServi\u00e7o 09N 3 bytes(c\u00f3d.grupo) 6 bytes (c\u00f3d.produto) Quantidade 08N 5 Inteiros,2 Decimais ValorTotal 10N 8 inteiros,2 Decimais <p>DadosServicos - Especifica\u00e7\u00e3o Alternativa 4 (Ex:Rede TicketLog):</p> Campo Tamanho Descri\u00e7\u00e3o Especifica\u00e7\u00e3o 02A [@4] Tipo 4 RamoMercadoria 04N 1-Abastecimento, 2-Troca de \u00d3leo,3-Servi\u00e7os Diversos TipoMercadoria 04N Para combustiveis informar o c\u00f3digo do tipo, ex.: 1 - gasolina comum, 2 - gasolina aditivada, 3 - diesel. Para   os demais produtos informar '0000' C\u00f3digoMercadoriaServico 12N C\u00f3digo referente ao produto vendido Quantidade 08N 5 Inteiros,3 Decimais ValorTotal 10N 10 inteiros,2 Decimais <p>OBS. 1: Os dados num\u00e9ricos devem ser preenchidos com zeros a esquerda</p> <p>OBS. 2: Nas transa\u00e7\u00f5es TicketLog, se forem informados mais produtos que a rede solicitar, a transa\u00e7\u00e3o ser\u00e1 cancelada e retornara um erro.</p> <p>Exemplo para Rede Ticket:</p> <p>\u2022 Transa\u00e7\u00e3o de 3,00 reais com Desconto em Moeda de 1 real:</p> <p>\u2022 Especifica\u00e7\u00e3o: @2</p> <p>\u2022 Ramo Mercadoria: 0001</p> <p>\u2022 Tipo Mercadoria: 0001</p> <p>\u2022 C\u00f3digo Mercadoria: 00103</p> <p>\u2022 Descri\u00e7\u00e3o Mercadoria: Gasolina Premium</p> <p>\u2022 Valor Unit\u00e1rio: 00001000</p> <p>\u2022 Quantidade: 00003000</p> <p>\u2022 Valor Total Mercadoria 0000000300</p> <p>\u2022 Valor Desconto 0000000100</p> <p>\u2022 Significado do campo 0</p> <p>\u2022 Valor Total com Desconto 0000000200</p> <p>\u2022 Transa\u00e7\u00e3o de 3,00 reais com Desconto em Percentual de 10%:</p> <p>\u2022 Especifica\u00e7\u00e3o: @2</p> <p>\u2022 Ramo Mercadoria: 0001</p> <p>\u2022 Tipo Mercadoria: 0001</p> <p>\u2022 C\u00f3digo Mercadoria: 00103</p> <p>\u2022 Descri\u00e7\u00e3o Mercadoria: Gasolina Premium</p> <p>\u2022 Valor Unit\u00e1rio: 00001000</p> <p>\u2022 Quantidade: 00003000</p> <p>\u2022 Valor Total Mercadoria 0000000300</p> <p>\u2022 Valor Desconto 0000001000</p> <p>\u2022 Significado do campo 1</p> <p>\u2022 Valor Total com Desconto 0000000270</p> <p>Status [ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> <p>Status [ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. O sistema de automa\u00e7\u00e3o deve retornar \u00e0 rotina de recebimento de valores, pois a transa\u00e7\u00e3o solicitada n\u00e3o foi autorizada, n\u00e3o sendo v\u00e1lida como forma de pagamento.</p> <p>Obs: Para rede Ticket o campo ValorTransa\u00e7\u00e3o deve conter o valor total da transa\u00e7\u00e3o incluindo os descontos aplicados. No caso do exemplo acima da ticket o campo ValorTransacao deve ter valor de 2,00 reais.</p> <p>Os itens CPF e N\u00famero da Ordem de Servi\u00e7o do campo Reservado devem ser preenchidos quando for utilizada a Rede Policard.</p> <p>No campo reservado as informa\u00e7\u00f5es n\u00e3o dispon\u00edveis devem ser preechidas com brancos ou zeros de acordo com o seu tipo de dado.</p> <p>Detalhamento do campo DadosServi\u00e7o para Rede Redecard .</p> <p>O campo C\u00f3digoServi\u00e7o poder\u00e1 ser:</p> <p>1-Abastecimento, 2-Troca de \u00d3leo, 3-Lavagem, 4-Ped\u00e1gio, 5-Outros.</p> <p>O Campo Quantidade representar\u00e1, quando for o caso, os Litros.</p> <p>Detalhamento do campo DadosServi\u00e7o para Rede Policard .</p> <p>Existem tr\u00eas tipos poss\u00edveis e, para cada tipo, produtos que podem ser selecionados.</p> <p>Tipos: 01-Tipos de Combust\u00edveis 02-Tipos de Servi\u00e7o 03-Manuten\u00e7\u00e3o (sem produtos).</p> <p>Tabela de Produtos:</p> 01 Tipos de Combust\u00edveis: 02 Tipos de Servi\u00e7o 01 - Gasolina Comum 01 - Troca de \u00f3leo 02 - Gasolina Aditivada 02 - Filtro de Ar 03 - \u00c1lcool 03 - Filtro de \u00f3leo 04 - Diesel Comum 04 - Filtro de combust\u00edvel 05 - Diesel Aditivado 05 - Flu\u00eddo de Freio 06 - GNV 06 - Flu\u00eddo de Radiador 07 - GLP 07 - Extintor 08 - Lavagem Expressa 09 - Lavagem Completa 10 - Conserto de pneu 11 \u2013 Montagem/desmonte Pneu 12 - Balanceamento 13 - Geometria 14 - Graxa 15 - Querosene 16 \u2013 Outros servi\u00e7os <p>A montagem da estrutura DadosServi\u00e7os deve ser feita da seguinte maneira:</p> <p>O campo C\u00f3digoServi\u00e7o ter\u00e1 o c\u00f3digo do tipo e do produto. Ex: 102, onde 1 indica Tipo de Combust\u00edvel e 02 indica Gasolina Aditivada.</p> <p>O campo ValorUnit\u00e1rio e Valortotal ter\u00e3o valor zero.</p> <p>O campo Quantidade indicar\u00e1 Litros (para caso 01-Tipo de Combust\u00edveis) ou Quantidade (para caso 02-Tipos de Servi\u00e7o).</p> <p>Se for escolhido o tipo 03-Manuten\u00e7\u00e3o deve ser colocado em C\u00f3digoServi\u00e7o o valor 300 e os demais campos zerados. Neste tipo deve-se preencher o campo N\u00famero da Ordem Servi\u00e7o do campo reservado.</p> <p>Detalhamento do campo DadosServico para Rede Ticket .</p> <p>Segue abaixo os registros da tabela da Ticket com Ramo, Tipo e C\u00f3digo da Mercadoria. Devem ser utilizados apenas os campos C\u00f3digo e Mercadoria para passar respectivamente nos campos \u201cC\u00f3digo Mercadoria\u201d e \u201cDescri\u00e7\u00e3o Mercadoria\u201d da estrutura DadosServico.</p> C\u00f3digo Ramo Tipo Nome do Tipo C\u00f3d. Mercadoria 1 POSTO DE COMBUST 1 COMBUSTIVEL 00101 GASOLINA COMUM 1 POSTO DE COMBUST 1 COMBUSTIVEL 00102 GASOLINA ADITIV 1 POSTO DE COMBUST 1 COMBUSTIVEL 00103 GASOLINA PREMIUM 1 POSTO DE COMBUST 1 COMBUSTIVEL 00104 ETANOL COMUM 1 POSTO DE COMBUST 1 COMBUSTIVEL 00105 ETANOL ADITIVADO 1 POSTO DE COMBUST 1 COMBUSTIVEL 00106 DIESEL COMUM 1 POSTO DE COMBUST 1 COMBUSTIVEL 00107 DIESEL ADITIVADO 1 POSTO DE COMBUST 1 COMBUSTIVEL 00108 GAS NATURAL 1 POSTO DE COMBUST 1 COMBUSTIVEL 00109 BIODIESEL 1 POSTO DE COMBUST 1 COMBUSTIVEL 00110 QUEROSENE 1 POSTO DE COMBUST 1 COMBUSTIVEL 00111 METANOL 1 POSTO DE COMBUST 1 COMBUSTIVEL 00112 DIESEL MARITIMO 1 POSTO DE COMBUST 1 COMBUSTIVEL 00113 DIESEL S50 1 POSTO DE COMBUST 1 COMBUSTIVEL 00114 GLP 1 POSTO DE COMBUST 1 COMBUSTIVEL 00115 DIESEL BS 500 1 POSTO DE COMBUST 1 COMBUSTIVEL 00116 DIESEL S 10 1 POSTO DE COMBUST 2 LIMPEZA 00133 LAVAGEM SIMPLES 1 POSTO DE COMBUST 2 LIMPEZA 00134 LAVAGEM COMPLETA 1 POSTO DE COMBUST 2 LIMPEZA 00135 LAVAGEM ESPECIAL 1 POSTO DE COMBUST 2 LIMPEZA 00136 POLIMENTO CERA 1 POSTO DE COMBUST 2 LIMPEZA 00137 POLIMENTO MASSA 1 POSTO DE COMBUST 2 LIMPEZA 00138 CRISTALIZACAO 1 POSTO DE COMBUST 2 LIMPEZA 00139 OUTRO 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00140 TROCA OLEO MOTOR 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00141 COMPL OLEO MOTOR 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00142 ADIT OLEO MOTOR 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00143 TR OLEO TRANSMIS 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00144 COMPL OLEO TRANS 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00145 TR OLEO DIFERENC 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00146 COMPL OLEO DIFER 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00147 TROCA OLEO DIREC 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00148 COMPL OLEO DIREC 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00149 TR FLUIDO FREIO 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00150 COMP FLUID FREIO 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00151 TROCA ADIT RAD 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00152 COMPL AD RAD 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00153 ADITIVO COMBUST 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00154 ENGRAXAMENTO 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00155 OUTROS 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00214 ARLA A GRANEL 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00222 OLEO DOIS TEMPOS 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00223 ARLA 20 LTS 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00224 ARLA 10 LTS 1 POSTO DE COMBUST 4 FILTROS 00156 TR FILTRO OLEO 1 POSTO DE COMBUST 4 FILTROS 00157 TROCA FILTRO AR 1 POSTO DE COMBUST 4 FILTROS 00158 TR FILTRO COMB 1 POSTO DE COMBUST 4 FILTROS 00159 OUTROS 1 POSTO DE COMBUST 5 EQUIP ELETRICOS 00160 TROCA BATERIA 1 POSTO DE COMBUST 5 EQUIP ELETRICOS 00161 TROCA CORREIA 1 POSTO DE COMBUST 5 EQUIP ELETRICOS 00162 TROCA LAMPADA 1 POSTO DE COMBUST 5 EQUIP ELETRICOS 00163 TROCA FUSIVEL 1 POSTO DE COMBUST 5 EQUIP ELETRICOS 00164 OUTROS 1 POSTO DE COMBUST 6 EQUIP DIVERSOS 00165 EXTINTOR INCEN 1 POSTO DE COMBUST 6 EQUIP DIVERSOS 00166 TROCA PALHETA 1 POSTO DE COMBUST 6 EQUIP DIVERSOS 00167 CHAVEIRO 1 POSTO DE COMBUST 6 EQUIP DIVERSOS 00168 OUTROS 1 POSTO DE COMBUST 7 BORRACHARIA 00169 TROCA PNEU 1 POSTO DE COMBUST 7 BORRACHARIA 00170 CONSERTO PNEU 1 POSTO DE COMBUST 7 BORRACHARIA 00171 CALIBRAGEM NITRO 1 POSTO DE COMBUST 7 BORRACHARIA 00172 TROCA CAMARA 1 POSTO DE COMBUST 7 BORRACHARIA 00173 CONSERTO CAMARA 1 POSTO DE COMBUST 7 BORRACHARIA 00174 TROCA VALVULA 1 POSTO DE COMBUST 7 BORRACHARIA 00175 CONSERTO DE RODA 1 POSTO DE COMBUST 7 BORRACHARIA 00176 OUTROS 2 LAVA RAPIDO 2 LIMPEZA 00133 LAVAGEM SIMPLES 2 LAVA RAPIDO 2 LIMPEZA 00134 LAVAGEM COMPLETA 2 LAVA RAPIDO 2 LIMPEZA 00135 LAVAGEM ESPECIAL 2 LAVA RAPIDO 2 LIMPEZA 00136 POLIMENTO CERA 2 LAVA RAPIDO 2 LIMPEZA 00137 POLIMENTO MASSA 2 LAVA RAPIDO 2 LIMPEZA 00138 CRISTALIZACAO 2 LAVA RAPIDO 2 LIMPEZA 00139 OUTRO 3 MANUT E PECAS 8 PECAS E SERVICOS 00177 PECAS E SERVICOS 4 BORRACHARIA 7 BORRACHARIA 00169 TROCA PNEU 4 BORRACHARIA 7 BORRACHARIA 00170 CONSERTO PNEU 4 BORRACHARIA 7 BORRACHARIA 00171 CALIBRAGEM NITRO 4 BORRACHARIA 7 BORRACHARIA 00172 TROCA CAMARA 4 BORRACHARIA 7 BORRACHARIA 00173 CONSERTO CAMARA 4 BORRACHARIA 7 BORRACHARIA 00174 TROCA VALVULA 4 BORRACHARIA 7 BORRACHARIA 00175 CONSERTO DE RODA 4 BORRACHARIA 7 BORRACHARIA 00176 OUTROS 5 HOTEL 9 HOTEL 00178 DIARIA 5 HOTEL 9 HOTEL 00179 OUTROS 6 ESTACIONAMENTO 10 ESTACIONAMENTO 00180 HORA 6 ESTACIONAMENTO 10 ESTACIONAMENTO 00181 DIARIA 6 ESTACIONAMENTO 10 ESTACIONAMENTO 00182 MENSALIDADE 6 ESTACIONAMENTO 10 ESTACIONAMENTO 00183 OUTROS 7 EST INT POSTO 1 COMBUSTIVEL 00101 GASOLINA COMUM 7 EST INT POSTO 1 COMBUSTIVEL 00102 GASOLINA ADITIV 7 EST INT POSTO 1 COMBUSTIVEL 00103 GASOLINA PREMIUM 7 EST INT POSTO 1 COMBUSTIVEL 00104 ETANOL COMUM 7 EST INT POSTO 1 COMBUSTIVEL 00105 ETANOL ADITIVADO 7 EST INT POSTO 1 COMBUSTIVEL 00106 DIESEL COMUM 7 EST INT POSTO 1 COMBUSTIVEL 00107 DIESEL ADITIVADO 7 EST INT POSTO 1 COMBUSTIVEL 00108 GAS NATURAL 7 EST INT POSTO 1 COMBUSTIVEL 00109 BIODIESEL 7 EST INT POSTO 1 COMBUSTIVEL 00110 QUEROSENE 7 EST INT POSTO 1 COMBUSTIVEL 00111 METANOL 7 EST INT POSTO 1 COMBUSTIVEL 00112 DIESEL MARITIMO 7 EST INT POSTO 1 COMBUSTIVEL 00113 DIESEL S50 7 EST INT POSTO 1 COMBUSTIVEL 00114 GLP 7 EST INT POSTO 1 COMBUSTIVEL 00115 DIESEL BS 500 7 EST INT POSTO 1 COMBUSTIVEL 00116 DIESEL S 10 7 EST INT POSTO 2 LIMPEZA 00133 LAVAGEM SIMPLES 7 EST INT POSTO 2 LIMPEZA 00134 LAVAGEM COMPLETA 7 EST INT POSTO 2 LIMPEZA 00135 LAVAGEM ESPECIAL 7 EST INT POSTO 2 LIMPEZA 00136 POLIMENTO CERA 7 EST INT POSTO 2 LIMPEZA 00137 POLIMENTO MASSA 7 EST INT POSTO 2 LIMPEZA 00139 OUTRO 7 EST INT POSTO 2 LIMPEZA 00138 CRISTALIZACAO 7 EST INT POSTO 3 ADIT E LUBRIFIC 00140 TROCA OLEO MOTOR 7 EST INT POSTO 3 ADIT E LUBRIFIC 00141 COMPL OLEO MOTOR 7 EST INT POSTO 3 ADIT E LUBRIFIC 00142 ADIT OLEO MOTOR 7 EST INT POSTO 3 ADIT E LUBRIFIC 00143 TR OLEO TRANSMIS 7 EST INT POSTO 3 ADIT E LUBRIFIC 00144 COMPL OLEO TRANS 7 EST INT POSTO 3 ADIT E LUBRIFIC 00145 TR OLEO DIFERENC 7 EST INT POSTO 3 ADIT E LUBRIFIC 00146 COMPL OLEO DIFER 7 EST INT POSTO 3 ADIT E LUBRIFIC 00147 TROCA OLEO DIREC 7 EST INT POSTO 3 ADIT E LUBRIFIC 00148 COMPL OLEO DIREC 7 EST INT POSTO 3 ADIT E LUBRIFIC 00149 TR FLUIDO FREIO 7 EST INT POSTO 3 ADIT E LUBRIFIC 00150 COMP FLUID FREIO 7 EST INT POSTO 3 ADIT E LUBRIFIC 00151 TROCA ADIT RAD 7 EST INT POSTO 3 ADIT E LUBRIFIC 00152 COMPL AD RAD 7 EST INT POSTO 3 ADIT E LUBRIFIC 00153 ADITIVO COMBUST 7 EST INT POSTO 3 ADIT E LUBRIFIC 00154 ENGRAXAMENTO 7 EST INT POSTO 3 ADIT E LUBRIFIC 00155 OUTROS 7 EST INT POSTO 3 ADIT E LUBRIFIC 00214 ARLA A GRANEL 7 EST INT POSTO 3 ADIT E LUBRIFIC 00222 OLEO DOIS TEMPOS 7 EST INT POSTO 3 ADIT E LUBRIFIC 00223 ARLA 20 LTS 7 EST INT POSTO 3 ADIT E LUBRIFIC 00224 ARLA 10 LTS 7 EST INT POSTO 4 FILTROS 00156 TR FILTRO OLEO 7 EST INT POSTO 4 FILTROS 00157 TROCA FILTRO AR 7 EST INT POSTO 4 FILTROS 00158 TR FILTRO COMB 7 EST INT POSTO 4 FILTROS 00159 OUTROS 7 EST INT POSTO 5 EQUIP ELETRICOS 00160 TROCA BATERIA 7 EST INT POSTO 5 EQUIP ELETRICOS 00161 TROCA CORREIA 7 EST INT POSTO 5 EQUIP ELETRICOS 00162 TROCA LAMPADA 7 EST INT POSTO 5 EQUIP ELETRICOS 00163 TROCA FUSIVEL 7 EST INT POSTO 5 EQUIP ELETRICOS 00164 OUTROS 7 EST INT POSTO 6 EQUIP ELETRICOS 00165 EXTINTOR INCEN 7 EST INT POSTO 6 EQUIP ELETRICOS 00166 TROCA PALHETA 7 EST INT POSTO 6 EQUIP ELETRICOS 00167 CHAVEIRO 7 EST INT POSTO 6 EQUIP ELETRICOS 00168 OUTROS 8 EST INT OFICINA 8 PECAS E SERVICOS 00177 PECAS E SERVICOS 9 EST INT ALMOXARI 11 ALMOXARIFADO 00184 ALMOXARIFADO 10 EST INT OUTROS 12 OUTROS 00185 OUTROS 10 EST INT OUTROS 15 LUBRIFICANTES 00189 15W40 10 EST INT OUTROS 15 LUBRIFICANTES 00190 85W140 10 EST INT OUTROS 15 LUBRIFICANTES 00191 AT 10 EST INT OUTROS 15 LUBRIFICANTES 00192 FLUIDO FREIO 10 EST INT OUTROS 15 LUBRIFICANTES 00193 FTA 10 EST INT OUTROS 15 LUBRIFICANTES 00194 H220S 10 EST INT OUTROS 15 LUBRIFICANTES 00195 LUBR VL 10 EST INT OUTROS 15 LUBRIFICANTES 00196 M40 10 EST INT OUTROS 15 LUBRIFICANTES 00197 PAROIL 10 EST INT OUTROS 15 LUBRIFICANTES 00198 S68 10 EST INT OUTROS 15 LUBRIFICANTES 00199 S150 10 EST INT OUTROS 15 LUBRIFICANTES 00200 S460 10 EST INT OUTROS 15 LUBRIFICANTES 00201 SAE80 10 EST INT OUTROS 15 LUBRIFICANTES 00202 SAE90 10 EST INT OUTROS 15 LUBRIFICANTES 00203 SAE90LS 10 EST INT OUTROS 15 LUBRIFICANTES 00204 T68 10 EST INT OUTROS 15 LUBRIFICANTES 00205 TC50 10 EST INT OUTROS 15 LUBRIFICANTES 00206 WBF100 10 EST INT OUTROS 15 LUBRIFICANTES 00207 ADITIVO RADIADOR 10 EST INT OUTROS 16 GRAXA 00208 GRAXA 10 EST INT OUTROS 17 EMULSSAO 00209 EMULSSAO IMPR 10 EST INT OUTROS 17 EMULSSAO 00210 EMULSSAO RR 10 EST INT OUTROS 18 CAP 00211 CAP 30 45 10 EST INT OUTROS 18 CAP 00212 CAP POL 10 EST INT OUTROS 18 CAP 00213 CAP OUTROS 12 TAXI 1 COMBUSTIVEL 00101 GASOLINA COMUM 12 TAXI 1 COMBUSTIVEL 00102 GASOLINA ADITIV 12 TAXI 1 COMBUSTIVEL 00103 GASOLINA PREMIUM 12 TAXI 1 COMBUSTIVEL 00104 ETANOL COMUM 12 TAXI 1 COMBUSTIVEL 00105 ETANOL ADITIVADO 12 TAXI 1 COMBUSTIVEL 00106 DIESEL COMUM 12 TAXI 1 COMBUSTIVEL 00107 DIESEL ADITIVADO 12 TAXI 1 COMBUSTIVEL 00108 GAS NATURAL 12 TAXI 1 COMBUSTIVEL 00109 BIODIESEL 12 TAXI 1 COMBUSTIVEL 00110 QUEROSENE 12 TAXI 1 COMBUSTIVEL 00111 METANOL 12 TAXI 1 COMBUSTIVEL 00112 DIESEL MARITIMO 12 TAXI 1 COMBUSTIVEL 00113 DIESEL S50 12 TAXI 1 COMBUSTIVEL 00114 GLP 12 TAXI 1 COMBUSTIVEL 00115 DIESEL BS 500 12 TAXI 1 COMBUSTIVEL 00116 DIESEL S 10 12 TAXI 2 LIMPEZA 00133 LAVAGEM SIMPLES 12 TAXI 2 LIMPEZA 00134 LAVAGEM COMPLETA 12 TAXI 2 LIMPEZA 00135 LAVAGEM ESPECIAL 12 TAXI 2 LIMPEZA 00136 POLIMENTO CERA 12 TAXI 2 LIMPEZA 00137 POLIMENTO MASSA 12 TAXI 2 LIMPEZA 00138 CRISTALIZACAO 12 TAXI 2 LIMPEZA 00139 OUTRO 12 TAXI 3 ADIT E LUBRIFIC 00140 TROCA OLEO MOTOR 12 TAXI 3 ADIT E LUBRIFIC 00141 COMPL OLEO MOTOR 12 TAXI 3 ADIT E LUBRIFIC 00142 ADIT OLEO MOTOR 12 TAXI 3 ADIT E LUBRIFIC 00143 TR OLEO TRANSMIS 12 TAXI 3 ADIT E LUBRIFIC 00144 COMPL OLEO TRANS 12 TAXI 3 ADIT E LUBRIFIC 00145 TR OLEO DIFERENC 12 TAXI 3 ADIT E LUBRIFIC 00146 COMPL OLEO DIFER 12 TAXI 3 ADIT E LUBRIFIC 00147 TROCA OLEO DIREC 12 TAXI 3 ADIT E LUBRIFIC 00148 COMPL OLEO DIREC 12 TAXI 3 ADIT E LUBRIFIC 00149 TR FLUIDO FREIO 12 TAXI 3 ADIT E LUBRIFIC 00150 COMP FLUID FREIO 12 TAXI 3 ADIT E LUBRIFIC 00151 TROCA ADIT RAD 12 TAXI 3 ADIT E LUBRIFIC 00152 COMPL AD RAD 12 TAXI 3 ADIT E LUBRIFIC 00153 ADITIVO COMBUST 12 TAXI 3 ADIT E LUBRIFIC 00154 ENGRAXAMENTO 12 TAXI 3 ADIT E LUBRIFIC 00155 OUTROS 12 TAXI 3 ADIT E LUBRIFIC 00214 ARLA A GRANEL 12 TAXI 3 ADIT E LUBRIFIC 00222 OLEO DOIS TEMPOS 12 TAXI 3 ADIT E LUBRIFIC 00223 ARLA 20 LTS 12 TAXI 3 ADIT E LUBRIFIC 00224 ARLA 10 LTS 12 TAXI 4 FILTROS 00156 TR FILTRO OLEO 12 TAXI 4 FILTROS 00157 TROCA FILTRO AR 12 TAXI 4 FILTROS 00158 TR FILTRO COMB 12 TAXI 4 FILTROS 00159 OUTROS 12 TAXI 5 EQUIP ELETRICOS 00160 TROCA BATERIA 12 TAXI 5 EQUIP ELETRICOS 00161 TROCA CORREIA 12 TAXI 5 EQUIP ELETRICOS 00162 TROCA LAMPADA 12 TAXI 5 EQUIP ELETRICOS 00163 TROCA FUSIVEL 12 TAXI 5 EQUIP ELETRICOS 00164 OUTROS 12 TAXI 6 EQUIP DIVERSOS 00165 EXTINTOR INCEN 12 TAXI 6 EQUIP DIVERSOS 00166 TROCA PALHETA 12 TAXI 6 EQUIP DIVERSOS 00167 CHAVEIRO 12 TAXI 6 EQUIP DIVERSOS 00168 OUTROS 12 TAXI 7 BORRACHARIA 00169 TROCA PNEU 12 TAXI 7 BORRACHARIA 00170 CONSERTO PNEU 12 TAXI 7 BORRACHARIA 00171 CALIBRAGEM NITRO 12 TAXI 7 BORRACHARIA 00172 TROCA CAMARA 12 TAXI 7 BORRACHARIA 00173 CONSERTO CAMARA 12 TAXI 7 BORRACHARIA 00174 TROCA VALVULA 12 TAXI 7 BORRACHARIA 00175 CONSERTO DE RODA 12 TAXI 7 BORRACHARIA 00176 OUTROS 12 TAXI 8 PECAS E SERVICOS 00177 PECAS E SERVICOS 12 TAXI 9 HOTEL 00178 DIARIA 12 TAXI 9 HOTEL 00179 OUTROS 12 TAXI 10 ESTACIONAMENTO 00180 HORA 12 TAXI 10 ESTACIONAMENTO 00181 DIARIA 12 TAXI 10 ESTACIONAMENTO 00182 MENSALIDADE 12 TAXI 10 ESTACIONAMENTO 00183 OUTROS 12 TAXI 11 ALMOXARIFADO 00184 ALMOXARIFADO 12 TAXI 12 OUTROS 00185 OUTROS 12 TAXI 13 TAXI 00186 TAXI 13 ASSISTENCIA 1 COMBUSTIVEL 00101 GASOLINA COMUM 13 ASSISTENCIA 1 COMBUSTIVEL 00102 GASOLINA ADITIV 13 ASSISTENCIA 1 COMBUSTIVEL 00103 GASOLINA PREMIUM 13 ASSISTENCIA 1 COMBUSTIVEL 00104 ETANOL COMUM 13 ASSISTENCIA 1 COMBUSTIVEL 00105 ETANOL ADITIVADO 13 ASSISTENCIA 1 COMBUSTIVEL 00106 DIESEL COMUM 13 ASSISTENCIA 1 COMBUSTIVEL 00107 DIESEL ADITIVADO 13 ASSISTENCIA 1 COMBUSTIVEL 00108 GAS NATURAL 13 ASSISTENCIA 1 COMBUSTIVEL 00109 BIODIESEL 13 ASSISTENCIA 1 COMBUSTIVEL 00110 QUEROSENE 13 ASSISTENCIA 1 COMBUSTIVEL 00111 METANOL 13 ASSISTENCIA 1 COMBUSTIVEL 00112 DIESEL MARITIMO 13 ASSISTENCIA 1 COMBUSTIVEL 00113 DIESEL S50 13 ASSISTENCIA 1 COMBUSTIVEL 00114 GLP 13 ASSISTENCIA 1 COMBUSTIVEL 00115 DIESEL BS 500 13 ASSISTENCIA 1 COMBUSTIVEL 00116 DIESEL S 10 13 ASSISTENCIA 2 LIMPEZA 00133 LAVAGEM SIMPLES 13 ASSISTENCIA 2 LIMPEZA 00134 LAVAGEM COMPLETA 13 ASSISTENCIA 2 LIMPEZA 00135 LAVAGEM ESPECIAL 13 ASSISTENCIA 2 LIMPEZA 00136 POLIMENTO CERA 13 ASSISTENCIA 2 LIMPEZA 00137 POLIMENTO MASSA 13 ASSISTENCIA 2 LIMPEZA 00138 CRISTALIZACAO 13 ASSISTENCIA 2 LIMPEZA 00139 OUTRO 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00140 TROCA OLEO MOTOR 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00141 COMPL OLEO MOTOR 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00142 ADIT OLEO MOTOR 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00143 TR OLEO TRANSMIS 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00144 COMPL OLEO TRANS 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00145 TR OLEO DIFERENC 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00146 COMPL OLEO DIFER 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00147 TROCA OLEO DIREC 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00148 COMPL OLEO DIREC 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00149 TR FLUIDO FREIO 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00150 COMP FLUID FREIO 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00151 TROCA ADIT RAD 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00152 COMPL AD RAD 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00153 ADITIVO COMBUST 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00154 ENGRAXAMENTO 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00155 OUTROS 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00214 ARLA A GRANEL 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00222 OLEO DOIS TEMPOS 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00223 ARLA 20 LTS 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00224 ARLA 10 LTS 13 ASSISTENCIA 4 FILTROS 00156 TR FILTRO OLEO 13 ASSISTENCIA 4 FILTROS 00157 TROCA FILTRO AR 13 ASSISTENCIA 4 FILTROS 00158 TR FILTRO COMB 13 ASSISTENCIA 4 FILTROS 00159 OUTROS 13 ASSISTENCIA 5 EQUIP ELETRICOS 00160 TROCA BATERIA 13 ASSISTENCIA 5 EQUIP ELETRICOS 00161 TROCA CORREIA 13 ASSISTENCIA 5 EQUIP ELETRICOS 00162 TROCA LAMPADA 13 ASSISTENCIA 5 EQUIP ELETRICOS 00163 TROCA FUSIVEL 13 ASSISTENCIA 5 EQUIP ELETRICOS 00164 OUTROS 13 ASSISTENCIA 6 EQUIP DIVERSOS 00165 EXTINTOR INCEN 13 ASSISTENCIA 6 EQUIP DIVERSOS 00166 TROCA PALHETA 13 ASSISTENCIA 6 EQUIP DIVERSOS 00167 CHAVEIRO 13 ASSISTENCIA 6 EQUIP DIVERSOS 00168 OUTROS 13 ASSISTENCIA 7 BORRACHARIA 00169 TROCA PNEU 13 ASSISTENCIA 7 BORRACHARIA 00170 CONSERTO PNEU 13 ASSISTENCIA 7 BORRACHARIA 00171 CALIBRAGEM NITRO 13 ASSISTENCIA 7 BORRACHARIA 00172 TROCA CAMARA 13 ASSISTENCIA 7 BORRACHARIA 00173 CONSERTO CAMARA 13 ASSISTENCIA 7 BORRACHARIA 00174 TROCA VALVULA 13 ASSISTENCIA 7 BORRACHARIA 00175 CONSERTO DE RODA 13 ASSISTENCIA 7 BORRACHARIA 00176 OUTROS 13 ASSISTENCIA 8 PECAS E SERVICOS 00177 PECAS E SERVICOS 13 ASSISTENCIA 9 HOTEL 00178 DIARIA 13 ASSISTENCIA 9 HOTEL 00179 OUTROS 13 ASSISTENCIA 10 ESTACIONAMENTO 00180 HORA 13 ASSISTENCIA 10 ESTACIONAMENTO 00181 DIARIA 13 ASSISTENCIA 10 ESTACIONAMENTO 00182 MENSALIDADE 13 ASSISTENCIA 10 ESTACIONAMENTO 00183 OUTROS 13 ASSISTENCIA 11 ALMOXARIFADO 00184 ALMOXARIFADO 13 ASSISTENCIA 12 OUTROS 00185 OUTROS 13 ASSISTENCIA 13 TAXI 00186 TAXI 13 ASSISTENCIA 14 ASSISTENCIA 00188 ASSISTEN CIA 15 CENTRAL DE SERV 1 COMBUSTIVEL 00101 GASOLINA COMUM 15 CENTRAL DE SERV 1 COMBUSTIVEL 00102 GASOLINA ADITIV 15 CENTRAL DE SERV 1 COMBUSTIVEL 00103 GASOLINA PREMIUM 15 CENTRAL DE SERV 1 COMBUSTIVEL 00104 ETANOL COMUM 15 CENTRAL DE SERV 1 COMBUSTIVEL 00105 ETANOL ADITIVADO 15 CENTRAL DE SERV 1 COMBUSTIVEL 00106 DIESEL COMUM 15 CENTRAL DE SERV 1 COMBUSTIVEL 00107 DIESEL ADITIVADO 15 CENTRAL DE SERV 1 COMBUSTIVEL 00108 GAS NATURAL 15 CENTRAL DE SERV 1 COMBUSTIVEL 00109 BIODIESEL 15 CENTRAL DE SERV 1 COMBUSTIVEL 00110 QUEROSENE 15 CENTRAL DE SERV 1 COMBUSTIVEL 00111 METANOL 15 CENTRAL DE SERV 1 COMBUSTIVEL 00112 DIESEL MARITIMO 15 CENTRAL DE SERV 1 COMBUSTIVEL 00113 DIESEL S50 15 CENTRAL DE SERV 1 COMBUSTIVEL 00114 GLP 15 CENTRAL DE SERV 1 COMBUSTIVEL 00115 DIESEL BS 500 15 CENTRAL DE SERV 1 COMBUSTIVEL 00116 DIESEL S 10 15 CENTRAL DE SERV 2 LIMPEZA 00133 LAVAGEM SIMPLES 15 CENTRAL DE SERV 2 LIMPEZA 00134 LAVAGEM COMPLETA 15 CENTRAL DE SERV 2 LIMPEZA 00135 LAVAGEM ESPECIAL 15 CENTRAL DE SERV 2 LIMPEZA 00136 POLIMENTO CERA 15 CENTRAL DE SERV 2 LIMPEZA 00137 POLIMENTO MASSA 15 CENTRAL DE SERV 2 LIMPEZA 00138 CRISTALIZACAO 15 CENTRAL DE SERV 2 LIMPEZA 00139 OUTRO 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00140 TROCA OLEO MOTOR 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00141 COMPL OLEO MOTOR 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00142 ADIT OLEO MOTOR 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00143 TR OLEO TRANSMIS 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00144 COMPL OLEO TRANS 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00145 TR OLEO DIFERENC 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00146 COMPL OLEO DIFER 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00147 TROCA OLEO DIREC 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00148 COMPL OLEO DIREC 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00149 TR FLUIDO FREIO 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00150 COMP FLUID FREIO 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00151 TROCA ADIT RAD 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00152 COMPL AD RAD 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00153 ADITIVO COMBUST 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00154 ENGRAXAMENTO 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00155 OUTROS 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00214 ARLA A GRANEL 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00222 OLEO DOIS TEMPOS 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00223 ARLA 20 LTS 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00224 ARLA 10 LTS 15 CENTRAL DE SERV 4 FILTROS 00156 TR FILTRO OLEO 15 CENTRAL DE SERV 4 FILTROS 00157 TROCA FILTRO AR 15 CENTRAL DE SERV 4 FILTROS 00158 TR FILTRO COMB 15 CENTRAL DE SERV 4 FILTROS 00159 OUTROS 15 CENTRAL DE SERV 5 EQUIP ELETRICOS 00160 TROCA BATERIA 15 CENTRAL DE SERV 5 EQUIP ELETRICOS 00161 TROCA CORREIA 15 CENTRAL DE SERV 5 EQUIP ELETRICOS 00162 TROCA LAMPADA 15 CENTRAL DE SERV 5 EQUIP ELETRICOS 00163 TROCA FUSIVEL 15 CENTRAL DE SERV 5 EQUIP ELETRICOS 00164 OUTROS 15 CENTRAL DE SERV 6 EQUIP DIVERSOS 00165 EXTINTOR INCEN 15 CENTRAL DE SERV 6 EQUIP DIVERSOS 00166 TROCA PALHETA 15 CENTRAL DE SERV 6 EQUIP DIVERSOS 00167 CHAVEIRO 15 CENTRAL DE SERV 6 EQUIP DIVERSOS 00168 OUTROS 15 CENTRAL DE SERV 7 BORRACHARIA 00169 TROCA PNEU 15 CENTRAL DE SERV 7 BORRACHARIA 00170 CONSERTO PNEU 15 CENTRAL DE SERV 7 BORRACHARIA 00171 CALIBRAGEM NITRO 15 CENTRAL DE SERV 7 BORRACHARIA 00172 TROCA CAMARA 15 CENTRAL DE SERV 7 BORRACHARIA 00173 CONSERTO CAMARA 15 CENTRAL DE SERV 7 BORRACHARIA 00174 TROCA VALVULA 15 CENTRAL DE SERV 7 BORRACHARIA 00175 CONSERTO DE RODA 15 CENTRAL DE SERV 7 BORRACHARIA 00176 OUTROS 15 CENTRAL DE SERV 8 PECAS E SERVICOS 00177 PECAS E SERVICOS 15 CENTRAL DE SERV 9 HOTEL 00178 DIARIA 15 CENTRAL DE SERV 9 HOTEL 00179 OUTROS 15 CENTRAL DE SERV 10 ESTACIONAMENTO 00180 HORA 15 CENTRAL DE SERV 10 ESTACIONAMENTO 00181 DIARIA 15 CENTRAL DE SERV 10 ESTACIONAMENTO 00182 MENSALIDADE 15 CENTRAL DE SERV 10 ESTACIONAMENTO 00183 OUTROS 15 CENTRAL DE SERV 11 ALMOXARIFADO 00184 ALMOXARIFADO 15 CENTRAL DE SERV 12 OUTROS 00185 OUTROS 15 CENTRAL DE SERV 13 TAXI 00186 TAXI 15 CENTRAL DE SERV 14 ASSISTENCIA 00188 ASSISTENCIA 15 CENTRAL DE SERV 15 LUBRIFICANTES 00189 15W40 15 CENTRAL DE SERV 15 LUBRIFICANTES 00190 85W140 15 CENTRAL DE SERV 15 LUBRIFICANTES 00191 AT 15 CENTRAL DE SERV 15 LUBRIFICANTES 00192 FLUIDO FREIO 15 CENTRAL DE SERV 15 LUBRIFICANTES 00193 FTA 15 CENTRAL DE SERV 15 LUBRIFICANTES 00194 H220S 15 CENTRAL DE SERV 15 LUBRIFICANTES 00195 LUBR VL 15 CENTRAL DE SERV 15 LUBRIFICANTES 00196 M40 15 CENTRAL DE SERV 15 LUBRIFICANTES 00197 PAROIL 15 CENTRAL DE SERV 15 LUBRIFICANTES 00198 S68 15 CENTRAL DE SERV 15 LUBRIFICANTES 00199 S150 15 CENTRAL DE SERV 15 LUBRIFICANTES 00200 S460 15 CENTRAL DE SERV 15 LUBRIFICANTES 00201 SAE80 15 CENTRAL DE SERV 15 LUBRIFICANTES 00202 SAE90 15 CENTRAL DE SERV 15 LUBRIFICANTES 00203 SAE90LS 15 CENTRAL DE SERV 15 LUBRIFICANTES 00204 T68 15 CENTRAL DE SERV 15 LUBRIFICANTES 00205 TC50 15 CENTRAL DE SERV 15 LUBRIFICANTES 00206 WBF100 15 CENTRAL DE SERV 15 LUBRIFICANTES 00207 ADITIVO RADIADOR 15 CENTRAL DE SERV 16 GRAXA 00208 GRAXA 15 CENTRAL DE SERV 17 EMULSSAO 00209 EMULSSAO IMPR 15 CENTRAL DE SERV 17 EMULSSAO 00210 EMULSSAO RR 15 CENTRAL DE SERV 18 CAP 00211 CAP 30 45 15 CENTRAL DE SERV 18 CAP 00212 CAP POL 15 CENTRAL DE SERV 18 CAP 00213 CAP OUTROS 15 CENTRAL DE SERV 19 CENTRAL DE SERV 00215 REBOQUE 15 CENTRAL DE SERV 19 CENTRAL DE SERV 00216 SOCORRO MECANICO 15 CENTRAL DE SERV 19 CENTRAL DE SERV 00217 CHAVEIRO 15 CENTRAL DE SERV 19 CENTRAL DE SERV 00218 TRANSPORTE ALTER 15 CENTRAL DE SERV 19 CENTRAL DE SERV 00219 VEICULO RESERVA 15 CENTRAL DE SERV 19 CENTRAL DE SERV 00220 LEVA E TRAZ 15 CENTRAL DE SERV 19 CENTRAL DE SERV 00221 OUTROS SERVICOS 16 CENTRAL DE SERV 1 COMBUSTIVEL 00101 GASOLINA COMUM 16 CENTRAL DE SERV 1 COMBUSTIVEL 00102 GASOLINA ADITIV 16 CENTRAL DE SERV 1 COMBUSTIVEL 00103 GASOLINA PREMIUM 16 CENTRAL DE SERV 1 COMBUSTIVEL 00104 ETANOL COMUM 16 CENTRAL DE SERV 1 COMBUSTIVEL 00105 ETANOL ADITIVADO 16 CENTRAL DE SERV 1 COMBUSTIVEL 00106 DIESEL COMUM 16 CENTRAL DE SERV 1 COMBUSTIVEL 00107 DIESEL ADITIVADO 16 CENTRAL DE SERV 1 COMBUSTIVEL 00108 GAS NATURAL 16 CENTRAL DE SERV 1 COMBUSTIVEL 00109 BIODIESEL 16 CENTRAL DE SERV 1 COMBUSTIVEL 00110 QUEROSENE 16 CENTRAL DE SERV 1 COMBUSTIVEL 00111 METANOL 16 CENTRAL DE SERV 1 COMBUSTIVEL 00112 DIESEL MARITIMO 16 CENTRAL DE SERV 1 COMBUSTIVEL 00113 DIESEL S50 16 CENTRAL DE SERV 1 COMBUSTIVEL 00114 GLP 16 CENTRAL DE SERV 1 COMBUSTIVEL 00115 DIESEL BS 500 16 CENTRAL DE SERV 1 COMBUSTIVEL 00116 DIESEL S 10 16 CENTRAL DE SERV 2 LIMPEZA 00133 LAVAGEM SIMPLES 16 CENTRAL DE SERV 2 LIMPEZA 00134 LAVAGEM COMPLETA 16 CENTRAL DE SERV 2 LIMPEZA 00135 LAVAGEM ESPECIAL 16 CENTRAL DE SERV 2 LIMPEZA 00136 POLIMENTO CERA 16 CENTRAL DE SERV 2 LIMPEZA 00137 POLIMENTO MASSA 16 CENTRAL DE SERV 2 LIMPEZA 00138 CRISTALIZACAO 16 CENTRAL DE SERV 2 LIMPEZA 00139 OUTRO 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00140 TROCA OLEO MOTOR 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00141 COMPL OLEO MOTOR 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00142 ADIT OLEO MOTOR 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00143 TR OLEO TRANSMIS 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00144 COMPL OLEO TRANS 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00145 TR OLEO DIFERENC 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00146 COMPL OLEO DIFER 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00147 TROCA OLEO DIREC 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00148 COMPL OLEO DIREC 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00149 TR FLUIDO FREIO 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00150 COMP FLUID FREIO 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00151 TROCA ADIT RAD 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00152 COMPL AD RAD 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00153 ADITIVO COMBUST 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00154 ENGRAXAMENTO 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00155 OUTROS 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00214 ARLA A GRANEL 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00222 OLEO DOIS TEMPOS 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00223 ARLA 20 LTS 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00224 ARLA 10 LTS 16 CENTRAL DE SERV 4 FILTROS 00156 TR FILTRO OLEO 16 CENTRAL DE SERV 4 FILTROS 00157 TROCA FILTRO AR 16 CENTRAL DE SERV 4 FILTROS 00158 TR FILTRO COMB 16 CENTRAL DE SERV 4 FILTROS 00159 OUTROS 16 CENTRAL DE SERV 5 EQUIP ELETRICOS 00160 TROCA BATERIA 16 CENTRAL DE SERV 5 EQUIP ELETRICOS 00161 TROCA CORREIA 16 CENTRAL DE SERV 5 EQUIP ELETRICOS 00162 TROCA LAMPADA 16 CENTRAL DE SERV 5 EQUIP ELETRICOS 00163 TROCA FUSIVEL 16 CENTRAL DE SERV 5 EQUIP ELETRICOS 00164 OUTROS 16 CENTRAL DE SERV 6 EQUIP DIVERSOS 00165 EXTINTOR INCEN 16 CENTRAL DE SERV 6 EQUIP DIVERSOS 00166 TROCA PALHETA 16 CENTRAL DE SERV 6 EQUIP DIVERSOS 00167 CHAVEIRO 16 CENTRAL DE SERV 6 EQUIP DIVERSOS 00168 OUTROS 16 CENTRAL DE SERV 7 BORRACHARIA 00169 TROCA PNEU 16 CENTRAL DE SERV 7 BORRACHARIA 00170 CONSERTO PNEU 16 CENTRAL DE SERV 7 BORRACHARIA 00171 CALIBRAGEM NITRO 16 CENTRAL DE SERV 7 BORRACHARIA 00172 TROCA CAMARA 16 CENTRAL DE SERV 7 BORRACHARIA 00173 CONSERTO CAMARA 16 CENTRAL DE SERV 7 BORRACHARIA 00174 TROCA VALVULA 16 CENTRAL DE SERV 7 BORRACHARIA 00175 CONSERTO DE RODA 16 CENTRAL DE SERV 7 BORRACHARIA 00176 OUTROS 16 CENTRAL DE SERV 8 PECAS E SERVICOS 00177 PECAS E SERVICOS 16 CENTRAL DE SERV 9 HOTEL 00178 DIARIA 16 CENTRAL DE SERV 9 HOTEL 00179 OUTROS 16 CENTRAL DE SERV 10 ESTACIONAMENTO 00180 HORA 16 CENTRAL DE SERV 10 ESTACIONAMENTO 00181 DIARIA 16 CENTRAL DE SERV 10 ESTACIONAMENTO 00182 MENSALIDADE 16 CENTRAL DE SERV 10 ESTACIONAMENTO 00183 OUTROS 16 CENTRAL DE SERV 11 ALMOXARIFADO 00184 ALMOXARIFADO 16 CENTRAL DE SERV 12 OUTROS 00185 OUTROS 16 CENTRAL DE SERV 13 TAXI 00186 TAXI 16 CENTRAL DE SERV 14 ASSISTENCIA 00188 ASSISTENCIA 16 CENTRAL DE SERV 15 LUBRIFICANTES 00189 15W40 16 CENTRAL DE SERV 15 LUBRIFICANTES 00190 85W140 16 CENTRAL DE SERV 15 LUBRIFICANTES 00191 AT 16 CENTRAL DE SERV 15 LUBRIFICANTES 00192 FLUIDO FREIO 16 CENTRAL DE SERV 15 LUBRIFICANTES 00193 FTA 16 CENTRAL DE SERV 15 LUBRIFICANTES 00194 H220S 16 CENTRAL DE SERV 15 LUBRIFICANTES 00195 LUBR VL 16 CENTRAL DE SERV 15 LUBRIFICANTES 00196 M40 16 CENTRAL DE SERV 15 LUBRIFICANTES 00197 PAROIL 16 CENTRAL DE SERV 15 LUBRIFICANTES 00198 S68 16 CENTRAL DE SERV 15 LUBRIFICANTES 00199 S150 16 CENTRAL DE SERV 15 LUBRIFICANTES 00200 S460 16 CENTRAL DE SERV 15 LUBRIFICANTES 00201 SAE80 16 CENTRAL DE SERV 15 LUBRIFICANTES 00202 SAE90 16 CENTRAL DE SERV 15 LUBRIFICANTES 00203 SAE90LS 16 CENTRAL DE SERV 15 LUBRIFICANTES 00204 T68 16 CENTRAL DE SERV 15 LUBRIFICANTES 00205 TC50 16 CENTRAL DE SERV 15 LUBRIFICANTES 00206 WBF100 16 CENTRAL DE SERV 15 LUBRIFICANTES 00207 ADITIVO RADIADOR 16 CENTRAL DE SERV 16 GRAXA 00208 GRAXA 16 CENTRAL DE SERV 17 EMULSSAO 00209 EMULSSAO IMPR 16 CENTRAL DE SERV 17 EMULSSAO 00210 EMULSSAO RR 16 CENTRAL DE SERV 18 CAP 00211 CAP 30 45 16 CENTRAL DE SERV 18 CAP 00212 CAP POL 16 CENTRAL DE SERV 18 CAP 00213 CAP OUTROS 16 CENTRAL DE SERV 19 CENTRAL DE SERV 00215 REBOQUE 16 CENTRAL DE SERV 19 CENTRAL DE SERV 00216 SOCORRO MECANICO 16 CENTRAL DE SERV 19 CENTRAL DE SERV 00217 CHAVEIRO 16 CENTRAL DE SERV 19 CENTRAL DE SERV 00218 TRANSPORTE ALTER 16 CENTRAL DE SERV 19 CENTRAL DE SERV 00219 VEICULO RESERVA 16 CENTRAL DE SERV 19 CENTRAL DE SERV 00220 LEVA E TRAZ 16 CENTRAL DE SERV 19 CENTRAL DE SERV 00221 OUTROS SERVICOS"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Credito/","title":"Cr\u00e9dito","text":""},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Credito/#credito","title":"Cr\u00e9dito","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoCartaoCredito(char *pValorTransacao, \n                                             char *pNumeroCupom, \n                                             char *pNumeroControle)\n</code></pre> <p>Se a rede autorizadora permitir e se estiver configurada no Linx TEF a impress\u00e3o de cupom reduzido, al\u00e9m do arquivo acima ser\u00e1 liberado um arquivo com o comprovante reduzido no formato RNNNNNN.PPP, onde NNNNNN \u00e9 o NumeroControle e PPP \u00e9 o n\u00famero do terminal configurado. Assim, o comprovante reduzido dever\u00e1 ser impresso no espa\u00e7o destinado \u00e0 mensagem promocional do cupom fiscal e o comprovante normal continuar\u00e1 a ser impresso no cupom vinculado</p> <p>Os campos est\u00e3o abaixo caracterizados:</p> <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> <p>[ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. O sistema de automa\u00e7\u00e3o deve retornar \u00e0 rotina de recebimento de valores, pois a transa\u00e7\u00e3o solicitada n\u00e3o foi autorizada, n\u00e3o sendo v\u00e1lida como forma de pagamento</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Credito/#credito-completa","title":"Cr\u00e9dito Completa","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoCartaoCreditoCompleta(char *pValorTransacao, char *pNumeroCupom,\n                                                     char *pNumeroControle, char *pTipoOperacao, \n                                                     char *pNumeroParcelas, char *pValorParcela, \n                                                     char *pValorTaxaServico, char *pPermiteAlteracao,\n                                                     char *pReservado)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoCartaoPrivateLabelCompleta(char *pValorTransacao, char *pNumeroCupom,\n                                                          char *pNumeroControle, char *pTipoOperacao, \n                                                          char *pNumeroParcelas, char *pValorEntrada, \n                                                          char *pValorTaxaServico, char *pPermiteAlteracao, \n                                                          char *pReservado)\n</code></pre> <p>Quando a automa\u00e7\u00e3o comercial necessitar de detalhes mais precisos da transa\u00e7\u00e3o, de cart\u00e3o de cr\u00e9dito ou private label, pode ser usada a solicita\u00e7\u00e3o de transa\u00e7\u00e3o com cart\u00e3o de cr\u00e9dito completa e transa\u00e7\u00e3o com cart\u00e3o private label completa, atrav\u00e9s da(s) chamada(s) \u00e0(s) fun\u00e7\u00e3o(\u00f5es) TransacaoCartaoCreditoCompleta e TransacaoCartaoPrivateLabelCompleta. Os par\u00e2metros opcionais destas fun\u00e7\u00f5es s\u00e3o os seguintes:</p> <p>TipoOperacao</p> <p>NumeroParcelas</p> <p>ValorParcela</p> <p>ValorEntrada</p> <p>ValorTaxaServico</p> <p>PermiteAlteracao</p> <p>Reservado</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Credito/#credito-split-completa","title":"Cr\u00e9dito Split Completa","text":"<p>Para realizar uma transa\u00e7\u00e3o de SPLIT Cr\u00e9dito utilizar o m\u00e9todo descrito abaixo. Ele tem a mesma parametriza\u00e7\u00e3o e regra de entrada da transa\u00e7\u00e3o de Cr\u00e9dito Completa, todavia recebe a mais os dados de SPLIT de pagamento.</p> <pre><code>int DIRETIVA_CALLBACK TransacaoCartaoCreditoCompletaSplit(char *pValorTransacao, char *pNumeroCupom,\n                                                          char *pNumeroControle, char *pTipoOperacao, \n                                                          char *pNumeroParcelas, char *pValorParcela, \n                                                          char *pValorTaxaServico, char *pPermiteAlteracao, \n                                                          char *pReservado, char *pQuantidadeItensSplit, \n                                                          char *pItensSplit, char *pQuantidadeRecebedoresSplit, \n                                                          char *pRecebedoresSplit)\n</code></pre> Campo Tamanho Descri\u00e7\u00e3o ValorTransacao 12N 10 inteiros, 2 decimais NumeroCupom 06N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) TipoOperacao 02A \u2022 [ AV ] \u00c0 Vista\u2022 [ FL ] Financiamento Lojista\u2022 [ FA ] Financiamento Administradora NumeroParcelas 02N N\u00famero de parcelas (00 \u2013 99) ValorParcela 12N 10 inteiros, 2 decimais ValorEntrada (somente transacao PrivateLabel) 12N 10 inteiros, 2 decimais ValorTaxaServico 12N 10 inteiros, 2 decimais. PermiteAlteracao 01A \u2022 [ S ] Permite alterar valores informados (exceto ValorTransacao)\u2022 [ N ] N\u00e3o Permite alterar valores informados Reservado 161A [ Especifica\u00e7\u00e3o ]\u2022 [ 1..1 ] Uso restrito. Fixo \u201c0\u201d\u2022 [ 2..4 ] Uso restrito. Fixo \u201c000\u201d\u2022 [ 5..7 ] Plano de pagamento utilizado no PDV\u2022 [ 8..8 ] Valor [ 0 ] indica pagamento com Cart\u00e3o de Cr\u00e9dito;[ 1 ] indica pagamento com Crach\u00e1. [ 3 ] indica pagamento com cart\u00e3o Qualidade [ 4 ] indica pagamento com cart\u00e3o MettaCard\u2022 [ 9..9 ] Flag indicando se h\u00e1 dados de cart\u00e3o (Crach\u00e1) [ 0 ]N\u00e3o [ 1 ]Sim[10] Op\u00e7\u00e3o para Pagamento de fatura \u2022 0 -&gt; Indica que n\u00e3o \u00e9 pagamento de fatura \u2022 1 -&gt; C\u00f3digo de Barras digitado \u2022 2 -&gt; C\u00f3digo de Barras lido \u00f3ticamente\u2022 3 -&gt; CPF (11 caracteres)\u2022 4 -&gt; Cart\u00e3o (n\u00e3o deve passar o n\u00famero do cart\u00e3o, colocar tamanho dos dados zerado)\u2022 5 -&gt; Outros(at\u00e9 40 caracteres)\u2022 [11..12] Tamanho dos dados da op\u00e7\u00e3o de pagamento de fatura\u2022 [13..59] Dados do pagamento de fatura\u2022 [60..126] Uso restrito.\u2022 [ 127..138 ] Valor da taxa de embarque\u2022 [ 139..139 ] Tipo de Venda (0-Normal; 1-Promocional)\u2022 [ 140..140 ] Indicativo de parametriza\u00e7\u00e3o para CPF E COD funcionario para br premia (0-N\u00e3o; 1-Sim)\u2022 [ 141..143 ] C\u00f3digo Funcionario BRPREMIA\u2022 [ 144..154 ] CPF Cliente\u2022 [ 155..156 ] Quantidade de ciclos a pular\u2022 [157..161] C\u00f3digo da tabela dos planos CDC[Especifica\u00e7\u00e3o do Retorno]C\u00f3digos poss\u00edveis:\u2022 [ 01 ] Dados Correspondente Banc\u00e1rio\u2022 [ 02 ] Dados Correspondente Banc\u00e1rio\u2022 [ 03 ] Dados Correspondente Banc\u00e1rio\u2022 [ 04 ] Dados Correspondente Banc\u00e1rio\u2022 [ 05 ] Dados Venda Crach\u00e1\u2022 [ 06 ] Dados Correspondente Banc\u00e1rio\u2022 [ 07 ] Dados Correspondente Banc\u00e1rio\u2022 [ Especifica\u00e7\u00e3o dos Dados Venda Crach\u00e1 ]\u2022 [ 01..09 ] CodigoAutorizacao\u2022 [ 10..59 ] NomeFuncionario\u2022 [ 60..71 ] ValorDesconto\u2022 [ 72..76 ] PercentualDesconto QuantidadeItensSplit(opcional, utilizar 0 caso n\u00e3o tenha itens) 03N 3 inteiros, informando a quantidade de itens enviados. ItensSplit Clique aqui para visualizar a tabela Quantidade Recebedores Split 03N 3 inteiros, informando a quantidade de recebedores enviados RecebedoresSplit Clique aqui para visualizar a tabela Status 02I \u2022 [ 00 ] Transa\u00e7\u00e3o autorizada\u2022 [ 11 ] Transa\u00e7\u00e3o n\u00e3o efetuada <p>ItensSplit</p> Campo Tamanho Descri\u00e7\u00e3o Valor 12N 10 inteiros, 2 decimais Descri\u00e7\u00e3o 20A 20 caracteres (com espa\u00e7os a direita) Quantidade 05N Quantidade vendida do item informado, 5 Inteiros C\u00f3digo 13A C\u00f3digo do produto, 13 caracteres. <p>RecebedoresSplit</p> Campo Tamanho Descri\u00e7\u00e3o Valor 12N 10 inteiros, 2 decimais CNPJ 14N 14 inteiros Tipo* 01N [0] Valor Bruto [1] Porcentagem <p>* O tipo bruto indica que o dado informado no campo \"Valor\" da mesma estrutura representa o valor real que o CNPJ receber\u00e1, e o tipo porcentagem indica que o dado informado para aquele CNPJ \u00e9 um valor percentual, portando, o CNPJ receber\u00e1 x% do valor total.</p> <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> <p>[ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. O sistema de automa\u00e7\u00e3o deve retornar \u00e0 rotina de recebimento de valores, pois a transa\u00e7\u00e3o solicitada n\u00e3o foi autorizada, n\u00e3o sendo v\u00e1lida como forma de pagamento.</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Credito/#confirmacao-credito","title":"Confirma\u00e7\u00e3o Cr\u00e9dito","text":"<pre><code>int DIRETIVA_CALLBACK ConfirmaCartaoCredito(char *pNumeroControle)\n</code></pre> <p>A confirma\u00e7\u00e3o de transa\u00e7\u00e3o com cart\u00e3o de cr\u00e9dito \u00e9 realizada atrav\u00e9s da chamada a fun\u00e7\u00e3o ConfirmaCartaoCredito.</p> <p>Na resposta da chamada \u00e0 fun\u00e7\u00e3o ser\u00e1 devolvido o , indicando o resultado da transa\u00e7\u00e3o.</p> <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> Campo Tamanho Descri\u00e7\u00e3o NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) 02I [ 00 ] Confirma\u00e7\u00e3o aceita[ 11 ] Confirma\u00e7\u00e3o N\u00c3O aceita <p>[ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. Cabe ao sistema de automa\u00e7\u00e3o decidir a a\u00e7\u00e3o a ser tomada. A forma de pagamento deve ter sido aceita como v\u00e1lida, pelo sistema de automa\u00e7\u00e3o, por\u00e9m a transa\u00e7\u00e3o n\u00e3o ser\u00e1 confirmada com a institui\u00e7\u00e3o financeira.</p> <p>Fluxo de Confirmacao e Desfazimento</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Debito/","title":"D\u00e9bito","text":""},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Debito/#debito","title":"D\u00e9bito","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoCartaoDebito(char *pValorTransacao, \n                                            char *pNumeroCupom, char *pNumeroControle)\n</code></pre> <ul> <li>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</li> <li>[ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. O sistema de automa\u00e7\u00e3o deve retornar \u00e0 rotina de recebimento de valores, pois a transa\u00e7\u00e3o solicitada n\u00e3o foi autorizada, n\u00e3o sendo v\u00e1lida como forma de pagamento.</li> </ul>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Debito/#debito-completa","title":"D\u00e9bito Completa","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoCartaoDebitoCompleta(char *pValorTransacao, char *pNumeroCupom, \n                                                    char *pNumeroControle, char *pTipoOperacao, \n                                                    char *pNumeroParcelas, char *pSequenciaParcela, \n                                                    char *pDataDebito, char *pValorParcela, \n                                                    char *pValorTaxaServico, char *pPermiteAlteracao, \n                                                    char *pReservado)\n</code></pre> <p>Quando a automa\u00e7\u00e3o comercial necessitar de detalhes mais precisos da transa\u00e7\u00e3o, de cart\u00e3o de d\u00e9bito, pode ser usada a solicita\u00e7\u00e3o de transa\u00e7\u00e3o com cart\u00e3o de d\u00e9bito completa, atrav\u00e9s da chamada \u00e0 fun\u00e7\u00e3o TransacaoCartaoDebitoCompleta. Os par\u00e2metros opcionais dessa fun\u00e7\u00e3o s\u00e3o os seguintes:</p> <p>TipoOperacao</p> <p>NumeroParcelas</p> <p>SequenciaParcela</p> <p>DataDebito</p> <p>ValorParcela</p> <p>ValorTaxaServico</p> <p>PermiteAlteracao</p> <p>Reservado</p> <p>Nas transa\u00e7\u00f5es de d\u00e9bito parcelado, \u00e9 poss\u00edvel se especificar o valor e a data de cada parcela. Neste caso, a fun\u00e7\u00e3o deve ser chamada tantas vezes quantas for o n\u00famero de parcelas. Em cada uma dessas chamadas, o par\u00e2metro SequenciaParcela dever\u00e1 indicar o n\u00famero da parcela em quest\u00e3o. Numa outra situa\u00e7\u00e3o, se os valores das parcelas n\u00e3o forem especificados, dever\u00e1 ser passado o valor \u201c00\u201d no par\u00e2metro SequenciaParcela, indicando que os valores e as datas das parcelas ser\u00e3o calculados automaticamente pela rede autorizadora.</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Debito/#debito-completa-split","title":"D\u00e9bito Completa Split","text":"<p>Para realizar uma transa\u00e7\u00e3o de Split D\u00e9bito utilizar o m\u00e9todo descrito abaixo. Ele tem a mesma parametriza\u00e7\u00e3o e regra de entrada da transa\u00e7\u00e3o de D\u00e9bito Completa, todavia recebe a mais os dados de Split de pagamento.</p> <pre><code>int DIRETIVA_CALLBACK TransacaoCartaoDebitoCompletaSplit(char *pValorTransacao, char *pNumeroCupom, \n                                                         char *pNumeroControle, char *pTipoOperacao, \n                                                         char *pNumeroParcelas, char *pSequenciaParcela, \n                                                         char *pDataDebito, char *pValorParcela,\n                                                         char *pValorTaxaServico, char *pPermiteAlteracao, \n                                                         char *pReservado, char *pQuantidadeItensSplit, \n                                                         char *pItensSplit, char *pQuantidadeRecebedoresSplit, \n                                                         char *pRecebedoresSplit)\n</code></pre> <p>Os campos est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o ValorTransacao 12N 10 inteiros, 2 decimais NumeroCupom 06N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) TipoOperacao 02A \u2022 [ AV ] \u00c0 Vista \u2022 [ PS ] Parcelada (sem juros) \u2022 [ PC ] Parcelada (com juros)\u2022 [ PD ] Pr\u00e9-datada\u2022 [ PE ] Parcelado  com entrada\u2022 [ PM ] Parcelado sem entrada NumeroParcelas 02N N\u00famero de parcelas (00 \u2013 99) SequenciaParcela 02N N\u00famero da parcela DataDebito 08N &lt;ddmmaaaa&gt; Data da parcela (transa\u00e7\u00e3o parcelada) ou Datade d\u00e9bito (transa\u00e7\u00e3o pr\u00e9-datada) ValorParcela 12N 10 inteiros, 2 decimais. Se o campo TipoOpera\u00e7\u00e3o for [ PE ] e o campo SequenciaParcela for igual a 1, este valor corresponder\u00e1 ao valor de entrada. ValorTaxaServico 12N 10 inteiros, 2 decimais PermiteAlteracao 01A \u2022 [ S ] Permite alterar valores informados (exceto ValorTransacao)\u2022 [ N ] N\u00e3o Permite alterar valores informados Reservado 148A [ Especifica\u00e7\u00e3o ]\u2022 [ 1..1 ] Uso restrito. Fixo \u201c0\u201d\u2022 [ 2..4 ] Uso restrito. Fixo \u201c000\u201d\u2022 [ 5..5 ] [ 0 ] Sem Garantia [ 1 ] Com Garantia\u2022 [ 6..17 ] Valor da taxa de embarque\u2022 [ 18..29 ] Valor do saque\u2022 [ 30..30 ] [ 3 ] indica pagamento com cart\u00e3o Qualidade [ 4 ]indica pagamento com cart\u00e3o MettaCard\u2022 [ 31..70 ] Descri\u00e7\u00e3o do produto (somente para transa\u00e7\u00f5es Cielo). Para transa\u00e7\u00f5es de Pagamento de fatura informar os valores \"0079,0763,0764,\" e preencher valores n\u00e3o utilizados com 0 ou espa\u00e7os em branco.\u2022 [71] Op\u00e7\u00e3o para pagamento de faturaC\u00f3digos poss\u00edveis para a adquirente Getnetlac e Safra:\u2022 0 -&gt; Indica que n\u00e3o \u00e9 pagamento de fatura\u2022 1 -&gt; Indica que \u00e9 um pagamento de faturaC\u00f3digos poss\u00edveis para a adquirente REDE:\u2022 0 -&gt; Indica que n\u00e3o \u00e9 pagamento de fatura\u2022 1 -&gt; C\u00f3digo de Barras digitado\u2022 2 -&gt; C\u00f3digo de Barras lido \u00f3ticamente\u2022 3 -&gt; CPF (11 caracteres)\u2022 4 -&gt; Cart\u00e3o (n\u00e3o deve passar o n\u00famero do cart\u00e3o, colocar tamanho dos dados zerado)\u2022 5 -&gt; Outros(at\u00e9 40 caracteres)Os bytes de 72 a 120 somente ser\u00e3o processados enecessarios para a adquirente REDE:\u2022 [72..73]Tamanho dos dados da op\u00e7\u00e3o de pagamento de fatura\u2022 [74..120] Dados de pagamento de fatura\u2022 [121..121] Indicativo de parametriza\u00e7\u00e3o para CPF E COD funcionario para br premia (0-N\u00e3o; 1-Sim)\u2022 [122..124] C\u00f3digo Funcionario BRPREMIA\u2022 [125..135] CPF Cliente[Especifica\u00e7\u00e3o do Retorno] C\u00f3digos poss\u00edveis:\u2022 [ 01 ] Uso restrito\u2022 [ 02 ] Uso restrito\u2022 [ 03 ] Uso restrito\u2022 [ 04 ] Uso restrito\u2022 [ 05 ] Reservado\u2022 [ 06 ] Dados Correspondente Banc\u00e1rio\u2022 [ 07 ] Dados Correspondente Banc\u00e1rio QuantidadeItensSplit(opcional, utilizar 0 caso n\u00e3o tenha itens) 03N 3 inteiros, informando a quantidade de itens enviados. ItensSplit Clique aqui para visualizar a tabela Quantidade Recebedores Split 03N 3 inteiros, informando a quantidade de recebedores enviados RecebedoresSplit Clique aqui para visualizar a tabela Status 02I \u2022 [ 00 ] Transa\u00e7\u00e3o autorizada\u2022 [ 11 ] Transa\u00e7\u00e3o n\u00e3o efetuada <p>ItensSplit</p> Campo Tamanho Descri\u00e7\u00e3o Valor 12N 10 inteiros, 2 decimais Descri\u00e7\u00e3o 20A 20 caracteres (com espa\u00e7os a direita) Quantidade 5N Quantidade vendida do item informado, 5 Inteiros C\u00f3digo 13A C\u00f3digo do produto, 13 caracteres. <p>RecebedoresSplit</p> Campo Tamanho Descri\u00e7\u00e3o Valor 12N 10 inteiros, 2 decimais CNPJ 14N 14 inteiros Tipo 01N [0] Valor Bruto [1] Porcentagem <p>* O tipo bruto indica que o dado informado no campo \"Valor\" da mesma estrutura representa o valor real que o CNPJ receber\u00e1, e o tipo porcentagem indica que o dado informado para aquele CNPJ \u00e9 um valor percentual, portando, o CNPJ receber\u00e1 x% do valor total.</p> <p>Status [ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> <p>Status [ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. O sistema de automa\u00e7\u00e3o deve retornar \u00e0 rotina de recebimento de valores, pois a transa\u00e7\u00e3o solicitada n\u00e3o foi autorizada, n\u00e3o sendo v\u00e1lida como forma de pagamento.</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Debito/#confirmacao-debito","title":"Confirma\u00e7\u00e3o D\u00e9bito","text":"<pre><code>int DIRETIVA_CALLBACK ConfirmaCartaoDebito(char *pNumeroControle)\n</code></pre> <p>A confirma\u00e7\u00e3o de transa\u00e7\u00e3o com cart\u00e3o de d\u00e9bito \u00e9 realizada atrav\u00e9s da chamada \u00e0s fun\u00e7\u00f5es ConfirmaCartaoDebito.</p> <p>Na resposta da chamada \u00e0 fun\u00e7\u00e3o ser\u00e1 devolvido o, indicando o resultado da transa\u00e7\u00e3o.</p> <p>Os campos est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) 02I [ 00 ] Confirma\u00e7\u00e3o aceita[ 11 ] Confirma\u00e7\u00e3o N\u00c3O aceita <p>Fluxo de Confirmacao e Desfazimento</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/FinalizacaoVendaouRecebimento/","title":"Finaliza\u00e7\u00e3o de Venda ou Recebimento","text":""},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/FinalizacaoVendaouRecebimento/#finalizacao-de-venda-ou-recebimento","title":"Finaliza\u00e7\u00e3o de Venda ou Recebimento","text":"<pre><code>int DIRETIVA_CALLBACK FinalizaTransacao()\n</code></pre> <p>A finaliza\u00e7\u00e3o da opera\u00e7\u00e3o de venda ou de recebimento \u00e9 realizada atrav\u00e9s da chamada \u00e0 fun\u00e7\u00e3o FinalizaTransacao. Na resposta da chamada \u00e0 fun\u00e7\u00e3o ser\u00e1 devolvido o , indicando o resultado da transa\u00e7\u00e3o. O funcionamento desta opera\u00e7\u00e3o depende do modo de desfazimento configurado atrav\u00e9s da fun\u00e7\u00e3o ConfiguraModoDesfazimento. Caso o modo de desfazimento n\u00e3o seja definido, o client assume o modo antigo de opera\u00e7\u00e3o, ou seja, vai realizar o desfazimento das transa\u00e7\u00f5es n\u00e3o confirmadas. Se for definido o modo expl\u00edcito as transa\u00e7\u00f5es ser\u00e3o desfeitas somente se for chamada a fun\u00e7\u00e3o DesfazCartao.</p> <p>O campo est\u00e1 abaixo caracterizado.</p> Campo Tamanho Descri\u00e7\u00e3o 02I \u2022 [ 00 ]  Finaliza\u00e7\u00e3o completada com sucesso\u2022 [ 11 ] Finaliza\u00e7\u00e3o N\u00c3O completada com sucesso <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> <p>[ 11 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o,, por\u00e9m o processo de confirma\u00e7\u00e3o da transa\u00e7\u00e3o junto \u00e0 institui\u00e7\u00e3o financeira apresentou falha. Neste caso, a transa\u00e7\u00e3o ficar\u00e1 pendente e dever\u00e1 ser tratada por meio da aplica\u00e7\u00e3o de procedimentos administrativos.</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/LogUltimaTransacao/","title":"LOG da \u00daltima Transa\u00e7\u00e3o","text":""},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/LogUltimaTransacao/#log-da-ultima-transacao","title":"LOG da \u00daltima Transa\u00e7\u00e3o","text":"<p>procedure ObtemLogUltimaTransacao(pLogUltimaTransacao: Pchar);</p> <p>A fun\u00e7\u00e3o ObtemLogUltimaTransacao retorna informa\u00e7\u00f5es sobre a \u00faltima realizada com sucesso. Estas informa\u00e7\u00f5es s\u00e3o \u00fateis caso seja necess\u00e1rio \u00e0 automa\u00e7\u00e3o comercial registrar dados da opera\u00e7\u00e3o que tenham sido introduzidos durante a transa\u00e7\u00e3o com o Linx TEF .</p> <p>O formato dos dados de retorno corresponde ao formato do log das transa\u00e7\u00f5es. O registro \u00e9 fixo e cont\u00e9m 257 bytes, o que exigir\u00e1 portanto a aloca\u00e7\u00e3o de no m\u00ednimo esse tamanho para a \u00e1rea apontada pelo par\u00e2metro pLogUltimaTransacao na chamada da fun\u00e7\u00e3o.</p> <p>A estrutura dos logs das opera\u00e7\u00f5es \u00e9 apresentada na se\u00e7\u00e3o LOG da \u00daltima Transa\u00e7\u00e3o.</p> <p>Caso seja necess\u00e1rio, poder\u00e1 ser passado como par\u00e2metro o valor \u201cLOGESTENDIDO\u201d e neste caso ser\u00e3o retornadas informa\u00e7\u00f5es adicionais da transa\u00e7\u00e3o. O formato do registro \u00e9 o LOG ESTENDIDO.</p> <p>Observa\u00e7\u00e3o : esta fun\u00e7\u00e3o n\u00e3o retorna os dados referentes \u00e0s transa\u00e7\u00f5es de tele-marketing. Para a(s) transa\u00e7\u00e3o(\u00f5es) de tele-marketing deve-se utilizar fun\u00e7\u00e3o espec\u00edfica ou ler diretamente o arquivo \u201cDPOSddmmaaaa.PDV\u201d.</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/LogUltimaTransacaoTeleMarketing/","title":"LOG da \u00daltima Transa\u00e7\u00e3o Tele-Marketing","text":""},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/LogUltimaTransacaoTeleMarketing/#log-da-ultima-transacao-tele-marketing","title":"LOG da \u00daltima Transa\u00e7\u00e3o Tele-Marketing","text":"<p>procedure ObtemLogUltimaTransacaoTeleMarketing (pNumeroPDV, pLogUltimaTransacao: Pchar);</p> <p>procedure ObtemLogUltimaTransacaoTeleMarketingMultiLoja (pNumeroEmpresa, pNumeroLoja, pNumeroPDV, pLogUltimaTransacao: Pchar);</p> <p>A fun\u00e7\u00e3o ObtemLogUltimaTransacaoTeleMarketing retorna informa\u00e7\u00f5es sobre a \u00faltima transa\u00e7\u00e3o de tele-marketing realizada com sucesso. Estas informa\u00e7\u00f5es s\u00e3o \u00fateis caso seja necess\u00e1rio registrar dados da opera\u00e7\u00e3o que tenham sido introduzidos durante a transa\u00e7\u00e3o com o Linx TEF .</p> <p>O formato dos dados de retorno corresponde ao formato do log das transa\u00e7\u00f5es. O registro \u00e9 fixo e cont\u00e9m 257 bytes, o que exigir\u00e1 portanto a aloca\u00e7\u00e3o de no m\u00ednimo esse tamanho para a \u00e1rea apontada pelo par\u00e2metro pLogUltimaTransacao na chamada da fun\u00e7\u00e3o.</p> <p>O par\u00e2metro pNumeroPDV indica o n\u00famero do terminal que solicitou a transa\u00e7\u00e3o. Caso o Paykit n\u00e3o esteja parametrizado para gerar log por terminal (default), todas as transa\u00e7\u00f5es de tele-marketing ser\u00e3o armazenadas em um arquivo espec\u00edfico denominado \u201cDPOSddmmaaaa.PDV\u201d. Neste caso, deve-se passar \u201c000\u201d no n\u00famero do PDV para que a fun\u00e7\u00e3o retorne os dados corretamente.</p> <p>A estrutura dos logs das opera\u00e7\u00f5es \u00e9 apresentada na se\u00e7\u00e3o LOG da \u00daltima Transa\u00e7\u00e3o.</p> <p>Caso seja necess\u00e1rio, poder\u00e1 ser passado no par\u00e2metro pLogUltimaTransacao o valor \u201cLOGESTENDIDO\u201d e neste caso ser\u00e3o retornadas informa\u00e7\u00f5es adicionais da transa\u00e7\u00e3o. O formato do registro \u00e9 o LOG ESTENDIDO.</p> <p>Observa\u00e7\u00e3o : para transa\u00e7\u00f5es de telemarketing em ambientes com m\u00faltiplas threads simult\u00e2neas, dever\u00e1 ser utilizada a DLL DPOSDRVTM.DLL.</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/QRCode/","title":"QR Code","text":""},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/QRCode/#qr-code","title":"QR Code","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoQRCode(char *pValorTransacao, char *pNumeroCupom, \n                                      char *pNumeroControle, char *pReservado)\n</code></pre> <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> <p>[ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. O sistema de automa\u00e7\u00e3o deve retornar \u00e0 rotina de recebimento de valores, pois a transa\u00e7\u00e3o solicitada n\u00e3o foi autorizada, n\u00e3o sendo v\u00e1lida como forma de pagamento.</p> <p>Fluxo de Confirmacao e Desfazimento</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Voucher/","title":"Voucher","text":""},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Voucher/#voucher","title":"Voucher","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoCartaoVoucher(char *pValorTransacao, char *pNumeroCupom, \n                                             char *pNumeroControle)\n</code></pre> <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. [ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. O sistema de automa\u00e7\u00e3o deve retornar \u00e0 rotina de recebimento de valores, pois a transa\u00e7\u00e3o solicitada n\u00e3o foi autorizada, n\u00e3o sendo v\u00e1lida como forma de pagamento.</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Voucher/#voucher-completa","title":"Voucher Completa","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoCartaoVoucherCompleta(char *pValorTransacao, char *pNumeroCupom, \n                                                     char *pNumeroControle, char *pReservado)\n</code></pre> <p>Quando a automa\u00e7\u00e3o comercial necessitar de detalhes mais precisos da transa\u00e7\u00e3o, de cart\u00e3o Voucher, pode ser usada a solicita\u00e7\u00e3o de transa\u00e7\u00e3o com cart\u00e3o Voucher, atrav\u00e9s da chamada \u00e0 fun\u00e7\u00e3o TransacaoCartaoVoucherCompleta. Os par\u00e2metros opcionais dessa fun\u00e7\u00e3o s\u00e3o os seguintes:</p> <p>Reservado (*)</p> <p>Os campos est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o ValorTransacao 12N \u2022 10 inteiros, 2 decimais NumeroCupom 06N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) Reservado 187A Especifica\u00e7\u00e3o\u2022 1..1 S aceita pagamento parcial com saldo que resta no cart\u00e3o N n\u00e3o aceita pagamento parcial 02I [ 00 ] Transa\u00e7\u00e3oautorizada[ 11 ] Transa\u00e7\u00e3o n\u00e3o efetuada <p>[00] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> <p>[11] indica que existiramrestri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. O sistema deautoma\u00e7\u00e3o deve retornar \u00e0 rotina de recebimento de valores,pois a transa\u00e7\u00e3o solicitada n\u00e3o foi autorizada, n\u00e3o sendov\u00e1lida como forma de pagamento.</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Voucher/#confirmacao-voucher","title":"Confirma\u00e7\u00e3o Voucher","text":"<pre><code>int DIRETIVA_CALLBACK ConfirmaCartaoVoucher(char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoConfirmacaoPreAutorizacao(char *pNumeroControle)\n</code></pre> <p>A confirma\u00e7\u00e3o de transa\u00e7\u00e3o com cart\u00e3o de voucher \u00e9 realizada atrav\u00e9s da chamada a fun\u00e7\u00e3o ConfirmaCartaoVoucher.</p> <p>Na resposta da chamada \u00e0 fun\u00e7\u00e3o ser\u00e1 devolvido o , indicando o resultado da transa\u00e7\u00e3o.</p> <p>Os campos est\u00e3o abaixo caracterizados.</p> <p>[00] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> Campo Tamanho Descri\u00e7\u00e3o NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) 02I [ 00 ] Confirma\u00e7\u00e3o aceita[ 11 ] Confirma\u00e7\u00e3o N\u00c3O aceita <p>[11] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. Cabe ao sistema de automa\u00e7\u00e3o decidir a a\u00e7\u00e3o a ser tomada. A forma de pagamento deve ter sido aceita como v\u00e1lida, pelo sistema de automa\u00e7\u00e3o, por\u00e9m a transa\u00e7\u00e3o n\u00e3o ser\u00e1 confirmada com a institui\u00e7\u00e3o financeira.</p> <p>Fluxo de Confirmacao e Desfazimento</p>"},{"location":"pages/ModelosDeIntegracao/IntegracaoAPIDesktop/","title":"Integra\u00e7\u00e3o API Desktop","text":""},{"location":"pages/ModelosDeIntegracao/IntegracaoAPIDesktop/#integracao-api-desktop","title":"Integra\u00e7\u00e3o API Desktop","text":"<p>Nessa se\u00e7\u00e3o ser\u00e1 descrito os modelos de integra\u00e7\u00e3o disponiveis para o formato API Desktop, ou seja, para consumo de uma biblioteca compartilhada (.DLL Windows e .so Linux)</p>"},{"location":"pages/ModelosDeIntegracao/IntegracaoAPIDesktop/#windows-linux","title":"Windows &amp; Linux","text":"<p>Uma das formas de integra\u00e7\u00e3o da automa\u00e7\u00e3o comercial com o TEF da Linx \u00e9 por meio de biblioteca de fun\u00e7\u00f5es (DPOSDRV.DLL para Windows ou libDPOSDRV.so para Linux). Esta biblioteca oferece fun\u00e7\u00f5es  que a automa\u00e7\u00e3o utiliza, enviando par\u00e2metros da automa\u00e7\u00e3o e retornando os resultados na pr\u00f3pria chamada  dessas fun\u00e7\u00f5es. As fun\u00e7\u00f5es dispon\u00edveis na vers\u00e3o Linux s\u00e3o equivalentes \u00e0s da vers\u00e3o Windows. Na  se\u00e7\u00e3o \u201cEXEMPLOS DE INTEGRA\u00c7\u00c3O\u201d s\u00e3o apresentadas formas de integra\u00e7\u00e3o em diversas linguagens de programa\u00e7\u00e3o.</p> <p>As fun\u00e7\u00f5es da biblioteca s\u00e3o exportadas conforme diretiva de callback, o que a torna poss\u00edvel  de ser utilizada por sistemas desenvolvidos em qualquer linguagem ou ambiente de programa\u00e7\u00e3o,  como Delphi, Visual Basic e Visual C++, entre outros.</p> <p>Recomenda\u00e7\u00e3o: a DPOSDRV preferencialmente deve ser carregada no startup da AC e somente  descarregada ao finalizar a Automa\u00e7\u00e3o Comercial a fim de melhorar a performance do sistema.</p>"},{"location":"pages/ModelosDeIntegracao/IntegracaoAPIDesktop/#terminal-service-somente-windows","title":"Terminal Service (somente Windows)","text":"<p>Esse tipo de instala\u00e7\u00e3o visa atender clientes que necessitam trabalhar com o paykit de modo compartilhado, ou seja, uma \u00fanica m\u00e1quina f\u00edsica executando mais de um PDV, o que normalmente ocorre em m\u00e1quinas utilizadas  em modo Terminal Service.</p> <p> </p> Diagrama de arquitetura"},{"location":"pages/ModelosDeIntegracao/IntegracaoAPIDesktop/#descricao-funcional","title":"Descri\u00e7\u00e3o Funcional","text":""},{"location":"pages/ModelosDeIntegracao/IntegracaoAPIDesktop/#componentes","title":"Componentes","text":"<p>Ao instalar o client em modo compartilhado, ser\u00e1 criada apenas uma instala\u00e7\u00e3o que ser\u00e1 utilizada por todos  os pdvs ao mesmo tempo. Isso significa que todos os pdvs carregar\u00e3o o client do mesmo local e apenas os  diret\u00f3rios e arquivos relativos exclusivamente a um pdv ser\u00e1 replicado para cada um dos pdvs.</p> <p>Para isso, al\u00e9m dos diret\u00f3rios padr\u00e3o ser\u00e1 criado um diret\u00f3rio chamado \u201cDadosAmbiente\u201d. Dentro desse diret\u00f3rio os dados estar\u00e3o organizados seguindo a estrutura \u201cEMP\\LOJA\\PDV.  Dentro do diret\u00f3rio de dados de cada pdv ser\u00e3o encontrados os diret\u00f3rios Bin, Cupons e Interno com os dados  relativos aquele pdv. <p>Dentro do diret\u00f3rio Bin ser\u00e3o encontrados os arquivos de tabelas bem como o arquivo de configura\u00e7\u00e3o clientdados.ini.  J\u00e1 os comprovantes das transa\u00e7\u00f5es realizadas com aquele pdv ficar\u00e3o armazenados no diret\u00f3rio Cupons e os logs  dentro do diret\u00f3rio Interno.</p> <p>Dentro da pasta Bin do diret\u00f3rio raiz de instala\u00e7\u00e3o do client ser\u00e1 criado o arquivo \u201cclientcomaprtilhado.cfg\u201d .Esse arquivo indica que essa \u00e9 uma instala\u00e7\u00e3o compartilhada e conter\u00e1 dados que ser\u00e3o utilizados para a  configura\u00e7\u00e3o de cada um dos pdvs posteriormente e, portanto, n\u00e3o dever\u00e1 ser deletado.</p>"},{"location":"pages/ModelosDeIntegracao/IntegracaoAPIDesktop/#configuracao","title":"Configura\u00e7\u00e3o","text":"<p>Para cada um dos pdvs que ser\u00e3o utilizados simultaneamente, dever\u00e1 ser criado um usu\u00e1rio do windows  correspondente, j\u00e1 que para que a instala\u00e7\u00e3o compartilhada funcione corretamente, cada usu\u00e1rio do windows s\u00f3  poder\u00e1 executar um pdv por vez. Para configurar um pdv para um usu\u00e1rio, a automa\u00e7\u00e3o dever\u00e1 carregar o m\u00f3dulo  de integra\u00e7\u00e3o \u201cDPOSDRV.DLL\u201d e executar os seguintes m\u00e9todos:</p> <p>(1) EmpresaLojaPDV</p> <p>(2) CNPJEstabelecimento</p> <p>(3) BuscaCertificado</p> <p>(4) ConfiguraComunicacaoDTEF</p> <p>Caso o servidor TEF seja o mesmo utilizado na instala\u00e7\u00e3o inicial, a configura\u00e7\u00e3o estar\u00e1 conclu\u00edda. Caso seja  necess\u00e1rio utilizar outro servidor TEF, o m\u00e9todo (4) ConfiguraComunicacaoDTEF dever\u00e1 ser executado.</p> <p>Ao final do procedimento, ser\u00e3o criados os diret\u00f3rios relativos a esse pdv dentro do diret\u00f3rio \u201cDadosAmbiente\u201d  bem como o arquivo \u201cclientuser.ini\u201d dentro do diret\u00f3rio home daquele usu\u00e1rio.</p>"},{"location":"pages/ModelosDeIntegracao/IntegracaoAPIDesktop/#uso","title":"Uso","text":"<p>Ap\u00f3s a cria\u00e7\u00e3o dos usu\u00e1rios e a realiza\u00e7\u00e3o dos procedimentos de configura\u00e7\u00e3o, o client estar\u00e1 pronto para uso. Para isso, cada um dos usu\u00e1rios dever\u00e1 fazer login no servidor TS com as suas credenciais e executar a automa\u00e7\u00e3o  normalmente. Cada inst\u00e2ncia da automa\u00e7\u00e3o dever\u00e1 carregar o m\u00f3dulo de integra\u00e7\u00e3o \u201cDPOSDRV.dll\u201d e iniciar o fluxo  das transa\u00e7\u00f5es. O carregamento do m\u00f3dulo ficar\u00e1 atrelado ao processo e n\u00e3o ter\u00e1 impacto no fluxo dos outros  usu\u00e1rios.</p> <p>Se durante a sess\u00e3o o usu\u00e1rio executar os m\u00e9todos de configura\u00e7\u00e3o para trocar os dados de loja/pdv utilizados, o  arquivo de configura\u00e7\u00e3o ser\u00e1 atualizado e o client passar\u00e1 a salvar os dados das transa\u00e7\u00f5es nos diret\u00f3rios  relativos a nova loja/pdv configurada.</p>"},{"location":"pages/ModelosDeIntegracao/IntegracaoAPIDesktop/#aplicacoes-afetadas","title":"Aplica\u00e7\u00f5es afetadas","text":"<p>Al\u00e9m do client, a ferramenta de configura\u00e7\u00e3o (DPOSConfig) foi atualizada e est\u00e1 preparada para ser utilizada  com a instala\u00e7\u00e3o compartilhada. Ao configurar um pdv utilizando o DPOSConfig, o mesmo fluxo de configura\u00e7\u00e3o  ser\u00e1 executado, com a cria\u00e7\u00e3o dos mesmos diret\u00f3rios e arquivos de configura\u00e7\u00e3o realizados na configura\u00e7\u00e3o  atrav\u00e9s dos m\u00e9todos dispon\u00edveis na \u201cDPOSDRV.DLL\u201d.</p>"},{"location":"pages/ModelosDeIntegracao/IntegracaoAPIDesktop/#pre-requisitos","title":"Pr\u00e9-requisitos","text":"<p>Para que a automa\u00e7\u00e3o (AC) consiga integrar com o client TEF no formato compartilhado \u00e9 necess\u00e1rio seguir  alguns requisitos t\u00e9cnicos.</p> <ol> <li>A feature do Client Compartilhado foi desenvolvida para aplica\u00e7\u00f5es Windows, por isso a automa\u00e7\u00e3o necessita ser Windows e tamb\u00e9m precisa ser x32 bits.</li> <li>Deve conter apenas um tipo de instala\u00e7\u00e3o do client Linx na m\u00e1quina host, ou seja, se houver algum client instalado previamente, ser\u00e1 necess\u00e1rio desinstalar a aplica\u00e7\u00e3o e apagar o arquivo de configura\u00e7\u00e3o dpos.ini. (O processo de desinstala\u00e7\u00e3o est\u00e1 automatizado no instalador da vers\u00e3o, por\u00e9m a dele\u00e7\u00e3o dos arquivos de configura\u00e7\u00e3o em vers\u00f5es anteriores deve ser feita manualmente).</li> <li>A automa\u00e7\u00e3o deve trabalhar com a configura\u00e7\u00e3o de 1 PDV por Usu\u00e1rio, ou seja, cada usu\u00e1rio do WINDOWS s\u00f3 poder\u00e1 ter 1 PDV ativo por vez.</li> <li> <p>A automa\u00e7\u00e3o deve ter os dados de conex\u00e3o e vinculo do PDV com o TEF da Linx previamente, pois, a configura\u00e7\u00e3o do PDV \u00e9 de total responsabilidade da automa\u00e7\u00e3o e deve ser feito via consumo dos m\u00e9todos disponibilizados na DPOSDRV.dll   <ol> <li>Na implanta\u00e7\u00e3o, o PDV a ser implantado ser\u00e1 configurado pelo instalador de implanta\u00e7\u00e3o, essa \u00e9 a exce\u00e7\u00e3o a regra anterior.</li> </ol></p> </li> <li> <p>Obrigat\u00f3rio a implementa\u00e7\u00e3o dos m\u00e9todos: (1) EmpresaLojaPDV, (2) CNPJEstabelecimento, (3) BuscaCertificado,  (4) ConfiguraComunicacaoDTEF.</p> </li> <li>Na configura\u00e7\u00e3o da comunica\u00e7\u00e3o do remote desktop, deve estar habilitado o mapeamento as portas seriais locais, como segue no print abaixo:</li> </ol> <p> </p> Configura\u00e7\u00e3o da comunica\u00e7\u00e3o do remote desktop"},{"location":"pages/ModelosDeIntegracao/IntegracaoAPIDesktop/#embarcado-windows-e-linux","title":"Embarcado (Windows e Linux)","text":"<p>No modelo de utiliza\u00e7\u00e3o do Paykit embarcado, o processo de instala\u00e7\u00e3o bem como atualiza\u00e7\u00e3o de vers\u00e3o do Paykit \u00e9 de responsabilidade da automa\u00e7\u00e3o que est\u00e1 levando consigo o client, logo os m\u00e9todos de Configura CNPJ Estabelecimento, Configura Empresa Loja e PDV, Configura Comunica\u00e7\u00e3o TEF e Busca do Certificado s\u00e3o de implementa\u00e7\u00e3o obrigat\u00f3ria da automa\u00e7\u00e3o, pois, \u00e9 atrav\u00e9s desses m\u00e9todos que a configura\u00e7\u00e3o da instala\u00e7\u00e3o do client ser\u00e1 feita.</p> <p>Nesse tipo de instala\u00e7\u00e3o, a automa\u00e7\u00e3o ter\u00e1 a disposi\u00e7\u00e3o 2 pacotes compactados, sendo eles: (1) <code>ClientLinxTEF_&lt;VERS\u00c3O&gt;_&lt;ARCH&gt;.zip</code> e (2) <code>Qt_Files_ClientLinxTEF_&lt;VERS\u00c3O&gt;_&lt;ARCH&gt;.zip</code>, que s\u00e3o respectivamente o Paykit em si e a interface gr\u00e1fica \u00e0 qual fica crit\u00e9rio da automa\u00e7\u00e3o utilizar ou n\u00e3o nossas interfaces de comunica\u00e7\u00e3o com o usu\u00e1rio. Al\u00e9m do pacote, tamb\u00e9m ser\u00e1 disponibilizado um arquivo de configura\u00e7\u00e3o (<code>dposlocal.ini</code>) com algumas informa\u00e7\u00f5es que dever\u00e3o ser alteradas conforme orienta\u00e7\u00e3o abaixo.</p>"},{"location":"pages/ModelosDeIntegracao/IntegracaoAPIDesktop/#processo-de-instalacao-paykit-embarcado","title":"Processo de Instala\u00e7\u00e3o Paykit Embarcado","text":""},{"location":"pages/ModelosDeIntegracao/IntegracaoAPIDesktop/#paykit","title":"Paykit","text":"<p>Para instalar o pacote <code>ClientLinxTEF_&lt;VERS\u00c3O&gt;_&lt;ARCH&gt;.zip</code> o mesmo deve ser descompactado em qualquer pasta do sistema operacional do PDV e sua estrutura de pastas deve ser preservada. O arquivo <code>dposlocal.ini</code> caso disponibilizado de forma separada, deve ser inserido dentro da pasta <code>bin</code> do local descompactado. Alguns conte\u00fados das chaves do arquivo <code>ini</code> estar\u00e3o com o conte\u00fado <code>{app}</code> e nesse caso essa informa\u00e7\u00e3o deve ser substitu\u00edda para o path \u00e0 qual foi descompactado o arquivo <code>.zip</code>.</p> <p>Exemplo:</p> <ol> <li> <p>Uma vez descompactado o <code>ClientLinxTEF_&lt;VERS\u00c3O&gt;_&lt;ARCH&gt;.zip</code> no path <code>C:\\Users\\Linx\\Downloads\\Paykit</code>.</p> </li> <li> <p>A chave <code>DIRETORIOBASE={app}\\bin</code> ser\u00e1 alterada.</p> </li> <li> <p>Novo valor: <code>DIRETORIOBASE=C:\\Users\\Linx\\Downloads\\Paykit\\bin</code></p> </li> </ol> <p>A utiliza\u00e7\u00e3o do <code>dposlocal.ini</code> caracteriza uma instala\u00e7\u00e3o embarcada, logo n\u00e3o deve haver nenhum outro arquivo de configura\u00e7\u00e3o no PDV para n\u00e3o gerar conflitos.</p> <p>ATEN\u00c7\u00c3O!!</p> <p>O arquivo <code>dposlocal.ini</code> se localiza na pasta <code>bin</code>, logo, numa eventual atualiza\u00e7\u00e3o das bibliotecas do Paykit, somente os arquivos disponibilizados (arquivo.dll, arquivo.so, etc) devem ser substitu\u00eddos para que a configura\u00e7\u00e3o n\u00e3o se perca em um procedimento de atualiza\u00e7\u00e3o.</p>"},{"location":"pages/ModelosDeIntegracao/IntegracaoAPIDesktop/#interface-grafica","title":"Interface Gr\u00e1fica","text":"<p>O pacote de interface gr\u00e1fica \u00e9 opcional e somente necessita ser utilizado nos casos onde a automa\u00e7\u00e3o opta por utilizar as pr\u00f3prias telas do Paykit para interfaceamento com o usu\u00e1rio. Para a utiliza\u00e7\u00e3o do pacote <code>Qt_Files_ClientLinxTEF_&lt;VERS\u00c3O&gt;_&lt;ARCH&gt;.zip</code> basta descompacta-lo em qualquer lugar do PDV (preferencialmente na pasta <code>bin</code> c\u00edtada no t\u00f3pico anterior), configurar a vari\u00e1vel de PATH do sistema para a pasta <code>bin</code> do Paykit e alterar no <code>dposlocal.ini</code> a se\u00e7\u00e3o/chave <code>[CONFIG] QTDIRETORIOBASE=</code> para o respectivo diret\u00f3rio onde foi descompactado o pacote.</p> <p>Exemplo:  <pre><code>[CONFIG]\nQTDIRETORIOBASE=C:\\Users\\Linx\\Downloads\\Paykit\\bin\\QTApplication\n</code></pre></p>"},{"location":"pages/ModelosDeIntegracao/IntegracaoAPIDesktop/#coleta-de-logs","title":"Coleta de logs","text":"<p>A coleta de logs no caso do client embarcado tem que ser feito de forma manual e pode ser feito pela pr\u00f3pria automa\u00e7\u00e3o ou suporte Linx. Os arquivos de logs que s\u00e3o gerados pelo Paykit s\u00e3o salvos no path configurado na se\u00e7\u00e3o/chave <code>[CONFIG]INTERNO</code> configurada no <code>dposlocal.ini</code>. Caso os path n\u00e3o tenham sido customizados pela automa\u00e7\u00e3o os arquivos por padr\u00e3o ser\u00e3o encontrados em: <code>&lt;PATH_DESCOMPACTA\u00c7\u00c3O_PAYKIT&gt;/Interno</code>, e s\u00e3o caracterizados pelos artefatos com a extens\u00e3o <code>.dbg</code>, <code>.LOG</code> e <code>.err</code>.</p>"},{"location":"pages/ModelosDeIntegracao/IntegracaoSemTelas/","title":"Integra\u00e7\u00e3o sem telas","text":"<p>Alguns itens nesta se\u00e7\u00e3o est\u00e3o temporariamente vazios, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/ModelosDeIntegracao/TrocaDeArquivos/","title":"Troca de Arquivos","text":""},{"location":"pages/ModelosDeIntegracao/TrocaDeArquivos/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>Este material foi preparado para descrever a integra\u00e7\u00e3o da solu\u00e7\u00e3o de Automa\u00e7\u00e3o Comercial com as fun\u00e7\u00f5es requeridas para o modelo de integra\u00e7\u00e3o troca de arquivos. O modelo proposto para esta integra\u00e7\u00e3o prev\u00ea os seguintes componentes:</p> <pre><code>\u2981 Aplicativo de Automa\u00e7\u00e3o Comercial\n\n\u2981 Gerenciador Padr\u00e3o: M\u00f3dulo que ir\u00e1 selecionar qual o M\u00f3dulo TEF ser\u00e1  utilizado na transa\u00e7\u00e3o.\n\n\u2981 M\u00f3dulo TEF: Componente que interage com o usu\u00e1rio para coleta de dados da transa\u00e7\u00e3o a ser \nexecutada e comunica\u00e7\u00e3o com o Autorizador. Cada Rede possui um M\u00f3dulo TEF pr\u00f3prio. \n</code></pre> <p>O modelo troca de arquivos cont\u00e9m um m\u00f3dulo execut\u00e1vel (Gerenciador Padr\u00e3o) desenvolvido para plataforma Windows. O acionamento deste  m\u00f3dulo ser\u00e1 realizado pela Automa\u00e7\u00e3o Comercial atrav\u00e9s de Troca de arquivos texto contendo os par\u00e2metros da  transa\u00e7\u00e3o(ver diagrama abaixo).</p> <p></p>"},{"location":"pages/ModelosDeIntegracao/TrocaDeArquivos/#informacoes-tecnicas","title":"Informa\u00e7\u00f5es T\u00e9cnicas","text":""},{"location":"pages/ModelosDeIntegracao/TrocaDeArquivos/#comunicacao-entre-a-troca-de-arquivos-e-a-automacao-comercial","title":"Comunica\u00e7\u00e3o entre a Troca de arquivos e a Automa\u00e7\u00e3o Comercial","text":"<p>O Aplicativo de Automa\u00e7\u00e3o Comercial ser\u00e1 respons\u00e1vel por executar todas as tarefas pertinentes \u00e0 venda e a legisla\u00e7\u00e3o ECF, incluindo a impress\u00e3o do cupom fiscal e do cupom TEF. Ao t\u00e9rmino da venda, se a forma de pagamento escolhida utilizar a Troca de arquivos, a Automa\u00e7\u00e3o Comercial acionar\u00e1 a aplica\u00e7\u00e3o Gerenciador Padr\u00e3o (por meio de grava\u00e7\u00e3o de um arquivo) que, por sua vez, acionar\u00e1 o M\u00f3dulo TEF correspondente. A troca de informa\u00e7\u00f5es entre os sistemas \u00e9 feita por meio de troca de mensagens padr\u00e3o. Esta modalidade foi definida para permitir maior independ\u00eancia entre os sistemas.</p> <p>Apresentamos a seguir o fluxo simplificado de dados entre os m\u00f3dulos que comp\u00f5e esta solu\u00e7\u00e3o e a descri\u00e7\u00e3o detalhada das tarefas a serem executadas pelo Aplicativo de Automa\u00e7\u00e3o no uso das fun\u00e7\u00f5es de TEF.</p> <p> </p> Fluxo de comunica\u00e7\u00e3o da Solu\u00e7\u00e3o TEF e Automa\u00e7\u00e3o Comercial <p>OBS: Para a transa\u00e7\u00e3o \u201cATV\u201d o fluxo ser\u00e1 encerrado na etapa 2, outras transa\u00e7\u00f5es que n\u00e3o exijam impress\u00e3o de cupom TEF, o fluxo \u00e9 encerrado na etapa 4. Caso contr\u00e1rio, vai at\u00e9 a etapa 6.</p> <p>N\u00e3o h\u00e1 como identificar apenas atrav\u00e9s do tipo de transa\u00e7\u00e3o, se haver\u00e1 ou n\u00e3o a impress\u00e3o de cupom TEF. O Aplicativo de Automa\u00e7\u00e3o Comercial dever\u00e1 sempre verificar todas as informa\u00e7\u00f5es existentes no arquivo recebido na ETAPA 4 \u2013 Conforme tabela do item 4.3.</p> <p>A estrutura de Troca de arquivos prev\u00ea a utiliza\u00e7\u00e3o de 2 diret\u00f3rios: C:\\TEF_DIAL\\REQ e C:\\TEF_DIAL\\RESP.</p> <p>Diret\u00f3rio de envio dos dados:</p> <pre><code>\u2981 Utilizado pela Automa\u00e7\u00e3o Comercial para enviar os dados da transa\u00e7\u00e3o utilizando troca de arquivos.\n\n\u2981 A automa\u00e7\u00e3o Comercial gera um arquivo para **cada envio** de mensagem.\n\n\u2981 O Gerenciador Padr\u00e3o utiliza o arquivo recebido e o exclui ap\u00f3s sua utiliza\u00e7\u00e3o.\n</code></pre> <p>Nome do diret\u00f3rio: C:\\TEF_DIAL\\REQ</p> <p>Nome do arquivo (para as etapas 1 e 5 do gr\u00e1fico anterior): IntPos.001</p> <pre><code>OBS: Criar o arquivo com o nome IntPos.tmp e em seguida renome\u00e1-lo para IntPos.001\n</code></pre> <p>Diret\u00f3rio de retorno dos dados:</p> <pre><code>\u2981 Utilizado pela Automa\u00e7\u00e3o Comercial para receber os dados do Troca de Arquivos.\n\n\u2981 Troca de Arquivos gera um arquivo de resposta conforme fluxo.\n\n\u2981 Automa\u00e7\u00e3o Comercial utiliza o arquivo de resposta e o exclui ap\u00f3s sua utiliza\u00e7\u00e3o.\n\n\u2981 O arquivo de resposta cont\u00e9m indica\u00e7\u00e3o do aceite ou recusa do pedido efetuado pelo envio.\n</code></pre> <p>Nome do diret\u00f3rio: C:\\TEF_DIAL\\RESP</p> <p>Nome do arquivo (para as etapas 2 e 6 do gr\u00e1fico anterior): IntPos.Sts</p> <p>Nome do arquivo (para as demais etapas do gr\u00e1fico anterior): IntPos.001</p> <p>Como vimos, os softwares da Automa\u00e7\u00e3o Comercial e Gerenciador Padr\u00e3o funcionam simultaneamente como tarefas do Windows, sendo que a Automa\u00e7\u00e3o Comercial aciona nossa aplica\u00e7\u00e3o por meio do envio de arquivos de solicita\u00e7\u00e3o conforme layout definido adiante.</p> <p>A Solu\u00e7\u00e3o TEF Discado integrada a Automa\u00e7\u00e3o Comercial atua da seguinte forma:</p> <pre><code>\u2981 Automa\u00e7\u00e3o Comercial, no t\u00e9rmino da  opera\u00e7\u00e3o comercial, gera o arquivo\nC:\\TEF_DIAL\\REQ\\IntPos.001 nos padr\u00f5es estabelecidos; (ETAPA 1)\n\n\u2981 O Gerenciador Padr\u00e3o avisa a Automa\u00e7\u00e3o Comercial que recebeu o arquivo \ne que est\u00e1 processando, gerando o arquivo C:\\TEF_DIAL\\RESP\\IntPos.Sts.\n\nObs.: Se a Automa\u00e7\u00e3o Comercial n\u00e3o receber este arquivo em at\u00e9 7 segundos, \nsignifica que nosso gerenciador n\u00e3o est\u00e1 ativo; (ETAPA 2)\n\n\u2981 O Gerenciador Padr\u00e3o maximiza uma tela para sele\u00e7\u00e3o da Rede desejada; (ETAPA 3)\n\n\u2981 Gerenciador Padr\u00e3o executa a transa\u00e7\u00e3o solicitada (ETAPA 3) e envia sua resposta\npara a Automa\u00e7\u00e3o Comercial: C:\\TEF_DIAL\\RESP \\IntPos.001; (ETAPA 4)\n\n\u2981 Caso haja cupom TEF a ser impresso, a Automa\u00e7\u00e3o Comercial deve imprimi-lo e em seguida\nretornar status da impress\u00e3o para o Gerenciador Padr\u00e3o: C:\\TEF_DIAL\\REQ\\IntPos.001. No caso\nde uma transa\u00e7\u00e3o de venda, se o valor da transa\u00e7\u00e3o n\u00e3o completar o valor total da venda, \na Automa\u00e7\u00e3o Comercial dever\u00e1 permitir ao usu\u00e1rio completar o pagamento com outras \nformas (dinheiro, cheque, etc) e imprimir o comprovante de TEF. (ETAPA 5)\n\n\u2981 O Gerenciador confirma o recebimento do status da impress\u00e3o para a \nAutoma\u00e7\u00e3o Comercial: C:\\TEF_DIAL\\RESP \\IntPos.Sts. (ETAPA 6)\n</code></pre>"},{"location":"pages/ModelosDeIntegracao/TrocaDeArquivos/#procedimentos-para-a-transacao-tef","title":"Procedimentos para a transa\u00e7\u00e3o TEF:","text":"<p>A seguir o fluxo a ser obedecido quando da transa\u00e7\u00e3o TEF:</p> <p> </p> Procedimentos para Transa\u00e7\u00e3o TEF <p> </p> Procedimentos para Transa\u00e7\u00e3o TEF <p>Observa\u00e7\u00f5es:</p> <ol> <li> <p>Ap\u00f3s resposta do Operador para reiniciar a impress\u00e3o dos comprovantes do TEF, dever\u00e1 seguir as orienta\u00e7\u00f5es previstas na legisla\u00e7\u00e3o em vigor. Exemplos: Leitura X, Relat\u00f3rio Gerencial, etc.</p> </li> <li> <p>Caso ocorra queda de energia durante a impress\u00e3o do cupom, a Automa\u00e7\u00e3o Comercial dever\u00e1 automaticamente enviar uma transa\u00e7\u00e3o  \u2018NCN\u2019 apresentando a mensagem:</p> <pre><code>Cancela a Transa\u00e7\u00e3o:\nRede:\nNSU:\nValor:\n</code></pre> </li> <li> <p>Quando apresentar mensagem de n\u00e3o confirma\u00e7\u00e3o, apresentar os campos Doc. No (campo 12) e rede (campo 10) obrigatoriamente, o campo valor (campo 3) dever\u00e1 ser apresentado somente se estiver presente  ou com valor diferente de zero no arquivo Intpos.001 do diret\u00f3rio Resp. O campo valor tamb\u00e9m dever\u00e1 ser formatado como moeda.</p> </li> <li> <p>O n\u00famero de vias impressas do cupom poder\u00e1 ser parametrizado. Quando forem impressas 2 ou mais vias, a Automa\u00e7\u00e3o Comercial poder\u00e1 parar a impress\u00e3o por 5 segundos, entre as vias, para que seja destacado o cupom. Para o processo de certifica\u00e7\u00e3o, os testes ser\u00e3o realizados com a emiss\u00e3o de 2 vias.</p> <p>Sugest\u00e3o: Entre cada uma das vias deixar um espa\u00e7o de at\u00e9 5 linhas para destacar a via do cliente e a do estabelecimento.</p> </li> <li> <p>A verifica\u00e7\u00e3o da impress\u00e3o correta do comprovante deve ser feita pela automa\u00e7\u00e3o, n\u00e3o deixar o usu\u00e1rio informar se o mesmo foi impresso corretamente.</p> </li> <li> <p>Nunca imprimir leitura X entre as vias do comprovante TEF.</p> </li> <li> <p>Mensagem do Campo 30</p> <p>Esta deve ser apresentada pela Automa\u00e7\u00e3o Comercial quando seu conte\u00fado for diferente de vazio.</p> <p>Se vazio n\u00e3o poder\u00e1 ser apresentado o Message Box .</p> <p>Cuidados: <pre><code>\u2981 Quando existir linhas a serem impressas, a mensagem do campo 30 deve ser exibida\nparalelamente a impress\u00e3o. O box referente a essa mensagem, n\u00e3o poder\u00e1 aguardar um\nOk do usu\u00e1rio para come\u00e7ar a imprimir. Deixar a mensagem no m\u00ednimo por 5 segundos \nou durante toda a impress\u00e3o do cupom TEF. \n\n\u2981 Quando n\u00e3o houver linhas para serem impressas a mensagem deve ficar aguardando uma\nconfirma\u00e7\u00e3o (OK) do usu\u00e1rio.\n</code></pre></p> </li> <li> <p>Verifique tamb\u00e9m o documento  \u201cCuidados para  Certifica\u00e7\u00e3o \u201c, para maiores informa\u00e7\u00f5es.</p> </li> </ol>"},{"location":"pages/ModelosDeIntegracao/TrocaDeArquivos/#troca-de-arquivos","title":"Troca de arquivos","text":"<p>A CIELO criou a plataforma \u201cPremia\u201d para gerenciamento de campanhas de fideliza\u00e7\u00e3o para estabelecimentos  e emissores de cart\u00e3o, oferecendo funcionalidades de ac\u00famulo de pontos, resgate de pr\u00eamios e premia\u00e7\u00e3o  instant\u00e2nea. </p> <p>Estas funcionalidades j\u00e1 s\u00e3o contempladas por todas as solu\u00e7\u00f5es de captura da rede CIELO. No entanto, no  caso das solu\u00e7\u00f5es de Troca de arquivos, alguns ajustes s\u00e3o necess\u00e1rios nos aplicativos de Automa\u00e7\u00e3o  Comercial, n\u00e3o previstos na especifica\u00e7\u00e3o de integra\u00e7\u00e3o original.</p> <p>Clique aqui para ver o Layout de Mensagens de Comunica\u00e7\u00e3o.</p> <p>Clique aqui para ver outras considera\u00e7\u00f5es.</p>"},{"location":"pages/TransacoesTeleMarketing/CancelamentoDireta/","title":"Transa\u00e7\u00e3o de Cancelamento Direta (Tele-Marketing)","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/TransacoesTeleMarketing/CartaoDeCreditoDireta/","title":"Transa\u00e7\u00e3o de Cart\u00e3o de Cr\u00e9dito Direta (Tele-Marketing)","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/TransacoesTeleMarketing/ConfirmacaoPreAutorizacaoDireta/","title":"Transa\u00e7\u00e3o de Confirma\u00e7\u00e3o Pre-Autoriza\u00e7\u00e3o Direta (Tele-Marketing)","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/TransacoesTeleMarketing/ConsultaAVS/","title":"Transa\u00e7\u00e3o de Consulta AVS (Tele-Marketing)","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/TransacoesTeleMarketing/OutrasFuncoesTeleMarketing/","title":"Outras Fun\u00e7\u00f5es de Tele-Marketing","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/TransacoesTeleMarketing/PreAutorizacaoCartaoDeCreditoDireta/","title":"Transa\u00e7\u00e3o de Pr\u00e9-Autoriza\u00e7\u00e3o de Cart\u00e3o de Cr\u00e9dito Direta (Tele-Maketing)","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/TrocaDeArquivos/","title":"Troca de Arquivos","text":""},{"location":"pages/TrocaDeArquivos/#instalacao-standalone","title":"Instala\u00e7\u00e3o Standalone","text":"<p>A Troca de arquivos foi desenhada para funcionar no modelo standalone, ou seja, onde todos os componentes requeridos devem estar instalados no mesmo device (disco C:). As fun\u00e7\u00f5es TEF somente podem ser executadas atrav\u00e9s de um equipamento que possua o PinPad Seguro, um modem pr\u00f3prio, linha telef\u00f4nica dispon\u00edvel e a Troca de arquivos completa instalada no disco r\u00edgido.</p>"},{"location":"pages/TrocaDeArquivos/#perifericos-recomendados","title":"Perif\u00e9ricos recomendados","text":""},{"location":"pages/TrocaDeArquivos/#impressora","title":"Impressora","text":"<p>Poder\u00e1 ser utilizada qualquer impressora homologada pelo Aplicativo de Automa\u00e7\u00e3o Comercial, visto que o gerenciamento da impress\u00e3o \u00e9 realizada pela mesma.</p>"},{"location":"pages/TrocaDeArquivos/#observacoes-importantes","title":"Observa\u00e7\u00f5es importantes","text":"<p>\u00c9 proibido o armazenamento da imagem de qualquer cupom TEF em qualquer parte do sistema ap\u00f3s a impress\u00e3o do mesmo.</p>"},{"location":"pages/TrocaDeArquivos/#informacoes-complementares","title":"Informa\u00e7\u00f5es Complementares","text":"<p>No caso de problemas ocorridos em qualquer procedimento citado neste documento, solicitamos que sejam revistas todas as configura\u00e7\u00f5es executadas e comparadas com os par\u00e2metros descritos neste manual; execute novamente as atividades ou troque os discos utilizados na instala\u00e7\u00e3o, caso necess\u00e1rio.</p> <p>Caso permane\u00e7a alguma d\u00favida, entre em contato com a LINX.</p>"},{"location":"pages/TrocaDeArquivos/#certificacao","title":"Certifica\u00e7\u00e3o","text":"<p>Para que sua Aplica\u00e7\u00e3o Comercial possa ser comercializada utilizando a Troca de arquivos, dever\u00e1 ocorrer um processo denominado certifica\u00e7\u00e3o no qual sua solu\u00e7\u00e3o ser\u00e1 avaliada quanto ao uso das fun\u00e7\u00f5es descritas neste manual. Para tanto, ap\u00f3s ter terminado todo o processo de ajuste de seu aplicativo, entre em contato com as Certificadoras (LINX).</p>"},{"location":"pages/TrocaDeArquivos/Componentes/","title":"Componentes","text":""},{"location":"pages/TrocaDeArquivos/Componentes/#automacao-comercial","title":"Automa\u00e7\u00e3o Comercial","text":""},{"location":"pages/TrocaDeArquivos/Componentes/#caracteristicas","title":"CARACTER\u00cdSTICAS","text":"<pre><code>\u2981 Pode ser desenvolvido para ambiente DOS ou Windows (16 ou 32 bits). \n\n\u2981 Composto de um ou mais m\u00f3dulos execut\u00e1veis\n\n\u2981 Gerencia perif\u00e9ricos da Automa\u00e7\u00e3o Comercial (exceto Pinpad)\n\nObs.: Pinpad = Teclado reduzido utilizado para leitura dos cart\u00f5es de cr\u00e9dito, \nd\u00e9bito e CDC, bem como a digita\u00e7\u00e3o da senha do cart\u00e3o. J\u00e1 vem preparado para \nleitura de Smart Card (cart\u00e3o com chip).\n</code></pre>"},{"location":"pages/TrocaDeArquivos/Componentes/#funcoes","title":"FUN\u00c7\u00d5ES","text":"<p>As fun\u00e7\u00f5es que poder\u00e3o ser executadas pela Automa\u00e7\u00e3o Comercial, integrada \u00e0 solu\u00e7\u00e3o de Troca de arquivos s\u00e3o os pagamentos das vendas com cart\u00f5es de cr\u00e9dito e de d\u00e9bito e as consultas/garantias de cheques, entre outros. Cada Rede possui um conjunto de transa\u00e7\u00f5es associadas \u00e0 estas fun\u00e7\u00f5es que ser\u00e3o tratadas pelo M\u00f3dulo TEF de cada uma, mantendo as particularidades de cada Rede. No entanto, devido a utiliza\u00e7\u00e3o desse m\u00e9todo de integra\u00e7\u00e3o, estas n\u00e3o interferem no processo de integra\u00e7\u00e3o para o software de Automa\u00e7\u00e3o Comercial.</p>"},{"location":"pages/TrocaDeArquivos/Componentes/#gerenciador-padrao","title":"Gerenciador Padr\u00e3o","text":"<p>M\u00f3dulo respons\u00e1vel pelo direcionamento da transa\u00e7\u00e3o para os respectivos M\u00f3dulos TEF (American Express, Redecard e Cielo). Efetua o tratamento das atividades TEF, permitindo que a Automa\u00e7\u00e3o Comercial interaja com as administradoras de cart\u00e3o de cr\u00e9dito e de d\u00e9bito, de forma simples e eficiente.</p>"},{"location":"pages/TrocaDeArquivos/Componentes/#modulo-tef","title":"M\u00f3dulo TEF","text":"<p>Softwares que efetuam a interface com o usu\u00e1rio para coleta dos dados da transa\u00e7\u00e3o a ser realizada e comunica\u00e7\u00e3o com as administradoras de cart\u00e3o para cumprimento da tarefa solicitada.</p>"},{"location":"pages/TrocaDeArquivos/EspecificacaoTrocaDeArquivos/","title":"Especifica\u00e7\u00e3o Troca de Arquivos","text":""},{"location":"pages/TrocaDeArquivos/EspecificacaoTrocaDeArquivos/#identificacao-da-automacao-comercial","title":"Identifica\u00e7\u00e3o da Automa\u00e7\u00e3o Comercial","text":"<p>A Automa\u00e7\u00e3o Comercial deve obrigatoriamente preencher em todos os arquivos de solicita\u00e7\u00e3o os campos 716000 e 701-000, informando respectivamente a raz\u00e3o social da empresa respons\u00e1vel pelo desenvolvimento da Automa\u00e7\u00e3o Comercial e o nome e a vers\u00e3o da aplica\u00e7\u00e3o de Automa\u00e7\u00e3o Comercial.</p> Exemplo <pre><code>    701-000 = KiWi v1, 14, 0, 0 \n    716-000 = SETIS AUTOMACAO E SISTEMAS LTDA.\n</code></pre> <p>Importante: n\u00e3o h\u00e1 uma nomenclatura espec\u00edfica exigida para o campo 701-000, por\u00e9m:</p> <pre><code>\u2981 Deve incluir o nome completo da aplica\u00e7\u00e3o de Automa\u00e7\u00e3o Comercial;\n\u2981 Deve incluir a informa\u00e7\u00e3o de vers\u00e3o completa da Automa\u00e7\u00e3o Comercial;\n\u2981 A informa\u00e7\u00e3o de vers\u00e3o deve identificar sem ambiguidade o execut\u00e1vel/bin\u00e1rio \n(ou conjunto de execut\u00e1veis/bin\u00e1rios) que comp\u00f5e(m) a Automa\u00e7\u00e3o Comercial.\n</code></pre>"},{"location":"pages/TrocaDeArquivos/EspecificacaoTrocaDeArquivos/#impressao-de-vias-diferenciadas","title":"Impress\u00e3o de vias diferenciadas","text":"<p>O TEF passa a poder gerar 4 vias do comprovante, abaixo descritas.</p> <pre><code>\u2981 Via completa (campos 028-000 e 029-xxx)\n</code></pre> <p>Esta via cont\u00e9m todas as informa\u00e7\u00f5es para ambos o Cliente e o Estabelecimento. \u00c9 tipicamente usado em impressoras com folha dupla, ou quando a rede adquirente n\u00e3o suporta os demais tipos de comprovante. Este \u00e9 o \u00fanico comprovante que \u00e9 obrigatoriamente gerado pelo TEF.</p> <pre><code>\u2981 Via diferenciada para o Estabelecimento (campos 714-000 e 715-xxx)\n</code></pre> <p>Esta via somente cont\u00e9m as informa\u00e7\u00f5es relevantes para o Estabelecimento. Este comprovante \u00e9 opcional, podendo ou n\u00e3o ser gerado pelo TEF. A Automa\u00e7\u00e3o Comercial deve preferencialmente emitir esta via do comprovante para o Estabelecimento, para n\u00e3o divulgar informa\u00e7\u00f5es somente relevantes para o Cliente (saldo do cart\u00e3o, informa\u00e7\u00f5es de pontua\u00e7\u00e3o/premia\u00e7\u00e3o, etc.).</p> <pre><code>\u2981 Via diferenciada para o Cliente (campos 712-000 e 713-xxx)\n</code></pre> <p>Esta via somente cont\u00e9m as informa\u00e7\u00f5es relevantes para o Cliente. Este comprovante \u00e9 opcional, podendo ou n\u00e3o ser emitido pelo TEF. A Automa\u00e7\u00e3o Comercial deve preferencialmente emitir esta via do comprovante para o Cliente, para reduzir o consumo de papel.</p> <pre><code>\u2981 Cupom reduzido (campos 710-000 e 711-xxx)\n</code></pre> <p>Esta via somente cont\u00e9m as informa\u00e7\u00f5es relevantes para o Cliente, excluindo informa\u00e7\u00f5es que j\u00e1 estejam presentes no cupom fiscal (nome, endere\u00e7o e CNPJ do Estabelecimento, data da transa\u00e7\u00e3o, etc.). Se poss\u00edvel, este comprovante de at\u00e9 5 linhas deve ser impresso pela Automa\u00e7\u00e3o Comercial dentro do cupom fiscal, n\u00e3o num cupom fiscal vinculado. Este comprovante \u00e9 opcional, podendo ou n\u00e3o ser emitido pelo TEF, e restrito a transa\u00e7\u00f5es de Venda. A Automa\u00e7\u00e3o Comercial deve preferencialmente emitir esta via do comprovante para o Cliente, para reduzir o consumo de papel.</p> <p>A Automa\u00e7\u00e3o Comercial deve utilizar o fluxo abaixo para determinar quais vias do comprovante ser\u00e3o impressas:</p> <p> </p> Fluxo de impress\u00e3o de comprovante"},{"location":"pages/TrocaDeArquivos/EspecificacaoTrocaDeArquivos/#valor-da-transacao-saque-e-desconto","title":"Valor da transa\u00e7\u00e3o, Saque e Desconto","text":"<p>Uma funcionalidade importante da plataforma Premia \u00e9 a possibilidade de ser concedido ao Cliente um pr\u00eamio monet\u00e1rio instant\u00e2neo no momento da transa\u00e7\u00e3o. Este pr\u00eamio se traduz por um desconto no valor da transa\u00e7\u00e3o, que deve ser registrado na Impressora Fiscal pela Automa\u00e7\u00e3o Comercial.</p> <p>Com isto, fazem-se necess\u00e1rios os seguintes controles adicionais:</p> <pre><code>\u2981 A Automa\u00e7\u00e3o Comercial deve indicar em todos os arquivos de solicita\u00e7\u00e3o atrav\u00e9s do \ncampo 706-000se suporta a funcionalidade de saque (valor 1), a funcionalidade de desconto \n(valor 2), ambas (valor 3) ou nenhuma (valor 0). Caso este campo n\u00e3o seja informado \n(vers\u00f5es anteriores da Automa\u00e7\u00e3o Comercial), o TEF assume o valor 0 (nenhuma das \nfuncionalidades \u00e9 suportada).\n\n\u2981 O campo 004-000 (moeda) \u00e9 obrigat\u00f3rio em todos os arquivos que possuam o campo \n003000 (valor da transa\u00e7\u00e3o).\n\n\u2981 O campo 707-000 indica o valor original da transa\u00e7\u00e3o (o valor do campo 003-000 informado \npela Automa\u00e7\u00e3o Comercial no arquivo de solicita\u00e7\u00e3o). Caso ausente, significa que o valor \nda transa\u00e7\u00e3o n\u00e3o foi alterado.\n\n\u2981 O campo 708-000 indica o valor do saque/troco. Caso ausente, significa que n\u00e3o houve \nsaque na transa\u00e7\u00e3o.\n\n\u2981 O campo 709-000 indica o valor do desconto. Caso ausente, significa que n\u00e3o houve \ndesconto na transa\u00e7\u00e3o.\n\n\u2981 O campo 003-000 indica o valor final da transa\u00e7\u00e3o, incluindo saque e desconto. Assim:\n\nValor total (003-000) = Valor original (707-000) + Valor do saque (708000) \u2013 Valor do \ndesconto (709-000)\n</code></pre>"},{"location":"pages/TrocaDeArquivos/EspecificacaoTrocaDeArquivos/#detalhamento-dos-campos","title":"Detalhamento dos campos","text":"<p>Esta se\u00e7\u00e3o lista apenas os campos mencionados neste documento. Demais campos pr\u00e9-existentes permanecem inalterados.</p> <p>Legenda para a coluna \u201cFormato\u201d:</p> <pre><code>\u2981 \u2018n\u2019 indica um campo contendo exclusivamente caracteres num\u00e9ricos;\n\n\u2981 \u2018a\u2019 indica um campo podendo conter qualquer caractere permitido, de acordo com \u201c6.1.\n\u202fFormato gen\u00e9rico\u201d;\n\n\u2981 \u2018a7\u2019 indica um campo de exatamente 7 caracteres;\n\n\u2981 \u2018a..5\u2019 indica um campo de 1 a 5 caracteres.\n</code></pre> C\u00f3digo Nome Formato Descri\u00e7\u00e3o 003-000 Valor total n..12 Valor total da opera\u00e7\u00e3o, em centavos da moeda informada no campo 004-000.No arquivo de resposta para transa\u00e7\u00f5es de venda, este campo indica o valor efetivamente debitado do Cliente e creditado para o Estabelecimento (desconsiderando taxas referentes ao uso da solu\u00e7\u00e3o, descontadas pela rede adquirente). 004-000 Moeda n1 0: Real1: D\u00f3lar americano 028-000 Tamanho via \u00fanica n..3 Quantidade de linhas da via \u00fanica do comprovante. 029-xxx Via \u00fanica do comprovante a..40 Linha da via \u00fanica do comprovante, entre aspas duplas.xxx indica o n\u00famero da linha, de 001 at\u00e9 a quantidade total de linhas indicada pelo campo 028-000. 701-000 Vers\u00e3o da automa\u00e7\u00e3o a..40 Nome e vers\u00e3o da Automa\u00e7\u00e3o Comercial.Exemplo: SUPERVENDAS v1.01 706-000 Capacidades da automa\u00e7\u00e3o n1 Soma dos seguintes valores, identificando as funcionalidades suportadas pela Automa\u00e7\u00e3o Comercial:1: funcionalidade de saque (ver campo 708-000)2: funcionalidade de desconto (ver campo 709-000)Caso este campo n\u00e3o seja informado pela Automa\u00e7\u00e3o Comercial, considera-se que nenhuma das funcionalidades \u00e9 suportada. 707-000 Valor original n12 Valor original da transa\u00e7\u00e3o informado pela Automa\u00e7\u00e3o Comercial no campo 003000 do arquivo de solicita\u00e7\u00e3o, em centavos da moeda identificada no campo 004-000.Este campo \u00e9 informado pelo TEF caso seja diferente do valor final da transa\u00e7\u00e3o informado no campo 003-000 do arquivo de resposta, sempre respeitando a regra abaixo:Valor total (003-000) = Valor original (707-000) + Valor do saque (708000) \u2013 Valor do desconto (709-000) 708-000 Valor do saque n12 Valor de retirada em dinheiro (saque no cart\u00e3o) realizada em conjunto com a transa\u00e7\u00e3o de venda.Este valor \u00e9 acrescido ao valor original da transa\u00e7\u00e3o, e deve ser registrado na Impressora Fiscal como \u201ctroco\u201d. 709-000 Valor do desconto n12 Valor do desconto concedido ao Cliente pela rede adquirente ou pelo Emissor para uma transa\u00e7\u00e3o de venda.Este valor \u00e9 retirado do valor original da transa\u00e7\u00e3o, e deve ser registrado na Impressora Fiscal como \u201cdesconto\u201d. 710-000 Tamanho cupom reduzido n..3 Quantidade de linhas do cupom reduzido. 711-xxx Cupom reduzido a..40 Linha do cupom reduzido, entre aspas duplas.xxx indica o n\u00famero da linha, de 001 at\u00e9 a quantidade total de linhas indicada pelo campo 710-000. 712-000 Tamanho via Cliente n..3 Quantidade de linhas da via diferenciada do comprovante destinada ao Cliente. 713-xxx Via Cliente do comprovante a..40 Linha da via do Cliente, entre aspas duplas.xxx indica o n\u00famero da linha, de 001 at\u00e9 a quantidade total de linhas indicada pelo campo 712-000. 714-000 Tamanho via Estabelecimento n..3 Quantidade de linhas da via diferenciada do comprovante destinada ao Estabelecimento. 715-xxx Via Estabelecimento do comprovante a..40 Linha da via do Estabelecimento, entre aspas duplas.xxx indica o n\u00famero da linha, de 001 at\u00e9 a quantidade total de linhas indicada pelo campo 714-000. 716-000 Empresa da Automa\u00e7\u00e3o a..40 Raz\u00e3o social da empresa respons\u00e1vel pelo desenvolvimento da aplica\u00e7\u00e3o de Automa\u00e7\u00e3o Comercial.Exemplo: KND SISTEMAS LTDA."},{"location":"pages/TrocaDeArquivos/EspecificacaoTrocaDeArquivos/#presenca-dos-campos","title":"Presen\u00e7a dos Campos","text":"<pre><code>\u2981 \u2018M\u2019 indica que a presen\u00e7a do campo \u00e9 obrigat\u00f3ria;\n\n\u2981 \u2018O\u2019 indica que a presen\u00e7a do campo \u00e9 opcional;\n\n\u2981 \u2018E\u2019 indica que o campo \u00e9 ecoado (id\u00eantico ao arquivo de solicita\u00e7\u00e3o);\n\n\u2981 \u2018C1\u2019 indica que o campo est\u00e1 presente caso o campo anterior seja diferente \nde zero (tamanho do comprovante);\n\nA aus\u00eancia de caractere em uma coluna indica que o campo n\u00e3o \u00e9 esperado.\n</code></pre>"},{"location":"pages/TrocaDeArquivos/EspecificacaoTrocaDeArquivos/#arquivo-de-solicitacao-reqintpos001","title":"Arquivo de solicita\u00e7\u00e3o (Req\\intpos.001)","text":"C\u00f3digo Nome ATV CRT ADM CNC CHQ CNF NCN 003-000 Valor total M M M 004-000 Moeda M M M 701-000 Vers\u00e3o da Automa\u00e7\u00e3o M M M M 706-000 Capacidades da Automa\u00e7\u00e3o M M M M 716-000 Empresa da Automa\u00e7\u00e3o M M M M"},{"location":"pages/TrocaDeArquivos/EspecificacaoTrocaDeArquivos/#arquivo-de-resposta-respintpos001","title":"Arquivo de resposta (Resp\\intpos.001)","text":"C\u00f3digo Nome CRT ADM CNC CHQ 003-000 Valor Total M O M M 004-000 Moeda M O M M 707-000 Valor Original O O O 708-000 Valor do Saque O O O 709-000 Valor do Desconto O O O 710-000 Tamanho cupom reduzido O O O O 711-xxx Cupom reduzido C1 C1 C1 C1 712-000 Tamanho via Cliente O O O O 713-xxx Via Cliente do comprovante C1 C1 C1 C1 714-000 Tamanho via Estabelecimento O O O O 715-xxx Via Estabelecimento do comprovante C1 C1 C1 C1"},{"location":"pages/TrocaDeArquivos/LayoutMensagensComunicacao/","title":"Layout de Mensagens de Comunica\u00e7\u00e3o","text":""},{"location":"pages/TrocaDeArquivos/LayoutMensagensComunicacao/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>As descri\u00e7\u00f5es aqui apresentadas exibem o formato que devem ter as mensagens geradas pela Automa\u00e7\u00e3o Comercial e o formato da mensagem de retorno gerada pelo modelo de integra\u00e7\u00e3o troca de arquivos, com a confirma\u00e7\u00e3o ou n\u00e3o da transa\u00e7\u00e3o.</p> <p>As mensagens ser\u00e3o transferidas por meio de arquivo tipo texto onde cada linha cont\u00e9m um tipo de informa\u00e7\u00e3o. As linhas possuem formato padr\u00e3o e tamanho vari\u00e1vel, utilizando conceito de palavra chave. O formato gen\u00e9rico \u00e9:</p> <pre><code>        AAA-BBBC=CDDDDDDD......DDDDDEF\n</code></pre> <p>Onde:</p> <pre><code>        A - Identifica\u00e7\u00e3o do tipo de informa\u00e7\u00e3o ou campo \n\n        B - N\u00ba de seq\u00fc\u00eancia complementar ao tipo de informa\u00e7\u00e3o ou campo \n\n        C - Posi\u00e7\u00e3o contendo espa\u00e7o ou branco \n\n        D - Informa\u00e7\u00e3o (sempre alinhada a esquerda, sem preenchimento de zeros ou espa\u00e7os) \n\n        E - Carriage Return (CR) =13 (segundo a tabela ASCII) \n\n        F - Line Feed (LF) = 10 (segundo a tabela ASCII) \n</code></pre> <p>Os tipos de opera\u00e7\u00f5es poss\u00edveis s\u00e3o:</p> Tipo de opera\u00e7\u00e3o Descri\u00e7\u00e3o ATV Verifica se a aplica\u00e7\u00e3o de gerenciamento da troca de arquivos est\u00e1 ativa ADM Permite o acionamento da Troca de arquivos  para execu\u00e7\u00e3o das fun\u00e7\u00f5es administrativas CHQ* Pedido de autoriza\u00e7\u00e3o para transa\u00e7\u00e3o por meio de cheque CRT Pedido de autoriza\u00e7\u00e3o para transa\u00e7\u00e3o por meio de cart\u00e3o CNC Cancelamento de venda efetuada por qualquer meio de pagamento CNF Confirma\u00e7\u00e3o da venda e impress\u00e3o de cupom NCN N\u00e3o confirma\u00e7\u00e3o da venda e/ou da impress\u00e3o. <p>Verifica\u00e7\u00e3o pela Automa\u00e7\u00e3o Comercial se o Gerenciador est\u00e1 ativo deve ser feita atrav\u00e9s:</p> <ol> <li>Fun\u00e7\u00e3o  ATV:</li> </ol> <p>A Automa\u00e7\u00e3o Comercial envia as mensagens ao Gerenciador conforme item 4.1.</p> <p>Se a Automa\u00e7\u00e3o Comercial receber em at\u00e9 7 segundos o arquivo C:\\TEF_DIAL\\RESP\\IntPos.Sts conforme item   4.2 significa que o Gerenciador est\u00e1 ativo e a integra\u00e7\u00e3o via troca de arquivos est\u00e1 disponivel.</p> <ol> <li>Toda vez que o Gerenciador Padr\u00e3o entrar no ar ir\u00e1 informar para a Automa\u00e7\u00e3o Comercial que est\u00e1 ativo atrav\u00e9s do arquivo Ativo.001 que ser\u00e1 gravado no diret\u00f3rio \\Tef_dial\\resp , com os campos:</li> </ol> <pre><code>            \u2018000-000 = TEF\u2019 \n            \u2018016-000 = DDMMHHMMSS\u2019 (Timestamp) \n            \u2018999-999 = 0\u2019\n</code></pre> <p>Se n\u00e3o existir este arquivo no diret\u00f3rio significa que o Gerenciador n\u00e3o est\u00e1 ativo e n\u00e3o ser\u00e1 poss\u00edvel integrar via troca de arquivos.</p> <p>O cancelamento de venda pode ser feito de duas formas:</p> <pre><code>\u2981 Pela opera\u00e7\u00e3o ADM, onde o Gerenciador abre uma tela para a captura dos dados\nda transa\u00e7\u00e3o a ser cancelada. \n\n\u2981 Pela opera\u00e7\u00e3o CNC, onde o Aplicativo de Automa\u00e7\u00e3o Comercial captura os dados da \ntransa\u00e7\u00e3o a ser cancelada e as transfere para o Gerenciador. \n</code></pre> <p>A seguir apresentamos os tipos de informa\u00e7\u00f5es (ou campos) que dever\u00e3o estar presentes nos arquivos enviados e recebidos pela Automa\u00e7\u00e3o Comercial. As informa\u00e7\u00f5es (ou campos) variam de acordo com o tipo de opera\u00e7\u00e3o e est\u00e3o assinalados com \u2018M\u2019 quando mandat\u00f3rios, \u2018O\u2019 quando opcionais e \u2018-\u2018 quando ausentes.</p> <p>Notar que o aplicativo de automa\u00e7\u00e3o deve estar preparado para receber e ignorar os tipos de registros que ele desconhe\u00e7a. Essa caracter\u00edstica \u00e9 importante para manter compatibilidade com vers\u00f5es futuras.</p> <p>Quando houver discrep\u00e2ncia entre o conte\u00fado do campo enviado pelo Aplicativo de Automa\u00e7\u00e3o Comercial e o recebido pelo Gerenciador valer\u00e1 o do Troca de Arquivos.</p> <p>Legenda para as seguintes tabelas: <pre><code>         M = Mandat\u00f3rio     \n         O = Opcional        \n         E = Eco da Solicita\u00e7\u00e3o\n         A = Para transa\u00e7\u00e3o aprovada\n         - = Ausente/N\u00e3o\n</code></pre></p>"},{"location":"pages/TrocaDeArquivos/LayoutMensagensComunicacao/#campos-presentes-nas-mensagens-geradas-pelo-aplicativo-de-automacao-comercial-solicitacoes-ctef_dialreqintpos001","title":"Campos presentes nas mensagens geradas pelo Aplicativo de Automa\u00e7\u00e3o Comercial - Solicita\u00e7\u00f5es (C:\\TEF_DIAL\\REQ\\IntPos.001)","text":"C\u00f3digo do Campo Tipo de Informa\u00e7\u00e3o ATV ADM CHQ CRT CNC CNF NCN PAG 000-000 HEADER M M M M M M M - 001-000 IDENTIFICA\u00c7\u00c3O M M M M M M M - 002-000 DOCUMENTO FISCAL VINCULADO - - O O O O O - 003-000 VALOR TOTAL - - M M M - - - 004-000 MOEDA - - - O - - - - 005-000 CMC-7 - - O - O(1) - - - 006-000 TIPO DE PESSOA - - O - O(1) - - - 007-000 DOCUMENTO DA PESSOA - - O - O(1) - - - 008-000 DATA DO CHEQUE - - O - O(1) - - - 010-000 NOME DA REDE - - - - M M M - 012-000 N\u00daMERO DA TRANSA\u00c7\u00c3O - NSU - - - - M M M - 022-000 DATA DA TRANSA\u00c7\u00c3O - COMPROVANTE - - - - M - - - 023-000 HORA DA TRANSA\u00c7\u00c3O - COMPROVANTE - - - - M - - - 027-000 FINALIZA\u00c7\u00c3O - - - - - M M - 033-000 BANCO - - O - O(1) - - - 034-000 AG\u00caNCIA - - O - O(1) - - - 035-000 AG\u00caNCIA - DC - - O - O(1) - - - 036-000 CONTA CORRENTE - - O - O(1) - - - 037-000 CONTA CORRENTE - DC - - O - O(1) - - - 038-000 N\u00daMERO DO CHEQUE - - O - O(1) - - - 039-000 N\u00daMERO DO CHEQUE - DC - - O - O(1) - - - 800-000 Indicador da opera\u00e7\u00e3o - OE O - O(1) - - OE 999-999 TRAILER - REGISTRO FINAL M M M M M M M - <p>Observa\u00e7\u00e3o: <pre><code>      (1)- somente existem para cancelamento de opera\u00e7\u00e3o com cheques.\n</code></pre></p>"},{"location":"pages/TrocaDeArquivos/LayoutMensagensComunicacao/#campos-presentes-nas-mensagens-geradas-pelo-gerenciador-status-ctef_dialresp-intpossts","title":"Campos presentes nas mensagens geradas pelo Gerenciador - Status (C:\\TEF_DIAL\\RESP \\IntPos.Sts)","text":"C\u00f3digo do Campo Tipo de Informa\u00e7\u00e3o ATV ADM CHQ CRT CNC CNF NCN 000-000 HEADER M M M M M M M 001-000 IDENTIFICA\u00c7\u00c3O M M M M M M M 999-999 TRAILER \u2013 REGISTRO FINAL M M M M M M M"},{"location":"pages/TrocaDeArquivos/LayoutMensagensComunicacao/#campos-presentes-nas-mensagens-geradas-pelo-gerenciador-respostas-ctef_dialresp-intpos001","title":"Campos presentes nas mensagens geradas pelo Gerenciador - Respostas (C:\\TEF_DIAL\\RESP \\IntPos.001)","text":"C\u00f3digo do Campo Tipo de Informa\u00e7\u00e3o ATV ADM CHQ CRT CNC PAG 000-000 HEADER - M M M M M 001-000 IDENTIFICA\u00c7\u00c3O - M M M M - 002-000 DOCUMENTO FISCAL VINCULADO - O O(3) O(3) O(3) - 003-000 VALOR TOTAL - O M M M - 004-000 MOEDA - O - M(3) M(3) - 005-000 CMC-7 - O M(3) - O(2) - 006-000 TIPO DE PESSOA - - M - - - 007-000 DOCUMENTO DA PESSOA - - M - - - 008-000 DATA DO CHEQUE - - M - - - 009-000 STATUS DA TRANSA\u00c7\u00c3O - M M M M - 010-000 NOME DA REDE - M M M M - 011-000 TIPO DA TRANSA\u00c7\u00c3O - M M M M - 012-000 N\u00daMERO DA TRANSA\u00c7\u00c3O - NSU - O M(1) M(1) M(1) - 013-000 C\u00d3DIGO DE AUTORIZA\u00c7\u00c3O DA TRANSA\u00c7\u00c3O - O O O O - 014-000 N\u00daMERO DO LOTE DA TRANSA\u00c7\u00c3O - O - O O - 015-000 TIMESTAMP DA TRANSA\u00c7\u00c3O - HOST - O M(1) M(1) M(1) - 016-000 TIMESTAMP DA TRANSA\u00c7\u00c3O - LOCAL - O O O O - 017-000 TIPO PARCELAMENTO - - - O - - 018-000 QUANTIDADE DE PARCELAS - - - O - - 019-yyy DATA VENCIMENTO DA PARCELA - - - O - - 020-yyy VALOR DA PARCELA - - - O - - 021-yyy N\u00daMERO DA TRANSA\u00c7\u00c3O \u2013 NSU DA PARCELA - - - O - - 022-000 DATA DA TRANSA\u00c7\u00c3O - COMPROVANTE - O O M(1) M(1) - 023-000 HORA DA TRANSA\u00c7\u00c3O - COMPROVANTE - O O M(1) M(1) - 024-000 DATA PR\u00c9-DATADO - - - O - - 025-000 N\u00daMERO DA TRANSA\u00c7\u00c3O CANCELADA - NSU - O - - M - 026-000 TIMESTAMP DA TRANSA\u00c7\u00c3O CANCELADA - O - - M - 027-000 FINALIZA\u00c7\u00c3O - O M(1) M(1) M(1) - 028-000 QUANTIDADE DE LINHAS DO COMPROVANTE (*) - M M M M - 029-yyy IMAGEM DE CADA LINHA DO COMPROVANTE - O O O O - 030-000 TEXTO ESPECIAL OPERADOR - O O O O - 031-000 TEXTO ESPECIAL CLIENTE - O O O O - 032-000 AUTENTICA\u00c7\u00c3O - - O - - - 033-000 BANCO - O M(4) - O - 034-000 AG\u00caNCIA - O M(4) - O - 035-000 AG\u00caNCIA - DC - O O - O - 036-000 CONTA CORRENTE - O M(4) - O - 037-000 CONTA CORRENTE - DC - O O - O - 038-000 N\u00daMERO DO CHEQUE - O O(4) - O - 039-000 N\u00daMERO DO CHEQUE - DC - O O - O - 040-000 NOME DA ADMINISTRADORA - O O O O - 709-000 VALOR DE DESCONTO (DEVE SER RESGISTRADO COMO \u201cDESCONTO\u201d NA ECF) - - - - - - 801-000 LOG DA TRANSA\u00c7\u00c3O APROVADA - - - - - - 803-000 LOG ESTENDIDO DA TRANSA\u00c7\u00c3O APROVADA - - - - - - 999-999 TRAILER - REGISTRO FINAL - M M M M M <p>Observa\u00e7\u00e3o: <pre><code>      (1)- somente existem se a transa\u00e7\u00e3o foi aprovada. \n\n      (2)- devolve, opcionalmente, qual o cheque foi cancelado, desde que o \n      M\u00f3dulo TEF permita cancelamentos. \n\n      (3)- Somente estar\u00e3o preenchidos se a informa\u00e7\u00e3o for preenchida no \n      arquivo de envio correspondente. \n\n      (4)- Somente estar\u00e3o preenchidos quando o campo CMC7 \u00e9 ausente.\n\n      (*) O campo 028-000 QUANTIDADE DE LINHAS DO COMPROVANTE est\u00e1 como obrigat\u00f3rio para\n      todas as opera\u00e7\u00f5es por uma medida de seguran\u00e7a para o Aplicativo de Automa\u00e7\u00e3o Comercial. O\n      O Gerenciador preencher\u00e1 este campo com zero \u201c0\u201d quando n\u00e3o houver comprovante.\n</code></pre></p>"},{"location":"pages/TrocaDeArquivos/LayoutMensagensComunicacao/#descricao-dos-campos","title":"Descri\u00e7\u00e3o dos campos","text":"Campo Conte\u00fado / Descri\u00e7\u00e3o 000-000 HEADERFinalidade:Indica o in\u00edcio do arquivo e o tipo de opera\u00e7\u00e3o relacionada ao arquivo.Formato:Alfanum\u00e9rico de 3 bytes.Conte\u00fados v\u00e1lidos:ATV- Verifica se o Gerenciador est\u00e1 ativoADM- AdministrativaCHQ- ChequeCRT- Cart\u00e3oCNC- CancelamentoCNF- Confirma\u00e7\u00e3o de finaliza\u00e7\u00e3o da venda e impress\u00e3o do cupomNCN- N\u00e3o confirma\u00e7\u00e3o de finaliza\u00e7\u00e3o da venda por desist\u00eancia do cliente ou erro na impress\u00e3o do cupom. 001-000 IDENTIFICA\u00c7\u00c3OFinalidade:Indica o n\u00famero de controle da solicita\u00e7\u00e3o que est\u00e1 sendo feita. Este n\u00famero \u00e9 gerado pelo aplicativo de automa\u00e7\u00e3o comercial, o qual dever\u00e1 colocar um conte\u00fado diferente a cada nova solicita\u00e7\u00e3o. Este mesmo conte\u00fado \u00e9 devolvido nos arquivos de resposta.Formato:Num\u00e9rico de at\u00e9 10 bytes. 002-000 DOCUMENTO FISCAL VINCULADOFinalidade:N\u00famero do documento fiscal vinculado \u00e0 forma de pagamento ou finaliza\u00e7\u00e3o.<code>Nota relativa a legisla\u00e7\u00e3o ECF \u201c\u2026A emiss\u00e3o do comprovante de pagamento de opera\u00e7\u00e3o ou presta\u00e7\u00e3o, efetuado  com cart\u00e3o de cr\u00e9dito ou d\u00e9bito autom\u00e1tico em conta corrente somente poder\u00e1 ser feita por meio de ECF, devendo o    comprovante estar vinculado ao documento fiscal emitido na opera\u00e7\u00e3o ou presta\u00e7\u00e3o respectiva, conforme disposto  em legisla\u00e7\u00e3o pertinente.\u201d.</code>Formato:Num\u00e9rico de at\u00e9 12 bytes. 003-000 VALOR TOTALFinalidade:Valor total desta forma de pagamento.Formato:Num\u00e9rico de at\u00e9 12 bytes, sendo duas casas decimais sem a virgula separadora 004-000 MOEDAFinalidade:Indica a moeda utilizada na opera\u00e7\u00e3oFormato:Num\u00e9rico de 1 byteConte\u00fados V\u00e1lidos:0 \u2013 para Real1 \u2013 para Dolar 005-000 CMC-7Finalidade:Cont\u00e9m os dados do cheque no mesmo formato obtido por uma leitura do CMC-7Formato:Alfanum\u00e9rico de at\u00e9 70 bytes. 006-000 TIPO DE PESSOAFinalidade:Indica o tipo de pessoa que esta sendo atendida na opera\u00e7\u00e3o.Formato:Alfanum\u00e9rico de 1 byteConte\u00fados V\u00e1lidos:F \u2013 para pessoa f\u00edsica \u2013 CPFJ \u2013 para pessoa jur\u00eddica - CNPJ 007-000 DOCUMENTO DA PESSOAFinalidade:Indica a pessoa que esta sendo atendida na opera\u00e7\u00e3o por meio do CNPJ ou CPF.Formato:Num\u00e9rico 16 bytes. 008-000 DATA DO CHEQUEFinalidade:Data de vencimento do ChequeFormato:Num\u00e9rico \u2013 DDMMAAAA 009-000 STATUS DA TRANSA\u00c7\u00c3OFinalidade:Indica se a transa\u00e7\u00e3o foi aprovada ou recusada e qual o motivo da recusa.Formato:Alfanum\u00e9rico de at\u00e9 3 bytes.Conte\u00fados V\u00e1lidos:0 \u2013 para transa\u00e7\u00e3o aprovadaOutro valor \u2013 transa\u00e7\u00e3o negada 010-000 NOME DA REDEFinalidade:Nome da rede que tratou a transa\u00e7\u00e3oFormato:Alfanum\u00e9rico de at\u00e9 8 bytesConte\u00fados V\u00e1lidos:AMEXREDECARDCIELO 011-000 TIPO DA TRANSA\u00c7\u00c3OFinalidade:C\u00f3digo identificando o tipo da transa\u00e7\u00e3o executadaFormato:Num\u00e9rico de at\u00e9 2 bytes.Conte\u00fados V\u00e1lidos:00 - Administrativas \u2013 Outras (Reimpress\u00e3o, Inicia\u00e7\u00e3o de Terminal etc.)01 - Administrativa \u2013 Fechamento/Transmiss\u00e3o de Lote10- Cart\u00e3o de Cr\u00e9dito \u00e0 Vista11- Cart\u00e3o de Cr\u00e9dito Parcelado pelo Estabelecimento12- Cart\u00e3o de Cr\u00e9dito Parcelado pela Administradora13- Pr\u00e9-Autoriza\u00e7\u00e3o com Cart\u00e3o de Cr\u00e9dito20- Cart\u00e3o de D\u00e9bito \u00e0 Vista21- Cart\u00e3o de D\u00e9bito Pr\u00e9-Datado22- Cart\u00e3o de D\u00e9bito Parcelada23- Cart\u00e3o de D\u00e9bito \u00e0 Vista For\u00e7ada24- Cart\u00e3o de D\u00e9bito Pr\u00e9-Datado For\u00e7ada25- Cart\u00e3o de D\u00e9bito Pr\u00e9-Datado sem Garantia30- Outros Cart\u00f5es40- CDC41- Consulta CDC50- Conv\u00eanio60- Voucher70- Consulta Cheque71- Garantia de Cheque99-OutrasObs.: No cancelamento de venda feito atrav\u00e9s da opera\u00e7\u00e3o ADM (Administrativa) este campo conter\u00e1 o tipo da transa\u00e7\u00e3o de  venda que foi cancelada.Exemplos de HEADER como \"ADM\":Exemplo 01: 011-000 = 00(Administrativas: Reimpress\u00e3o, Inicia\u00e7\u00e3o de Terminal etc.)Exemplo 02: 011-000 = 01(Administrativa: Fechamento/Transmiss\u00e3o de Lote)Exemplo 03: 011-000 = 10(Cancelamento de Cart\u00e3o de Cr\u00e9dito, qualquer que tenha sido a modalidade: \u00e0 Vista, Parcelado pelo Estabelecimento ou pela Administradora)Exemplo 04: 011-000 = 20(Cancelamento de Cart\u00e3o de D\u00e9bito, qualquer que tenha sido a modalidade: \u00e0 Vista, Pr\u00e9-Datado, Parcelado etc.)Exemplo 05: 011-000 = 71(Cancelamento de Garantia de Cheque) 012-000 N\u00daMERO DA TRANSA\u00c7\u00c3O - NSUFinalidade:Indica o n\u00famero de seq\u00fc\u00eancia (NSU \u2013 N\u00famero Sequencial \u00danico) da transa\u00e7\u00e3o atribu\u00eddo pelo Host (Sistema das Redes de Cart\u00e3o que recebe e trata as solicita\u00e7\u00f5es das transa\u00e7\u00f5es TEF).Quando este campo \u00e9 enviado do Gerenciador para o Aplicativo de Automa\u00e7\u00e3o Comercial, ele representa o NSU do Host estabelecido para a transa\u00e7\u00e3o.Quando este campo \u00e9 enviado do Aplicativo de Automa\u00e7\u00e3o Comercial para o Gerenciador, ele representa o NSU da transa\u00e7\u00e3o a ser tratada (cancelada, confirmada etc.)Formato: Num\u00e9rico de at\u00e9 12 bytes. 013-000 C\u00d3DIGO DE AUTORIZA\u00c7\u00c3O DA TRANSA\u00c7\u00c3OFinalidade:Indica o n\u00famero de autoriza\u00e7\u00e3o da transa\u00e7\u00e3o atribu\u00edda pelo Host.Cada transa\u00e7\u00e3o TEF possui um n\u00famero de autoriza\u00e7\u00e3o.Formato: Num\u00e9rico de at\u00e9 6 bytes. 014-000 N\u00daMERO DO LOTE DA TRANSA\u00c7\u00c3OFinalidade:Indica o n\u00famero de lote da transa\u00e7\u00e3oFormato: Num\u00e9rico de at\u00e9 10 bytes. 015-000 TIMESTAMP DA TRANSA\u00c7\u00c3O HOSTFinalidade:Indica a  data e hora da transa\u00e7\u00e3o no Host.Formato: Num\u00e9rico \u2013 DDMMHHMMSS 016-000 TIMESTAMP DA TRANSA\u00c7\u00c3O LOCALFinalidade:Indica a  data e hora da transa\u00e7\u00e3o no ponto de venda.Formato: Num\u00e9rico \u2013 DDMMHHMMSS 017-000 TIPO PARCELAMENTOFinalidade:Indica o tipo de parcelamento aplicado \u00e0 opera\u00e7\u00e3oFormato: Indica o tipo de parcelamento aplicado \u00e0 opera\u00e7\u00e3oNum\u00e9rico de 1 byteConte\u00fados V\u00e1lidos:0 \u2013 parcelado estabelecimento1 \u2013 parcelado administradora 018-000 QUANTIDADE DE PARCELASFinalidade:Indica o n\u00famero de parcelas no caso de transa\u00e7\u00f5es Parceladas (Cr\u00e9dito ou D\u00e9bito).Formato: Num\u00e9rico de at\u00e9 2 bytes. 019-yyy DATA VENCIMENTO DA PARCELAFinalidade:Indica a data em que foi agendada a parcela (yyy). A parcela \u00e9 indicada pelos tr\u00eas caracteres (yyy) do campo correspondente, onde yyy ser\u00e1 igual a 001, 002, \u2026 respectivamente para cada uma das parcelas definidas no campo QUANTIDADE DE PARCELAS.Formato: Num\u00e9rico - DDMMAAAA 020-yyy VALOR DA PARCELAFinalidade:Indica o valor da parcela (yyy). A parcela \u00e9 indicada pelos tr\u00eas caracteres (yyy) do campo correspondente, onde yyy ser\u00e1 igual a 001, 002, \u2026 respectivamente para cada uma das parcelas definidas no campo QUANTIDADE DE PARCELAS.Formato:Num\u00e9rico de at\u00e9 12 bytes, sendo duas casas decimais sem a v\u00edrgula separadora. 021-yyy N\u00daMERO DA TRANSA\u00c7\u00c3O \u2013 NSU DA PARCELAFinalidade:Indica o NSU da parcela (yyy). A parcela \u00e9 indicada pelos tr\u00eas caracteres (yyy) do campo correspondente, onde yyy ser\u00e1 igual a 001, 002, \u2026 respectivamente para cada uma das parcelas definidas no campo QUANTIDADE DE PARCELAS.Formato: Num\u00e9rico de at\u00e9 12 bytes. 022-000 DATA DA TRANSA\u00c7\u00c3O - COMPROVANTEFinalidade:Indica a  hora da transa\u00e7\u00e3oFormato:Num\u00e9rico \u2013 HHMMSS 023-000 HORA DA TRANSA\u00c7\u00c3O - COMPROVANTE Finalidade:Indica a  hora da transa\u00e7\u00e3oFormato: Num\u00e9rico \u2013 HHMMSS 024-000 DATA PR\u00c9-DATADOFinalidade:Cont\u00e9m data de agendamento para pr\u00e9-datado.Formato:Num\u00e9rico \u2013 DDMMAAAA 025-000 N\u00daMERO DA TRANSA\u00c7\u00c3O CANCELADA - NSUFinalidade:N\u00famero de sequ\u00eancia (NSU) da transa\u00e7\u00e3o cancelada.Formato:N\u00famero de sequ\u00eancia (NSU) da transa\u00e7\u00e3o cancelada.Num\u00e9rico de at\u00e9 12 bytes. 026-000 TIMESTAMP DA TRANSA\u00c7\u00c3O CANCELADA - HOSTFinalidade:Cont\u00e9m a data e hora da transa\u00e7\u00e3o cancelada no Host.Formato: Num\u00e9rico - DDMMHHMMSS 027-000 FINALIZA\u00c7\u00c3OFinalidade:Dados recebidos do M\u00f3dulo TEF que executou a transa\u00e7\u00e3o e que devem ser devolvidos no comando de finaliza\u00e7\u00e3o de uma venda.Formato:Alfanum\u00e9rico de at\u00e9 30 bytes. 028-000 QUANTIDADE DE LINHAS DO COMPROVANTEFinalidade:Indica a quantidade de linhas do comprovante. Quando n\u00e3o h\u00e1 comprovante o campo deve conter zero.Formato:Num\u00e9rico de at\u00e9 3 bytes 029-yyy IMAGEM DE CADA LINHA DO COMPROVANTEFinalidade:Apresenta a imagem a ser impressa de cada uma das linhas do comprovante. A linha de impress\u00e3o \u00e9 indicada pelos tr\u00eas caracteres (yyy) do campo correspondente, onde yyy ser\u00e1 igual a  001, 002, ... respectivamente para cada uma das linhas definidas no campo QUANTIDADE DE LINHAS DO COMPROVANTE.Formato:Alfanum\u00e9rico de at\u00e9 40 bytes. 030-000 TEXTO ESPECIAL OPERADOR Finalidade:Texto que, quando presente, deve ser apresentado pelo aplicativo de Automa\u00e7\u00e3o Comercial ao operador.Formato:Alfanum\u00e9rico de at\u00e9 40 bytes. 031-000 TEXTO ESPECIAL CLIENTEFinalidade:Texto que, quando presente, deve ser apresentado pelo aplicativo de Automa\u00e7\u00e3o Comercial ao cliente.Formato:Alfanum\u00e9rico de at\u00e9 40 bytes. 032-000 AUTENTICA\u00c7\u00c3OFinalidade:Mensagem de autentica\u00e7\u00e3o a ser impressa no cheque.Mensagem de autentica\u00e7\u00e3o a ser impressa no chequeFormato: Alfanum\u00e9rico de at\u00e9 20 bytes. 033-000 BANCOFinalidade:C\u00f3digo do Banco no padr\u00e3o do Banco CentralFormato:Alfanum\u00e9rico de at\u00e9 4 bytes. 034-000 AG\u00caNCIAFinalidade:C\u00f3digo da ag\u00eancia do chequeFormato:Alfanum\u00e9rico de at\u00e9 20 bytes. 035-000 AG\u00caNCIA - DCFinalidade:D\u00edgito de controle da ag\u00eancia do chequeFormato:Alfanum\u00e9rico de at\u00e9 2 bytes. 036-000 CONTA CORRENTEFinalidade:C\u00f3digo da conta corrente do chequeFormato:Alfanum\u00e9rico de at\u00e9 20 bytes. 037-000 CONTA CORRENTE - DCFinalidade:D\u00edgito de controle da conta corrente do chequeFormato:Alfanum\u00e9rico de at\u00e9 2 bytes. 038-000 N\u00daMERO DO CHEQUEFinalidade:N\u00famero do chequeFormato:Alfanum\u00e9rico de at\u00e9 20 bytes. 039-000 N\u00daMERO DO CHEQUE - DCFinalidade:D\u00edgito de controle do N\u00famero do chequeFormato:Alfanum\u00e9rico de at\u00e9 2 bytes. 040-000 NOME DA ADMINISTRADORAFinalidade:Identifica a Administradora do Cart\u00e3o utilizado.Formato:Alfanum\u00e9rico de at\u00e9 12 bytes.Conte\u00fados V\u00e1lidos: CIELOAMEXMASTERCARDetc. 709-000 Valor de desconto concedido pela rede administradora que deve registrado na ECF como \u201cdesconto\u201d no cupom fiscal 800-000 Identifica qual opera\u00e7\u00e3o CRT ou ADM deve ser realizada\u2981 001-Cancelamento\u2981 002-Reimpress\u00e3o\u2981 003-Consulta Saldo\u2981 004-Consulta Parcelas\u2981 005-Serasa [REDECARD]\u2981 006-Pr\u00e9-Autoriza\u00e7\u00e3o\u2981 007-Pagamentos [VISANET]\u2981 008-Teste Rede Ativa\u2981 009-Recarga Celular\u2981 010-Resumo Vendas [REDECARD]\u2981 011-Pagamento Fatura\u2981 012-Cadastro Programa\u2981 013-Ac\u00famulo De Pontos\u2981 014-Resgate De Pontos\u2981 015-Estorno De Pontos\u2981 016-Correspondente Banc\u00e1rio (Menu)\u2981 036-Transa\u00e7\u00e3o de Cr\u00e9dito\u2981 037-Transa\u00e7\u00e3o de D\u00e9bito\u2981 038-Transa\u00e7\u00e3o Voucher\u2981 039-Transa\u00e7\u00e3o Private Label\u2981 045-Transa\u00e7\u00e3o Frota 046-Transa\u00e7\u00e3o Credi\u00e1rio\u2981 061-Transa\u00e7\u00e3o ValeG\u00e1s 062-Transa\u00e7\u00e3o D\u00e9bito Qualidade\u2981 063-Transa\u00e7\u00e3o D\u00e9bito MettaCard\u2981 101-CB (Inicializa\u00e7\u00e3o de Equipamento)\u2981 102-CB (Finaliza\u00e7\u00e3o de Equipamento)\u2981 103-CB (Pagamento de Conta)\u2981 104-CB (Cancelamento de Pagamento)\u2981 105-CB (Resumo de Pagamentos)\u2981 106-CB (Reimpress\u00e3o de Comprovante)\u2981 107-CB (Configura\u00e7\u00f5es) 801-000 Dados da transa\u00e7\u00e3o de acordo com a opera\u00e7\u00e3o realizada. Algumas transa\u00e7\u00f5es n\u00e3o possuem log, nestes casos, este campo n\u00e3o ser\u00e1 retornado. Normalmente este campo ser\u00e1 gerado para as transa\u00e7\u00f5es que realizam movimenta\u00e7\u00e3o financeira. O layout dos dados est\u00e3o descritos no cap\u00edtulo \u201cLog das Transa\u00e7\u00f5es\u201d deste manual. J\u00e1 o layout das opera\u00e7\u00f5es CB encontram-se no manual \u201cIntegra\u00e7\u00e3oCB.doc\u201d. 802-000 \u2981 0-Normal\u2981 1-Promocional 803-000 Dados estendidos da transa\u00e7\u00e3o, de acordo com o item \u201c2.3.17 \u2013 Registro de Log Estendido\u201d deste documento. 999-999 Finalidade:Indica fim do arquivo.Formato:Num\u00e9rico de 1 byte \u2013 Constante zero"},{"location":"pages/TrocaDeArquivos/LayoutMensagensComunicacao/#exemplo-de-uma-venda-com-cartao-de-credito","title":"Exemplo de uma venda com cart\u00e3o de cr\u00e9dito","text":"<p>Arquivo de solicita\u00e7\u00e3o da compra (C:\\TEF_DIAL\\REQ\\IntPos.001)</p> Imagem do arquivo Coment\u00e1rios 000-000 = CRT Header p/venda p/cart\u00e3o 001-000 = 1 Identifica\u00e7\u00e3o da solicita\u00e7\u00e3o 002-000 = 123456 N\u00famero do documento fiscal vinculado 003-000 = 150000 Valor total da transa\u00e7\u00e3o (R$1.500,00) 999-999 = 0 Registro final do arquivo"},{"location":"pages/TrocaDeArquivos/LayoutMensagensComunicacao/#arquivo-de-informacao-que-a-funcao-esta-sendo-executada-ctef_dialresp-intpossts","title":"Arquivo de informa\u00e7\u00e3o que a fun\u00e7\u00e3o est\u00e1 sendo executada (C:\\TEF_DIAL\\RESP \\IntPos.Sts)","text":"Imagem do arquivo Coment\u00e1rios 000-000 = CRT Header p/venda p/cart\u00e3o 001-000 = 1 Identifica\u00e7\u00e3o da solicita\u00e7\u00e3o 999-999 = 0 Registro final do arquivo"},{"location":"pages/TrocaDeArquivos/LayoutMensagensComunicacao/#arquivo-de-resposta-ctef_dialresp-intpos001","title":"Arquivo de resposta (C:\\TEF_DIAL\\RESP \\IntPos.001)","text":"Imagem do arquivo Coment\u00e1rios 000-000 = CRT Header p/venda p/cart\u00e3o 001-000 = 1 Identifica\u00e7\u00e3o da solicita\u00e7\u00e3o 002-000 = 123456 N\u00famero do documento fiscal vinculado 003-000 = 150000 Valor total da transa\u00e7\u00e3o (R$1.500,00) 004-000 = 1 Moeda = real 009-000 = 0 Status da transa\u00e7\u00e3o = OK 010-000 = Nome da Rede Nome da Rede 011-000 = 10 Tipo da Transa\u00e7\u00e3o = Cart\u00e3o de Cr\u00e9dito \u00e0 Vista 012-000 = 123456789000 N\u00famero da NSU 013-000 = 123456 C\u00f3digo de Autoriza\u00e7\u00e3o da Transa\u00e7\u00e3o 014-000 = 1234567890 N\u00famero do Lote da Transa\u00e7\u00e3o 015-000 = DDMMHHMMSS Data e a Hora da Transa\u00e7\u00e3o (Host) 016-000 = DDMMHHMMSS Data e Hora da Transa\u00e7\u00e3o local  (ponto de venda) 022-000 = DDMMAAAA Data da Transa\u00e7\u00e3o - Comprovante 023-000 = HHMMSS Hora da Transa\u00e7\u00e3o - Comprovante 027-000 = 123XXYTZAAABC Finaliza\u00e7\u00e3o 028-000 = 20 Quant. de linhas do comprovante = 20 029-001 = \u201c     Rede X\u201d Imagem do comprovante  \u2013 linha 01 029-002 = \u201c Loja X\u201d Imagem do comprovante  \u2013 linha 02 029-003 = \u201c Rua X\u201d Imagem do comprovante  \u2013 linha 03 029-004 = \u201cTERM.666666\u201d Imagem do comprovante  \u2013 linha 04 029-005 = \u201cADM. X\u201d Imagem do comprovante  \u2013 linha 05 . Imagem do comprovante  \u2013 linha .. . Imagem do comprovante  \u2013 linha .. . Imagem do comprovante  \u2013 linha .. 029-017 = \"\" Imagem do comprovante  \u2013 linha 17 029-018 = \"\" Imagem do comprovante  \u2013 linha 18 029-019 = \u201cASSINATURA\u201d Imagem do comprovante  \u2013 linha 19 029-020 = \u201cCLIENTE X\u201d Imagem do comprovante  \u2013 linha 20 040-000 = \u201cADM. X\u201d Administradora do Cart\u00e3o 999-999 = 0 Registro final do arquivo <pre><code>   Nota: Somente ser\u00e1 disponibilizada uma c\u00f3pia do comprovante, \n   ficando a cargo da Aplica\u00e7\u00e3o de Automa\u00e7\u00e3o Comercial a emiss\u00e3o \n   da quantidade de vias necess\u00e1rias, em fun\u00e7\u00e3o do tipo de impressora \n   dispon\u00edvel. Dever\u00e3o haver ao menos duas \"vias\", uma para o cliente \n   e outra para o estabelecimento.\n</code></pre>"},{"location":"pages/TrocaDeArquivos/LayoutMensagensComunicacao/#arquivo-de-confirmacao-ctef_dialreqintpos001","title":"Arquivo de confirma\u00e7\u00e3o (C:\\TEF_DIAL\\REQ\\IntPos.001)","text":"Imagem do arquivo Coment\u00e1rios 000-000 = CRT Header p/ confirma\u00e7\u00e3o de finaliza\u00e7\u00e3o da venda e impress\u00e3o do cupom 001-000 = 1 Identifica\u00e7\u00e3o da solicita\u00e7\u00e3o 002-000 = 123456 N\u00famero do documento fiscal vinculado 010-000 = Rede X Rede respons\u00e1vel pela autoriza\u00e7\u00e3o 012-000 = 123456789000 N\u00famero da Transa\u00e7\u00e3o NSU 027-000 = 123XXYTZAAABC Finaliza\u00e7\u00e3o 999-999 = 0 Registro final do arquivo"},{"location":"pages/TrocaDeArquivos/OutrasConsideracoesTrocaDeArquivos/","title":"Outras considera\u00e7\u00f5es Troca de Arquivos","text":""},{"location":"pages/TrocaDeArquivos/OutrasConsideracoesTrocaDeArquivos/#outras-consideracoes","title":"Outras considera\u00e7\u00f5es","text":"<pre><code>\u2981 Apesar de serem neste momento somente requeridos pela rede CIELO, os tratamentos \ndescritos neste documento n\u00e3o devem ser restritos \u00e0 rede CIELO ou a determinada \nsolu\u00e7\u00e3o de TEF. Os tratamentos aqui especificados permitem total compatibilidade com \nsolu\u00e7\u00f5es de TEF que n\u00e3o suportam as novas funcionalidades.\n\n\u2981 Caso o arquivo de resposta contenha campos desconhecidos pela Automa\u00e7\u00e3o Comercial, esta \ndeve ignor\u00e1-los sem acusar erro. Isto permite que informa\u00e7\u00f5es adicionais sejam futuramente \nretornadas pelo aplicativo de TEF, mantendo compatibilidade com vers\u00f5es de Automa\u00e7\u00e3o Comercial \nanteriores \u00e0 nova especifica\u00e7\u00e3o.\n</code></pre> Exemplo de arquivo de retorno <pre><code>000-000 = CRT\n001-000 = 618538554\n002-000 = 223546\n003-000 = 10800 \n004-000 = 0 \n009-000 = 0 \n010-000 = NOVAREDE \n011-000 = 20 \n012-000 = 12282005821 \n013-000 = 005045 \n015-000 = 0906122820 \n016-000 = 0906122820 \n022-000 = 09062012 \n023-000 = 122820 \n027-000 = 12060912282012282005821\n028-000 = 19\n029-001 = \"      *** DEMONSTRACAO  PAY&amp;GO ***\"\n029-002 = \"           COMPROVANTE DE TEF\"\n029-003 = \"    \"\n029-004 = \"    ESTABELECIMENTO DE TESTE\"\n029-005 = \"    823982346832235/03876463\"\n029-006 = \"    \"\n029-007 = \"    09/06/2012              12:28:20\"\n029-008 = \"    REF.FISCAL:618538554\"\n029-009 = \"    DOC:020778        AUTORIZ:005045\"\n029-010 = \"    REF.HOST:12282005821\"\n029-011 = \"    \"\n029-012 = \"    DEMOCARD        ************1111\"\n029-013 = \"    VENDA DEBITO A VISTA\"\n029-014 = \"    VALOR FINAL: R$ 108,00\"\n029-015 = \"    VALOR ORIGINAL: R$ 120,00\"\n029-016 = \"    DESCONTO: R$ 12,00\"\n029-017 = \"    \"\n029-018 = \"    TRANSACAO AUTORIZADA MEDIANTE\"\n029-019 = \"        USO DA SENHA PESSOAL.\"\n030-000 = AUTORIZADA 005045\n040-000 = DEMOCARD\n707-000 = 12000\n709-000 = 1200\n710-000 = 5\n711-001 = \"DEMOCARD                ************1111\"\n711-002 = \"POS:03876463  DOC:020778  AUTORIZ:005045\"\n711-003 = \"VENDA DEBITO A VISTA\" \n711-004 = \"VALOR FINAL: R$ 108,00\" \n711-005 = \"DESCONTO: R$ 12,00\"\n712-000 = 17\n713-001 = \"      *** DEMONSTRACAO  PAY&amp;GO ***\"\n713-002 = \"           COMPROVANTE DE TEF\"\n713-003 = \"              VIA: CLIENTE\"\n713-004 = \"    \" \n713-005 = \"    ESTABELECIMENTO DE TESTE\" \n713-006 = \"    823982346832235/03876463\" \n713-007 = \"    \" \n713-008 = \"    09/06/2012              12:28:20\" \n713-009 = \"    REF.FISCAL:618538554\" \n713-010 = \"    DOC:020778        AUTORIZ:005045\"\n713-011 = \"    REF.HOST:12282005821\"\n713-012 = \"    \"\n713-013 = \"    DEMOCARD        ************1111\"\n713-014 = \"    VENDA DEBITO A VISTA\"\n713-015 = \"    VALOR FINAL: R$ 108,00\"\n713-016 = \"    VALOR ORIGINAL: R$ 120,00\"\n713-017 = \"    DESCONTO: R$ 12,00\"\n714-000 = 20\n715-001 = \"      *** DEMONSTRACAO  PAY&amp;GO ***\"\n715-002 = \"           COMPROVANTE DE TEF\"\n715-003 = \"          VIA: ESTABELECIMENTO\"\n715-004 = \"    \"\n715-005 = \"    ESTABELECIMENTO DE TESTE\"\n715-006 = \"    823982346832235/03876463\"\n715-007 = \"    \"\n715-008 = \"    09/06/2012              12:28:20\"\n715-009 = \"    REF.FISCAL:618538554\"\n715-010 = \"    DOC:020778        AUTORIZ:005045\"\n715-011 = \"    REF.HOST:12282005821\"\n715-012 = \"    \"\n715-013 = \"    DEMOCARD        ************1111\"\n715-014 = \"    VENDA DEBITO A VISTA\"\n715-015 = \"    VALOR FINAL: R$ 108,00\"\n715-016 = \"    VALOR ORIGINAL: R$ 120,00\"\n715-017 = \"    DESCONTO: R$ 12,00\"\n715-018 = \"    \"\n715-019 = \"    TRANSACAO AUTORIZADA MEDIANTE\"\n715-020 = \"        USO DA SENHA PESSOAL.\"\n718-000 = DEMO\n719-000 = ESTAB 42\n999-999 = 0\n</code></pre>"},{"location":"pages/WebCheckout/","title":"Web Checkout","text":""},{"location":"pages/WebCheckout/#webcheckout","title":"WebCheckout","text":""},{"location":"pages/WebCheckout/#o-que-voce-precisa-saber-para-integrar","title":"O que voc\u00ea precisa saber para integrar?","text":"<p>Neste documento iremos detalhar todos os passos necess\u00e1rios para realizar a integra\u00e7\u00e3o com o Paykit por interm\u00e9dio de nosso WebCheckout, que ser\u00e1 utilizado para realizar toda a parte complexa e demorada da integra\u00e7\u00e3o e facilitar a sua vida.</p> <p>Com o Paykit WebCheckout, cuidamos de toda a intera\u00e7\u00e3o com o usu\u00e1rio para voc\u00ea, sendo assim basta nos enviar os dados do pagamento que iremos informar ao usu\u00e1rio todos os passos que precisam ser executados, desde a leitura do cart\u00e3o at\u00e9 a sua autoriza\u00e7\u00e3o e ao final de tudo s\u00f3 lhe devolvemos os dados de autoriza\u00e7\u00e3o e cupons.</p>"},{"location":"pages/WebCheckout/#tenha-um-pinpad-instalado","title":"Tenha um Pinpad Instalado!","text":"<p>\u00c9 necess\u00e1rio instalar e configurar o Pinpad para que a instala\u00e7\u00e3o do ambiente de desenvolvimento possa ser conclu\u00edda.</p>"},{"location":"pages/WebCheckout/FluxoComunicacao/","title":"Fluxo de comunica\u00e7\u00e3o","text":""},{"location":"pages/WebCheckout/FluxoComunicacao/#fluxo-de-comunicacao-com-o-paykit-checkout","title":"Fluxo de comunica\u00e7\u00e3o com o Paykit Checkout","text":"<p>Durante a integra\u00e7\u00e3o com o Paykit Checkout ser\u00e1 necess\u00e1ria a execu\u00e7\u00e3o e valida\u00e7\u00e3o de alguns procedimentos. A imagem ao lado demonstra este fluxo:</p> <p></p> <ol> <li>Ap\u00f3s realizar a autentica\u00e7\u00e3o ser\u00e1 necess\u00e1rio iniciar uma opera\u00e7\u00e3o de pagamento ou cancelamento.</li> <li>Ao iniciar uma opera\u00e7\u00e3o TEF, seja pagamento ou cancelamento o Paykit Checkout ser\u00e1 exibido, neste momento o operador ir\u00e1 interagir diretamente no checkout at\u00e9 que a opera\u00e7\u00e3o seja finalizada.</li> <li>Ap\u00f3s o final da transa\u00e7\u00e3o, seja aprovada ou negada, o Paykit Checkout ir\u00e1 fechar e a resposta ser\u00e1 retornada pelos callbacks informados durante a chamada da opera\u00e7\u00e3o.</li> </ol>"},{"location":"pages/WebCheckout/ApiDeReferencia/","title":"API de refer\u00eancia","text":""},{"location":"pages/WebCheckout/ApiDeReferencia/#api-de-referencia","title":"API de Refer\u00eancia","text":"<p>Nesta se\u00e7\u00e3o s\u00e3o descritos os m\u00e9todos para a automa\u00e7\u00e3o realizar transa\u00e7\u00f5es e obter informa\u00e7\u00f5es utilizando o Paykit Checkout.</p>"},{"location":"pages/WebCheckout/ApiDeReferencia/CapturaDadosTransacao/","title":"Capturando todos os dados da transa\u00e7\u00e3o","text":""},{"location":"pages/WebCheckout/ApiDeReferencia/CapturaDadosTransacao/#capturando-todos-os-dados-da-transacao","title":"Capturando todos os dados da transa\u00e7\u00e3o","text":"<p>A cada transa\u00e7\u00e3o realizada voc\u00ea recebe no callback os dados da transa\u00e7\u00e3o, conforme descrito abaixo.</p>"},{"location":"pages/WebCheckout/ApiDeReferencia/CapturaDadosTransacao/#exemplo-de-retorno-transacao-de-debito","title":"Exemplo de retorno transa\u00e7\u00e3o de d\u00e9bito:","text":"<pre><code>{\n   \"responseType\":1,\n   \"details\":{\n      \"acquirerAffiliationKey\":\"135999900020000\",\n      \"acquirerAuthorizationCode\":\"146228\",\n      \"acquirerAuthorizationDateTime\":\"2023-09-05T12:30:34\",\n      \"acquirerName\":\"Rede Stone\",\n      \"acquirerUniqueSequentialNumber\":\"146228\",\n      \"administrativeCode\":\"09542826103\",\n      \"cardBrandCodeLinx\":122,\n      \"cardBrandName\":\"MAESTRO\",\n      \"cardExpirationDate\":\"2028-10-31T00:00:00\",\n      \"cardHolderName\":\"CARDOSO/PEDRO\",\n      \"cardTokenDetails\":null,\n      \"customerCardLastFourDigits\":\"8877\",\n      \"customerCardPan\":\"516292******8877\",\n      \"installments\":1,\n      \"paymentAmount\":10.0,\n      \"paymentProductName\":\"D\u00e9bito \u00e0 Vista\",\n      \"receipt\":{\n         \"customerReceipt\":\"           PAYKIT HOMOLOGA\\r\\n          08.476.665/0001-88\\r\\n\\r\\n           **VIA CLIENTE**\\r\\n              REDE STONE\\r\\n       MAESTRO - DEBITO A VISTA\\r\\n         **** **** **** 7148\\r\\n        ESTAB 135999900020000\\r\\n          05/09/23 12:30:45\\r\\n       AUT= 146228 DOC= 146228\\r\\n           NSU HOST 146228\\r\\n             VALOR= 10,00\\r\\n        CONTROLE= 09542826103\\r\\n          EC:135999900020000\\r\\n            PAYKIT CARTOES\",\n         \"merchantReceipt\":\"           PAYKIT HOMOLOGA\\r\\n          08.476.665/0001-88\\r\\n\\r\\n           **VIA LOJISTA**\\r\\n              REDE STONE\\r\\n       MAESTRO - DEBITO A VISTA\\r\\n         **** **** **** 7148\\r\\n        ESTAB 135999900020000\\r\\n          05/09/23 12:30:45\\r\\n       AUT= 146228 DOC= 146228\\r\\n           NSU HOST 146228\\r\\n             VALOR= 10,00\\r\\n        CONTROLE= 09542826103\\r\\n     TRANSACAO APROVADA COM SENHA\\r\\nCONTROLE 09542826103  \\r\\n          EC:135999900020000\\r\\n            PAYKIT CARTOES\",\n         \"reducedReceipt\":\"   REDE STONE - NL 135999900020000\\r\\n    MAESTRO - **** **** **** 7148\\r\\n       AUT= 146228 DOC= 146228\\r\\n             VALOR= 10,00\\r\\n        CONTROLE= 09542826103\"\n      },\n      \"uniqueSequentialNumber\":\"146228\",\n      \"requestKey\":\"identificacao1\"\n   }\n}\n</code></pre>"},{"location":"pages/WebCheckout/ApiDeReferencia/CapturaDadosTransacao/#respostas-de-recebimentos","title":"Respostas de Recebimentos","text":"Nome Descri\u00e7\u00e3o acquirerAffiliationKey acquirerAuthorizationCode c\u00f3digo de autoriza\u00e7\u00e3o da adquirente acquirerAuthorizationDateTime data/hora da transa\u00e7\u00e3o acquirerName nome da adquirente acquirerUniqueSequentialNumber NSU da rede administrativeCode NSU do Linx TEF cardBrand nome da bandeira cardBrandCodeLinx C\u00f3digo Linx das bandeiras do cart\u00e3o cardExpirationDate validade do cart\u00e3o cardHolderName nome do portador do cart\u00e3o cardTokenDetails informa\u00e7\u00f5es do cart\u00e3o e transa\u00e7\u00e3o customerCardLastFourDigits \u00faltimos quatro digitos do cart\u00e3o customerCardPan n\u00famero do cart\u00e3o installments n\u00famero de parcelas paymentAmount valor da transa\u00e7\u00e3o paymentProductName tipo de pagamento receipt Cupons para impress\u00e3oNomeDescri\u00e7\u00e3ocustomerReceiptrecibo do clientemerchantReceiptrecibo do lojistareducedReceiptrecibo reduzido uniqueSequentialNumber numero de controle da rede requestKey n\u00famero identificador da transa\u00e7\u00e3o na automa\u00e7\u00e3o <p>Assim que voc\u00ea realizar um pagamento ou cancelamento atrav\u00e9s do Paykit Checkout, receber\u00e1 o c\u00f3digo administrativo da transa\u00e7\u00e3o e os cupons para impress\u00e3o.</p>"},{"location":"pages/WebCheckout/ApiDeReferencia/CodigoMotivoNegada/","title":"C\u00f3digos de motivo para opera\u00e7\u00f5es negadas","text":""},{"location":"pages/WebCheckout/ApiDeReferencia/CodigoMotivoNegada/#codigos-de-motivo-para-operacoes-negadas","title":"C\u00f3digos de motivo para opera\u00e7\u00f5es negadas","text":"C\u00f3digo Descri\u00e7\u00e3o 1 N\u00e3o autenticado/Alguma das informa\u00e7\u00f5es fornecidas para autentica\u00e7\u00e3o n\u00e3o \u00e9 v\u00e1lida 3 Formato da requisi\u00e7\u00e3o recebida pelo Paykit Checkout \u00e9 inv\u00e1lido 5 Pagamento n\u00e3o autorizado/pendente/n\u00e3o encontrado 8 Erro na comunica\u00e7\u00e3o 11 Erro padr\u00e3o"},{"location":"pages/WebCheckout/ApiDeReferencia/CodigosRetorno/","title":"Poss\u00edveis c\u00f3digos de retorno","text":""},{"location":"pages/WebCheckout/ApiDeReferencia/CodigosRetorno/#possiveis-codigos-de-retorno","title":"Poss\u00edveis c\u00f3digos de retorno","text":"C\u00f3digo Descri\u00e7\u00e3o 0 Sucesso 1 N\u00e3o autenticado/Alguma das informa\u00e7\u00f5es fornecidas para autentica\u00e7\u00e3o n\u00e3o \u00e9 v\u00e1lida 7 Erro interno no Paykit Checkout 9 Ocorre quando qualquer opera\u00e7\u00e3o \u00e9 realizada sem que se tenha finalizado o \u00faltimo pagamento 15 Existem pagamentos pendentes de uma sess\u00e3o de multiplos pagamentos n\u00e3o finalizada."},{"location":"pages/WebCheckout/ApiDeReferencia/ImportandoWebCheckout/","title":"Importando o Web Checkout","text":""},{"location":"pages/WebCheckout/ApiDeReferencia/ImportandoWebCheckout/#importando-web-checkout","title":"Importando Web Checkout","text":"<p>O Paykit Checkout \u00e9 uma API JavaScript, por isso \u00e9 muito simples importa-la, basta incluir na sua p\u00e1gina o seguinte tag ao lado:</p> <pre><code>&lt;script type=\"text/javascript\" src=\"AGUARDANDO_LIBERACAO_LINK_INVALIDO/paykit-checkout.js\"&gt;&lt;/script&gt;\n</code></pre>"},{"location":"pages/WebCheckout/ApiDeReferencia/SolicitaInformacoesPinpad/","title":"Solicitando informa\u00e7\u00f5es pelo Pinpad","text":""},{"location":"pages/WebCheckout/ApiDeReferencia/SolicitaInformacoesPinpad/#solicitando-informacoes-pelo-pinpad","title":"Solicitando informa\u00e7\u00f5es pelo Pinpad","text":"<p>Utilizando esta fun\u00e7\u00e3o, \u00e9 poss\u00edvel solicitar informa\u00e7\u00f5es a serem digitadas no pinpad. As op\u00e7\u00f5es consistem em: CPF, Telefone/Celular e senha.</p> <pre><code>//N\u00e3o esque\u00e7a de realizar a autentica\u00e7\u00e3o aqui.\nvar success = function (response) {\n  console.log(response.pinpadValue);\n};\n\nvar error = function (response) {\n  console.log(response.reason);\n};\n\nvar inputType = 1; // CPF\n\ncheckout.getPinpadInformation({ inputType: inputType }, success, error);\n</code></pre>"},{"location":"pages/WebCheckout/ApiDeReferencia/SolicitaInformacoesPinpad/#request-para-informacoes-do-pinpad","title":"Request para informa\u00e7\u00f5es do Pinpad","text":"Par\u00e2metro Obrigat\u00f3rio? Tipo Descri\u00e7\u00e3o inputType Sim number Tipo de informa\u00e7\u00e3o a ser solicitada no pinpad. Consulte a tabela abaixo para os valores."},{"location":"pages/WebCheckout/ApiDeReferencia/SolicitaInformacoesPinpad/#tipos-de-informacao","title":"Tipos de informa\u00e7\u00e3o","text":"Tipo Valor Descri\u00e7\u00e3o Cpf 1 Representa um n\u00famero do documento CPF, que contem 11 d\u00edgitos. Telefone/Celular 2 Representa um n\u00famero de telefone ou celular, contendo 10 ou 11 d\u00edgitos. DDD + N\u00famero, exemplo: (00) 91234-1234 ou (00) 1234-1234 Senha 3 Representa uma senha num\u00e9rica de 4 a 12 d\u00edgitos."},{"location":"pages/WebCheckout/ApiDeReferencia/SolicitaInformacoesPinpad/#callback-de-sucesso","title":"Callback de sucesso","text":"<p>Ser\u00e1 executado o callback de sucesso logo em que for confirmada a informa\u00e7\u00e3o no Pinpad:</p> Propriedade Tipo Descri\u00e7\u00e3o reasonCode number C\u00f3digo que representa o motivo pelo qual a opera\u00e7\u00e3o foi negada, as possibilidades deste c\u00f3digo podem ser consultadas nas tabelas C\u00f3digos de motivo para opera\u00e7\u00f5es negadas e Poss\u00edveis c\u00f3digos de retorno reason string Descreve o motivo pelo qual a opera\u00e7\u00e3o foi negada."},{"location":"pages/WebCheckout/ApiDeReferencia/FuncoesAdministrativas/","title":"Fun\u00e7\u00f5es Administrativas","text":""},{"location":"pages/WebCheckout/ApiDeReferencia/FuncoesAdministrativas/#funcoes-administrativas","title":"Fun\u00e7\u00f5es Administrativas","text":"<p>Abaixo ser\u00e3o descritas todas as fun\u00e7\u00f5es administrativas disponibilizadas pelo Paykit Checkout.</p>"},{"location":"pages/WebCheckout/ApiDeReferencia/FuncoesAdministrativas/CancelamentoPagamento/","title":"Cancelamento de pagamentos","text":""},{"location":"pages/WebCheckout/ApiDeReferencia/FuncoesAdministrativas/CancelamentoPagamento/#cancelamento-de-pagamentos","title":"Cancelamento de pagamentos","text":"<pre><code>//N\u00e3o esque\u00e7a de realizar a autentica\u00e7\u00e3o aqui.\nvar request = {\n    administrativeCode: '000000000'\n};\n\nvar success = function(response) {\n    // callback para cancelamento bem sucedido\n    console.log(response.administrativeCode);\n    console.log(response.receipt.merchantReceipt);\n};\n\nvar error = function(response) {\n    // callback para cancelamento que falhou\n    console.log(response.reason);\n};\n\ncheckout.paymentReversal(request, success, error);\n</code></pre>"},{"location":"pages/WebCheckout/ApiDeReferencia/FuncoesAdministrativas/CancelamentoPagamento/#request-para-cancelamento","title":"Request para cancelamento","text":"Par\u00e2metro Descri\u00e7\u00e3o administrativeCode Identificador \u00fanico para pagamentos, \u00e9 devolvido quando a transa\u00e7\u00e3o \u00e9 autorizada mas tamb\u00e9m pode ser consultado no portal de transa\u00e7\u00f5es Linx TEF <p>Importante!</p> <p>No caso de uma transa\u00e7\u00e3o conter uma ordem de split esta ser\u00e1 cancelado tamb\u00e9m.</p>"},{"location":"pages/WebCheckout/ApiDeReferencia/FuncoesAdministrativas/ReimpressaoEspecifica/","title":"Reimpress\u00e3o Espec\u00edfica","text":""},{"location":"pages/WebCheckout/ApiDeReferencia/FuncoesAdministrativas/ReimpressaoEspecifica/#reimpressao-especifica","title":"Reimpress\u00e3o Espec\u00edfica","text":"<p>Para a reimpress\u00e3o de uma transa\u00e7\u00e3o espec\u00edfica deve-se enviar na requisi\u00e7\u00e3o o n\u00famero de controle da transa\u00e7\u00e3o.</p> <pre><code>function reprint() {\n  var request={ \n    administrativeCode:'00000000000'(Numero de identifica\u00e7\u00e3o \u00fanico) \n  }\n  checkout.reprint(request, success, error);\n}\n</code></pre> Propriedade Tipo Obrigat\u00f3rio Descri\u00e7\u00e3o N\u00fameroControle string Sim N\u00famero de controle da transa\u00e7\u00e3o a ser reimpressa <p>Sempre ser\u00e3o retornadas as duas vias do comprovante (Lojista e Cliente)</p>"},{"location":"pages/WebCheckout/ApiDeReferencia/FuncoesAdministrativas/ReimpressaoUltimoComprovante/","title":"Reimpress\u00e3o do \u00daltimo Comprovante","text":""},{"location":"pages/WebCheckout/ApiDeReferencia/FuncoesAdministrativas/ReimpressaoUltimoComprovante/#reimpressao-do-ultimo-comprovante","title":"Reimpress\u00e3o do \u00daltimo Comprovante","text":"<p>Para a reimpress\u00e3o da \u00faltima transa\u00e7\u00e3o a automa\u00e7\u00e3o dever\u00e1 chamar apenas o m\u00e9todo abaixo:</p> <pre><code>function reprintLast() {\n  checkout.reprintLast(success,error);\n}\n</code></pre>"},{"location":"pages/WebCheckout/ApiDeReferencia/FuncoesAdministrativas/ResolucaoPendencia/","title":"M\u00e9todo de resolu\u00e7\u00e3o de pend\u00eancia via N\u00famero de Controle","text":""},{"location":"pages/WebCheckout/ApiDeReferencia/FuncoesAdministrativas/ResolucaoPendencia/#resolucao-de-pendencia-via-numero-de-controle","title":"Resolu\u00e7\u00e3o de pend\u00eancia via N\u00famero de Controle","text":"<p>Para resolver alguma transa\u00e7\u00e3o pendente, basta enviar o n\u00famero de controle da transa\u00e7\u00e3o</p> <pre><code>//N\u00e3o esque\u00e7a de realizar a autentica\u00e7\u00e3o aqui.\nvar success = function(response) {\n  // callback para pagamento pesquisado\n  console.log(response.success);\n  console.log(response.administrativeCode);\n};\nvar error = function(response) {\n  // callback para pesquisa que falhou\n  console.log(response.reason);\n};\n//para desfazer\ncheckout.undoPendingPayment({ administrativeCode: \u201c123\u201d }, success, error);\n//para confirmar\ncheckout.confirmPendingPayment({ administrativeCode: \u201c123\u201d }, success, error);\n</code></pre>"},{"location":"pages/WebCheckout/ApiDeReferencia/MultiplosPagamentos/","title":"Inicializando uma sess\u00e3o de multiplos pagamentos","text":""},{"location":"pages/WebCheckout/ApiDeReferencia/MultiplosPagamentos/#inicializando-uma-sessao-de-multiplos-pagamentos","title":"Inicializando uma sess\u00e3o de multiplos pagamentos","text":"<p>A funcionalidade de m\u00faltiplos pagamentos do Paykit Checkout \u00e9 um pouco diferente do mercado. Desenvolvemos ela em busca de facilitar a vida do varejista. Ou seja, caso ocorra algum erro durante o m\u00faltiplos pagamentos o varejista n\u00e3o vai precisar cancelar as transa\u00e7\u00f5es uma a uma, com um simples comando de cancelamento por meio da sua automa\u00e7\u00e3o, ele poder\u00e1 cancelar todas as transa\u00e7\u00f5es que foram realizadas dentro da sess\u00e3o M\u00faltiplos Pagamentos.</p> <p>Assim que o \u00faltimo pagamento da sess\u00e3o m\u00faltiplos pagamentos for autorizado, automaticamente todos os pagamentos ser\u00e3o confirmados, n\u00e3o h\u00e1 necessidade de enviar nenhum comando para isso. A sess\u00e3o m\u00faltiplos cart\u00f5es \u00e9 representada pelo fluxograma abaixo:</p> <p></p> <pre><code>//N\u00e3o esque\u00e7a de realizar a autentica\u00e7\u00e3o aqui.\nvar complete = function(){\n    console.log('Sess\u00e3o multiplos pagamentos finalizada com sucesso!');    \n};\ncheckout.startMultiplePayments(3, complete);\n</code></pre> Par\u00e2metro Tipo Descri\u00e7\u00e3o numberOfPayments number N\u00famero de pagamentos dentro da sess\u00e3o multiplos pagamentos. complete function Callback que ser\u00e1 acionado assim que a sess\u00e3o multiplos pagamentos for finalizada."},{"location":"pages/WebCheckout/ApiDeReferencia/MultiplosPagamentos/ConfirmaDesfazPagamento/","title":"Confirmando ou desfazendo os pagamentos","text":""},{"location":"pages/WebCheckout/ApiDeReferencia/MultiplosPagamentos/ConfirmaDesfazPagamento/#confirmando-ou-desfazendo-os-pagamentos","title":"Confirmando ou desfazendo os pagamentos","text":"<p>Para finalizar uma sess\u00e3o m\u00faltiplos cart\u00f5es antes que se tenha aprovado a quantidade de pagamentos informada, basta confirmar (confirmPayments) ou desfazer (undoPayments) os pagamentos pendentes. Refor\u00e7amos que os pagamentos ser\u00e3o aprovados automaticamente ao terminar a sess\u00e3o, a confirma\u00e7\u00e3o ou desfazimento \u00e9 necess\u00e1ria apenas para encerrar a sess\u00e3o antes do \u00faltimo pagamento, por exemplo: Foram informados 5 pagamentos para sess\u00e3o, por\u00e9m ao final do 3\u00b0 surgiu a necessidade desfazer todos os anteriores, nesse momento deve ser chamada a fun\u00e7\u00e3o undoPayments.</p> <pre><code>//N\u00e3o esque\u00e7a de realizar a autentica\u00e7\u00e3o aqui.\nif (confirm('Deseja encerrar a sess\u00e3o multiplos pagamentos?')){\n\n    if (confirm('Clique em \"Ok\" para confirmar os pagamentos da sess\u00e3o ou \"Cancel\" para desfaze-los')){\n        checkout.confirmPayments();\n    } else {\n        checkout.undoPayments();\n    }\n}\n</code></pre> <p>Importante!</p> <p>Existe um limite de no m\u00e1ximo 9 cart\u00f5es para uma sess\u00e3o.</p>"},{"location":"pages/WebCheckout/ApiDeReferencia/Pagamento/","title":"Pagamento","text":""},{"location":"pages/WebCheckout/ApiDeReferencia/Pagamento/#pagamento","title":"Pagamento","text":"<p>Abaixo ser\u00e3o descritas todas as formas de pagamento disponibilizadas pelo Paykit Checkout.</p>"},{"location":"pages/WebCheckout/ApiDeReferencia/Pagamento/PagamentoCrediario/","title":"Pagamento Credi\u00e1rio","text":""},{"location":"pages/WebCheckout/ApiDeReferencia/Pagamento/PagamentoCrediario/#pagamento-crediario","title":"Pagamento Credi\u00e1rio","text":"<p>Assim como o pagamento cr\u00e9dito o credi\u00e1rio tamb\u00e9m necessita de alguns dados a mais para facilitar o seu processamento.</p> <pre><code>//N\u00e3o esque\u00e7a de realizar a autentica\u00e7\u00e3o aqui.\nvar request = {\n    amount: 10,\n    installments: 3,\n    requestKey: 'identificacao3'\n};\n\nvar success = function(response) {\n    // callback para pagamento bem sucedido\n    console.log(response.administrativeCode);\n    console.log(response.receipt.merchantReceipt);\n};\n\nvar error = function(response) {\n    // callback para pagamento que falhou\n    console.log(response.reason);\n};\n\ncheckout.splittedDebitPayment(request, success, error);\n</code></pre>"},{"location":"pages/WebCheckout/ApiDeReferencia/Pagamento/PagamentoCrediario/#request-para-pagamento-crediario","title":"Request para pagamento credi\u00e1rio","text":"Par\u00e2metro Obrigat\u00f3rio? Tipo Descri\u00e7\u00e3o amount SIm float Valor do pagamento installments Sim number Quantidade de parcelas do pagamento requestKey Sim string Chave \u00fanica enviada pela Automa\u00e7\u00e3o Comercial para identificar uma transa\u00e7\u00e3o <p>Importante!</p> <p>Para detalhamento das fun\u00e7\u00f5es de retorno consulte as se\u00e7\u00f5es Callback de sucesso e Callback de erro</p>"},{"location":"pages/WebCheckout/ApiDeReferencia/Pagamento/PagamentoCredito/","title":"Pagamento Cr\u00e9dito","text":""},{"location":"pages/WebCheckout/ApiDeReferencia/Pagamento/PagamentoCredito/#pagamento-credito","title":"Pagamento Cr\u00e9dito","text":"<p>O pagamento cr\u00e9dito tamb\u00e9m \u00e9 bem simples, por\u00e9m precisamos de alguns dados a mais para configura-lo, como quantidade de parcelas e a configura\u00e7\u00e3o de parcelamento (confira logo abaixo para mais detalhes).</p> <pre><code>//N\u00e3o esque\u00e7a de realizar a autentica\u00e7\u00e3o aqui.\nvar request = {\n    amount: 10,\n    installments: 3,\n    installmentType: 1, //Parcelamento Administradora\n    requestKey: 'identificacao2'\n};\n\nvar success = function(response) {\n    // callback para pagamento bem sucedido\n    console.log(response.administrativeCode);\n    console.log(response.receipt.merchantReceipt);\n};\n\nvar error = function(response) {\n    // callback para pagamento que falhou\n    console.log(response.reason);\n};\n\ncheckout.creditPayment(request, success, error);\n</code></pre>"},{"location":"pages/WebCheckout/ApiDeReferencia/Pagamento/PagamentoCredito/#request-para-pagamento-credito","title":"Request para pagamento cr\u00e9dito","text":"Par\u00e2metro Obrigat\u00f3rio? Tipo Descri\u00e7\u00e3o amount Sim number Valor do pagamento installments Sim number Determina a quantidade de parcelas do pagamento, caso seja informado 1 a venda ser\u00e1 realizada como cr\u00e9dito \u00e0 vista, caso seja maior que isso ser\u00e1 um cr\u00e9dito parcelado. Caso n\u00e3o seja informado o valor default \u00e9 igual a 1, ou seja, a venda ser\u00e1 considerada automaticamente a vista. installmentType Somente se installments for maior que 1 number Determina a configura\u00e7\u00e3o do parcelamento, verifique a tabela Tipos de Parcelamento para consultar os valores poss\u00edveis requestKey Sim string Chave \u00fanica enviada pela Automa\u00e7\u00e3o Comercial para identificar uma transa\u00e7\u00e3o"},{"location":"pages/WebCheckout/ApiDeReferencia/Pagamento/PagamentoCredito/#tipos-de-parcelamento","title":"Tipos de Parcelamento","text":"C\u00f3digo Descri\u00e7\u00e3o 1 Parcelamento Administradora - Configura\u00e7\u00e3o de parcelamento em que os juros s\u00e3o arcados pelo banco ou administradora, o limite de parcelas e valor m\u00ednimo s\u00e3o pr\u00e9-estabelecidos e a venda n\u00e3o \u00e9 tratada como parcelada para o lojista sendo assim o valor ser\u00e1 depoistado integralmente em sua conta banc\u00e1ria. O cliente ir\u00e1 pagar as presta\u00e7\u00f5es com juros que ser\u00e3o revertidos para o banco/administradora do cart\u00e3o 2 Parcelamento Lojista - \u00c9 o parcelamento em que a quantidade de parcelas \u00e9 definida no ato da compra. O limite de quantidade de parcelas e valor m\u00ednimo para cada uma pode ser determinado nas configura\u00e7\u00f5es do Paykit Checkout. O lojista ir\u00e1 receber os cr\u00e9ditos mensalmente em sua conta e o custo pelo financiamento \u00e9 definido e arcado pelo pr\u00f3prio estabelecimento <p>Aten\u00e7\u00e3o!</p> <p>Para detalhamento das fun\u00e7\u00f5es de retorno consulte as se\u00e7\u00f5es Callback de sucesso e Callback de erro</p>"},{"location":"pages/WebCheckout/ApiDeReferencia/Pagamento/PagamentoDebito/","title":"Pagamento D\u00e9bito / Voucher","text":""},{"location":"pages/WebCheckout/ApiDeReferencia/Pagamento/PagamentoDebito/#pagamento-debito-voucher","title":"Pagamento D\u00e9bito / Voucher","text":"<p>Para realizar um pagamento d\u00e9bito ou voucher \u00e9 bem simples, basta informar o valor a ser debitado. Inserir no exemplo de requisi\u00e7\u00e3o o valor da transa\u00e7\u00e3o (amount) e o ID da transa\u00e7\u00e3o (requestKey).</p> <pre><code>//N\u00e3o esque\u00e7a de realizar a autentica\u00e7\u00e3o aqui.\nvar request = {\n    amount: 10,\n    requestKey: 'identificacao1'\n};\n\nvar success = function(response) {\n    // callback para pagamento bem sucedido\n    console.log(response.administrativeCode);\n    console.log(response.receipt.merchantReceipt);\n};\n\nvar error = function(response) {\n    // callback para pagamento que falhou\n    console.log(response.reason);\n};\ncheckout.debitPayment({ amount: 10 }, success, error);\n</code></pre>"},{"location":"pages/WebCheckout/ApiDeReferencia/Pagamento/PagamentoDebito/#request-para-pagamento-debito-voucher","title":"Request para pagamento d\u00e9bito / voucher","text":"Par\u00e2metro Obrigat\u00f3rio? Tipo Descri\u00e7\u00e3o amount Sim float Valor do pagamento requestKey Sim string Chave \u00fanica enviada pela Automa\u00e7\u00e3o Comercial para identificar uma transa\u00e7\u00e3o <p>Aten\u00e7\u00e3o!</p> <p>Para detalhamento das fun\u00e7\u00f5es de retorno consulte as se\u00e7\u00f5es Callback de sucesso e Callback de erro</p>"},{"location":"pages/WebCheckout/ApiDeReferencia/RealizandoAutenticacao/","title":"Realizando Autentica\u00e7\u00e3o","text":""},{"location":"pages/WebCheckout/ApiDeReferencia/RealizandoAutenticacao/#realizando-a-autenticacao","title":"Realizando a autentica\u00e7\u00e3o","text":"<p>Antes de realizar seus pagamentos ser\u00e1 necess\u00e1rio autenticar o seu PDV, para isso a API disponibiliza a fun\u00e7\u00e3o authenticate.</p> <p>Callback</p> <p>Nosso Paykit Checkout tem callbacks de forma sincrona, ou seja, espere a resposta antes de prosseguir.</p> <pre><code>var authenticationRequest = {\n    authenticationKey: 'INFORME O CNPJ DA LOJA CONFIGURADA NO PAYKIT (somente os n\u00fameros)'\n};\n\nvar success = function(response) {\n    // callback para autentica\u00e7\u00e3o bem sucedida\n    console.log(response.reason);\n};\n\nvar error = function(response) {\n    // callback para autentica\u00e7\u00e3o que falhou\n    console.log(response.reason);\n};\n\nvar handlePendingPayments = function(response) {\n    // callback para notifica\u00e7\u00e3o de transa\u00e7\u00f5es pendentes\n    console.log(response.details.administrativeCodes)\n};\n\n// inst\u00e2ncia do WebCheckout\nvar checkout = PaykitCheckout.authenticate(authenticationRequest, success, error, handlePendingPayments);\n</code></pre> <p>Essa fun\u00e7\u00e3o retorna uma inst\u00e2ncia do Paykit Checkout, atrav\u00e9s dela voc\u00ea ter\u00e1 acesso a todas as fun\u00e7\u00f5es disponibilizadas pela API, que ser\u00e3o descritas mais abaixo.</p>"},{"location":"pages/WebCheckout/ApiDeReferencia/RealizandoAutenticacao/#request-para-autenticacao","title":"Request para autentica\u00e7\u00e3o","text":"Par\u00e2metro Obrigat\u00f3rio? Tipo Descri\u00e7\u00e3o authenticationKey Sim string \u00c9 o CNPJ da loja que est\u00e1 utilizando o TEF Linx, precisa ser equivalente ao que est\u00e1 configurado no Paykit Checkout."},{"location":"pages/WebCheckout/ApiDeReferencia/RealizandoAutenticacao/CallbackDeErro/","title":"Callback de erro","text":""},{"location":"pages/WebCheckout/ApiDeReferencia/RealizandoAutenticacao/CallbackDeErro/#callback-de-erro","title":"Callback de erro","text":"<p>Ser\u00e1 executado o callback de erro quando n\u00e3o for poss\u00edvel autenticar com o Paykit Checkout, atrav\u00e9s dele ser\u00e1 passado os seguintes par\u00e2metros:</p> Propriedade Tipo Descri\u00e7\u00e3o reasonCode number C\u00f3digo que representa o motivo pelo qual a opera\u00e7\u00e3o foi negada, as possibilidades deste c\u00f3digo podem ser consultadas nas tabelas C\u00f3digos de motivo para opera\u00e7\u00f5es negadas e Poss\u00edveis c\u00f3digos de retorno reason string Descreve o motivo pelo qual a opera\u00e7\u00e3o foi negada"},{"location":"pages/WebCheckout/ApiDeReferencia/RealizandoAutenticacao/CallbackDeSucesso/","title":"Callback de Sucesso","text":""},{"location":"pages/WebCheckout/ApiDeReferencia/RealizandoAutenticacao/CallbackDeSucesso/#callback-de-sucesso","title":"Callback de sucesso","text":"<p>Ser\u00e1 executado o callback de sucesso quando a autentica\u00e7\u00e3o for bem sucedida, atrav\u00e9s dele ser\u00e1 passado os seguintes par\u00e2metros:</p> Propriedade Tipo Descri\u00e7\u00e3o authenticated bool Confirma\u00e7\u00e3o da autentica\u00e7\u00e3o efetuada com sucesso. <p>Sincrono</p> <p>Aguarde o callback antes de prosseguir</p>"},{"location":"pages/WebCheckout/ApiDeReferencia/RealizandoAutenticacao/CallbackDeTransacoesPendentes/","title":"Callback de transa\u00e7\u00f5es pendentes no m\u00faltiplos pagamentos","text":""},{"location":"pages/WebCheckout/ApiDeReferencia/RealizandoAutenticacao/CallbackDeTransacoesPendentes/#callback-de-transacoes-pendentes-no-multiplos-pagamentos","title":"Callback de transa\u00e7\u00f5es pendentes no m\u00faltiplos pagamentos","text":"<p>Ser\u00e1 executado o callback de transa\u00e7\u00f5es pendentes caso a \u00faltima sess\u00e3o de m\u00faltiplos pagamentos tenha ficado em aberto.</p> <p>Por exemplo: Foi informada a quantidade de 5 pagamentos para iniciar a sess\u00e3o de m\u00faltiplos pagamentos, por\u00e9m ao final do 3\u00b0 ocorreu um erro e a p\u00e1gina foi recarregada, no momento que for realizada a autentica\u00e7\u00e3o novamente, essa fun\u00e7\u00e3o ser\u00e1 chamada, o c\u00f3digo administrativo dos 3 pagamentos realizados ser\u00e1 informado e nesse momento voc\u00ea deve confirmar ou desfazer as transa\u00e7\u00f5es para finalizar a sess\u00e3o pendente. Veja mais detalhes na sess\u00e3o de Multiplos pagamentos.</p> Propriedade Tipo Descri\u00e7\u00e3o reasonCode number C\u00f3digo que representa o motivo pelo qual a opera\u00e7\u00e3o foi negada, as possibilidades deste c\u00f3digo podem ser consultadas nas tabelas C\u00f3digos de motivo para opera\u00e7\u00f5es negadas e Poss\u00edveis c\u00f3digos de retorno details object Objeto contendo os c\u00f3digos administrativos das transa\u00e7\u00f5es que ficaram pendentes da sess\u00e3o de multiplos pagamentos. <p>Para detalhamento dos c\u00f3digos de retorno consulte a tabela 'Poss\u00edveis c\u00f3digos de retorno'</p> <p>Obs: Caso a chave utilizada seja inv\u00e1lida, o Paykit Checkout n\u00e3o ir\u00e1 autenticar a integra\u00e7\u00e3o.</p>"}]}